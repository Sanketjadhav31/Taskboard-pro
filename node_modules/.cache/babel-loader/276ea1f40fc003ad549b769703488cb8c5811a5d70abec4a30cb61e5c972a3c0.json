{"ast":null,"code":"import React,{useState,useEffect,useContext,useMemo}from'react';import{Link}from'react-router-dom';import axios from'axios';import{ProjectContext}from'../context/ProjectContext';import{ChatContext}from'../context/ChatContext';import{ThemeContext}from'../context/ThemeContext';import{AuthContext}from'../context/AuthContext';import Chat from'../components/Chat';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ChatPage=()=>{const{projects,loading:projectsLoading}=useContext(ProjectContext);const{unreadCounts,totalUnreadCount,onlineUsers,connectionStatus,reconnect}=useContext(ChatContext);const{darkMode}=useContext(ThemeContext);const{user}=useContext(AuthContext);const[selectedProject,setSelectedProject]=useState(null);const[loadingProjects,setLoadingProjects]=useState(true);const[error,setError]=useState('');const[isReconnecting,setIsReconnecting]=useState(false);// Set loading state based on project context\nuseEffect(()=>{setLoadingProjects(projectsLoading);},[projectsLoading]);// Update reconnecting state based on connection status\nuseEffect(()=>{if(connectionStatus==='connecting'){setIsReconnecting(true);}else{setIsReconnecting(false);}},[connectionStatus]);// Select the first project by default or the one with unread messages\nuseEffect(()=>{if(projects.length>0&&!selectedProject){// First look for a project with unread messages\nconst projectWithUnread=projects.find(project=>unreadCounts[project._id]>0);if(projectWithUnread){setSelectedProject(projectWithUnread);}else{// Otherwise just select the first project\nsetSelectedProject(projects[0]);}}},[projects,unreadCounts,selectedProject]);const handleSelectProject=project=>{setSelectedProject(project);};// Handle manual reconnection\nconst handleReconnect=()=>{setIsReconnecting(true);reconnect();};// Sorted projects with unread messages first\nconst sortedProjects=useMemo(()=>{if(!projects)return[];return[...projects].sort((a,b)=>{// Projects with unread messages come first\nconst aUnread=unreadCounts[a._id]||0;const bUnread=unreadCounts[b._id]||0;if(aUnread>0&&bUnread===0)return-1;if(bUnread>0&&aUnread===0)return 1;// Then sort by unread count\nif(aUnread!==bUnread)return bUnread-aUnread;// Finally sort alphabetically\nreturn a.name.localeCompare(b.name);});},[projects,unreadCounts]);// Check if a user is online\nconst isUserOnline=userId=>{return onlineUsers&&onlineUsers.includes(userId);};if(loadingProjects){return/*#__PURE__*/_jsx(\"div\",{className:\"linear-loading flex items-center justify-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"linear-spinner dark:border-gray-600 dark:border-t-primary-400\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"linear-fade-in\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-2\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-800 dark:text-gray-100\",children:\"Project Chats\"}),connectionStatus!=='connected'&&/*#__PURE__*/_jsx(\"button\",{onClick:handleReconnect,disabled:isReconnecting,className:\"flex items-center px-3 py-1.5 text-sm font-medium rounded-md bg-primary-600 hover:bg-primary-700 disabled:bg-gray-400 text-white transition-colors duration-150\",children:isReconnecting?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"animate-spin -ml-1 mr-2 h-4 w-4 text-white\",xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"circle\",{className:\"opacity-25\",cx:\"12\",cy:\"12\",r:\"10\",stroke:\"currentColor\",strokeWidth:\"4\"}),/*#__PURE__*/_jsx(\"path\",{className:\"opacity-75\",fill:\"currentColor\",d:\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"})]}),\"Reconnecting...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-4 w-4 mr-1\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"})}),\"Reconnect\"]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1 mb-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400\",children:\"Communicate with your team in real-time.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"status-indicator ml-2\",children:connectionStatus==='connected'?/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center text-sm text-green-600 dark:text-green-400\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"inline-block h-2 w-2 rounded-full bg-green-500 mr-1\"}),\"Connected\"]}):connectionStatus==='connecting'?/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center text-sm text-yellow-600 dark:text-yellow-400\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"inline-block h-2 w-2 rounded-full bg-yellow-500 mr-1 animate-pulse\"}),\"Connecting...\"]}):connectionStatus==='disconnected'?/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center text-sm text-red-600 dark:text-red-400\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"inline-block h-2 w-2 rounded-full bg-red-500 mr-1\"}),\"Disconnected\",/*#__PURE__*/_jsx(\"button\",{onClick:handleReconnect,className:\"ml-2 underline text-xs\",disabled:isReconnecting,children:isReconnecting?'Reconnecting...':'Try reconnecting'})]}):connectionStatus==='error'?/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center text-sm text-red-600 dark:text-red-400\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"inline-block h-2 w-2 rounded-full bg-red-500 mr-1\"}),\"Connection Error\",/*#__PURE__*/_jsx(\"button\",{onClick:handleReconnect,className:\"ml-2 underline text-xs\",disabled:isReconnecting,children:isReconnecting?'Reconnecting...':'Try reconnecting'})]}):null})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"linear-card dark:bg-gray-800 dark:border-gray-700 transition-all duration-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"linear-card-header dark:border-gray-700 flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold dark:text-white\",children:\"Your Projects\"}),totalUnreadCount>0&&/*#__PURE__*/_jsx(\"span\",{className:\"inline-block py-1 px-2 text-xs font-semibold rounded-full bg-primary-600 dark:bg-primary-700 text-white\",children:totalUnreadCount})]}),/*#__PURE__*/_jsx(\"div\",{className:\"linear-card-body p-0\",children:sortedProjects.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"linear-list divide-y divide-gray-200 dark:divide-gray-700 max-h-96 overflow-y-auto\",children:sortedProjects.map(project=>/*#__PURE__*/_jsxs(\"button\",{className:\"w-full text-left p-4 hover:bg-gray-50 dark:hover:bg-gray-700/70 transition-colors duration-200 flex items-center justify-between \".concat((selectedProject===null||selectedProject===void 0?void 0:selectedProject._id)===project._id?'bg-primary-50 dark:bg-primary-900/30':''),onClick:()=>handleSelectProject(project),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 rounded-full mr-2\",style:{backgroundColor:project.color||'#6366f1'}}),/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium dark:text-white\",children:project.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[unreadCounts[project._id]>0&&/*#__PURE__*/_jsx(\"span\",{className:\"inline-block py-1 px-2 text-xs font-semibold rounded-full bg-primary-600 dark:bg-primary-700 text-white mr-2\",children:unreadCounts[project._id]}),project.members&&project.members.some(member=>isUserOnline(member._id))&&/*#__PURE__*/_jsx(\"span\",{className:\"inline-block h-2 w-2 rounded-full bg-green-500\"})]})]},project._id))}):/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 text-center\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-12 w-12 mx-auto text-gray-400 dark:text-gray-500 mb-4\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:1.5,d:\"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 dark:text-gray-400 mb-3\",children:\"No projects found\"}),/*#__PURE__*/_jsxs(Link,{to:\"/projects\",className:\"inline-flex items-center text-primary-600 dark:text-primary-400 hover:underline\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-5 w-5 mr-1\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 4v16m8-8H4\"})}),\"Create a new project\"]})]})})]}),selectedProject&&/*#__PURE__*/_jsxs(\"div\",{className:\"linear-card dark:bg-gray-800 dark:border-gray-700 transition-all duration-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"linear-card-header dark:border-gray-700\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold dark:text-white\",children:\"Project Details\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"linear-card-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-gray-500 dark:text-gray-400\",children:\"Description\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-800 dark:text-gray-200\",children:selectedProject.description||'No description provided.'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-gray-500 dark:text-gray-400\",children:\"Team Members\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap items-center mt-2\",children:selectedProject.members&&selectedProject.members.length>0?selectedProject.members.map(member=>{var _member$displayName,_member$email;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mr-4 mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"linear-avatar linear-avatar-sm dark:bg-gray-700 mr-2 relative\",children:[member.photo?/*#__PURE__*/_jsx(\"img\",{src:member.photo,alt:member.displayName||'Member',className:\"h-full w-full object-cover\"}):/*#__PURE__*/_jsx(\"span\",{children:((_member$displayName=member.displayName)===null||_member$displayName===void 0?void 0:_member$displayName.charAt(0))||((_member$email=member.email)===null||_member$email===void 0?void 0:_member$email.charAt(0))||'?'}),isUserOnline(member._id)&&/*#__PURE__*/_jsx(\"span\",{className:\"absolute -bottom-1 -right-1 h-2.5 w-2.5 rounded-full bg-green-500 border border-white dark:border-gray-800\"})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm dark:text-gray-200\",children:[member.displayName||member.email,member._id===(user===null||user===void 0?void 0:user._id)&&/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-500 dark:text-gray-400 ml-1\",children:\"(you)\"})]})]},member._id);}):/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 dark:text-gray-400\",children:\"No team members\"})})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Link,{to:\"/projects/\".concat(selectedProject._id),className:\"text-primary-600 dark:text-primary-400 hover:underline text-sm flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-4 w-4 mr-1\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M13 7l5 5m0 0l-5 5m5-5H6\"})}),\"View Project Details\"]})})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"lg:col-span-2\",children:selectedProject?/*#__PURE__*/_jsx(Chat,{chatId:selectedProject._id,title:\"Chat - \".concat(selectedProject.name),height:\"70vh\",fullWidth:true}):/*#__PURE__*/_jsx(\"div\",{className:\"linear-card dark:bg-gray-800 dark:border-gray-700 h-70vh flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-8\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-16 w-16 mx-auto text-gray-400 dark:text-gray-500 mb-4\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:1,d:\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-700 dark:text-gray-300 mb-2\",children:\"Select a Project\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400 max-w-md\",children:\"Choose a project from the list to start chatting with your team members in real-time.\"})]})})})]})]});};export default ChatPage;","map":{"version":3,"names":["React","useState","useEffect","useContext","useMemo","Link","axios","ProjectContext","ChatContext","ThemeContext","AuthContext","Chat","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ChatPage","projects","loading","projectsLoading","unreadCounts","totalUnreadCount","onlineUsers","connectionStatus","reconnect","darkMode","user","selectedProject","setSelectedProject","loadingProjects","setLoadingProjects","error","setError","isReconnecting","setIsReconnecting","length","projectWithUnread","find","project","_id","handleSelectProject","handleReconnect","sortedProjects","sort","a","b","aUnread","bUnread","name","localeCompare","isUserOnline","userId","includes","className","children","onClick","disabled","xmlns","fill","viewBox","cx","cy","r","stroke","strokeWidth","d","strokeLinecap","strokeLinejoin","map","concat","style","backgroundColor","color","members","some","member","to","description","_member$displayName","_member$email","photo","src","alt","displayName","charAt","email","chatId","title","height","fullWidth"],"sources":["C:/Users/DELL/OneDrive/Desktop/collabeaseproject/collabeasesorce/collabease/client/src/pages/ChatPage.jsx"],"sourcesContent":["import React, { useState, useEffect, useContext, useMemo } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { ProjectContext } from '../context/ProjectContext';\r\nimport { ChatContext } from '../context/ChatContext';\r\nimport { ThemeContext } from '../context/ThemeContext';\r\nimport { AuthContext } from '../context/AuthContext';\r\nimport Chat from '../components/Chat';\r\n\r\nconst ChatPage = () => {\r\n  const { projects, loading: projectsLoading } = useContext(ProjectContext);\r\n  const { unreadCounts, totalUnreadCount, onlineUsers, connectionStatus, reconnect } = useContext(ChatContext);\r\n  const { darkMode } = useContext(ThemeContext);\r\n  const { user } = useContext(AuthContext);\r\n  const [selectedProject, setSelectedProject] = useState(null);\r\n  const [loadingProjects, setLoadingProjects] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [isReconnecting, setIsReconnecting] = useState(false);\r\n  \r\n  // Set loading state based on project context\r\n  useEffect(() => {\r\n    setLoadingProjects(projectsLoading);\r\n  }, [projectsLoading]);\r\n\r\n  // Update reconnecting state based on connection status\r\n  useEffect(() => {\r\n    if (connectionStatus === 'connecting') {\r\n      setIsReconnecting(true);\r\n    } else {\r\n      setIsReconnecting(false);\r\n    }\r\n  }, [connectionStatus]);\r\n\r\n  // Select the first project by default or the one with unread messages\r\n  useEffect(() => {\r\n    if (projects.length > 0 && !selectedProject) {\r\n      // First look for a project with unread messages\r\n      const projectWithUnread = projects.find(project => unreadCounts[project._id] > 0);\r\n      \r\n      if (projectWithUnread) {\r\n        setSelectedProject(projectWithUnread);\r\n      } else {\r\n        // Otherwise just select the first project\r\n        setSelectedProject(projects[0]);\r\n      }\r\n    }\r\n  }, [projects, unreadCounts, selectedProject]);\r\n  \r\n  const handleSelectProject = (project) => {\r\n    setSelectedProject(project);\r\n  };\r\n\r\n  // Handle manual reconnection\r\n  const handleReconnect = () => {\r\n    setIsReconnecting(true);\r\n    reconnect();\r\n  };\r\n\r\n  // Sorted projects with unread messages first\r\n  const sortedProjects = useMemo(() => {\r\n    if (!projects) return [];\r\n    \r\n    return [...projects].sort((a, b) => {\r\n      // Projects with unread messages come first\r\n      const aUnread = unreadCounts[a._id] || 0;\r\n      const bUnread = unreadCounts[b._id] || 0;\r\n      \r\n      if (aUnread > 0 && bUnread === 0) return -1;\r\n      if (bUnread > 0 && aUnread === 0) return 1;\r\n      \r\n      // Then sort by unread count\r\n      if (aUnread !== bUnread) return bUnread - aUnread;\r\n      \r\n      // Finally sort alphabetically\r\n      return a.name.localeCompare(b.name);\r\n    });\r\n  }, [projects, unreadCounts]);\r\n  \r\n  // Check if a user is online\r\n  const isUserOnline = (userId) => {\r\n    return onlineUsers && onlineUsers.includes(userId);\r\n  };\r\n  \r\n  if (loadingProjects) {\r\n    return (\r\n      <div className=\"linear-loading flex items-center justify-center h-64\">\r\n        <div className=\"linear-spinner dark:border-gray-600 dark:border-t-primary-400\"></div>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  return (\r\n    <div className=\"linear-fade-in\">\r\n      <div className=\"mb-8\">\r\n        <div className=\"flex justify-between items-center mb-2\">\r\n          <h2 className=\"text-2xl font-bold text-gray-800 dark:text-gray-100\">Project Chats</h2>\r\n          {connectionStatus !== 'connected' && (\r\n            <button \r\n              onClick={handleReconnect}\r\n              disabled={isReconnecting}\r\n              className=\"flex items-center px-3 py-1.5 text-sm font-medium rounded-md bg-primary-600 hover:bg-primary-700 disabled:bg-gray-400 text-white transition-colors duration-150\"\r\n            >\r\n              {isReconnecting ? (\r\n                <>\r\n                  <svg className=\"animate-spin -ml-1 mr-2 h-4 w-4 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                  </svg>\r\n                  Reconnecting...\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4 mr-1\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\r\n                  </svg>\r\n                  Reconnect\r\n                </>\r\n              )}\r\n            </button>\r\n          )}\r\n        </div>\r\n        <div className=\"flex items-center space-x-1 mb-3\">\r\n          <p className=\"text-gray-600 dark:text-gray-400\">\r\n            Communicate with your team in real-time.\r\n          </p>\r\n          <div className=\"status-indicator ml-2\">\r\n            {connectionStatus === 'connected' ? (\r\n              <span className=\"inline-flex items-center text-sm text-green-600 dark:text-green-400\">\r\n                <span className=\"inline-block h-2 w-2 rounded-full bg-green-500 mr-1\"></span>\r\n                Connected\r\n              </span>\r\n            ) : connectionStatus === 'connecting' ? (\r\n              <span className=\"inline-flex items-center text-sm text-yellow-600 dark:text-yellow-400\">\r\n                <span className=\"inline-block h-2 w-2 rounded-full bg-yellow-500 mr-1 animate-pulse\"></span>\r\n                Connecting...\r\n              </span>\r\n            ) : connectionStatus === 'disconnected' ? (\r\n              <span className=\"inline-flex items-center text-sm text-red-600 dark:text-red-400\">\r\n                <span className=\"inline-block h-2 w-2 rounded-full bg-red-500 mr-1\"></span>\r\n                Disconnected\r\n                <button \r\n                  onClick={handleReconnect} \r\n                  className=\"ml-2 underline text-xs\"\r\n                  disabled={isReconnecting}\r\n                >\r\n                  {isReconnecting ? 'Reconnecting...' : 'Try reconnecting'}\r\n                </button>\r\n              </span>\r\n            ) : connectionStatus === 'error' ? (\r\n              <span className=\"inline-flex items-center text-sm text-red-600 dark:text-red-400\">\r\n                <span className=\"inline-block h-2 w-2 rounded-full bg-red-500 mr-1\"></span>\r\n                Connection Error\r\n                <button \r\n                  onClick={handleReconnect} \r\n                  className=\"ml-2 underline text-xs\"\r\n                  disabled={isReconnecting}\r\n                >\r\n                  {isReconnecting ? 'Reconnecting...' : 'Try reconnecting'}\r\n                </button>\r\n              </span>\r\n            ) : null}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n        {/* Project list (Column 1) */}\r\n        <div className=\"space-y-4\">\r\n          <div className=\"linear-card dark:bg-gray-800 dark:border-gray-700 transition-all duration-200\">\r\n            <div className=\"linear-card-header dark:border-gray-700 flex items-center justify-between\">\r\n              <h3 className=\"text-lg font-semibold dark:text-white\">Your Projects</h3>\r\n              {totalUnreadCount > 0 && (\r\n                <span className=\"inline-block py-1 px-2 text-xs font-semibold rounded-full bg-primary-600 dark:bg-primary-700 text-white\">\r\n                  {totalUnreadCount}\r\n                </span>\r\n              )}\r\n            </div>\r\n            <div className=\"linear-card-body p-0\">\r\n              {sortedProjects.length > 0 ? (\r\n                <div className=\"linear-list divide-y divide-gray-200 dark:divide-gray-700 max-h-96 overflow-y-auto\">\r\n                  {sortedProjects.map(project => (\r\n                    <button\r\n                      key={project._id}\r\n                      className={`w-full text-left p-4 hover:bg-gray-50 dark:hover:bg-gray-700/70 transition-colors duration-200 flex items-center justify-between ${\r\n                        selectedProject?._id === project._id \r\n                          ? 'bg-primary-50 dark:bg-primary-900/30' \r\n                          : ''\r\n                      }`}\r\n                      onClick={() => handleSelectProject(project)}\r\n                    >\r\n                      <div className=\"flex items-center\">\r\n                        <div \r\n                          className=\"w-3 h-3 rounded-full mr-2\" \r\n                          style={{ backgroundColor: project.color || '#6366f1' }}\r\n                        ></div>\r\n                        <h4 className=\"font-medium dark:text-white\">{project.name}</h4>\r\n                      </div>\r\n                      <div className=\"flex items-center\">\r\n                        {unreadCounts[project._id] > 0 && (\r\n                          <span className=\"inline-block py-1 px-2 text-xs font-semibold rounded-full bg-primary-600 dark:bg-primary-700 text-white mr-2\">\r\n                            {unreadCounts[project._id]}\r\n                          </span>\r\n                        )}\r\n                        {project.members && project.members.some(member => isUserOnline(member._id)) && (\r\n                          <span className=\"inline-block h-2 w-2 rounded-full bg-green-500\"></span>\r\n                        )}\r\n                      </div>\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              ) : (\r\n                <div className=\"p-6 text-center\">\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-12 w-12 mx-auto text-gray-400 dark:text-gray-500 mb-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z\" />\r\n                  </svg>\r\n                  <p className=\"text-gray-500 dark:text-gray-400 mb-3\">No projects found</p>\r\n                  <Link to=\"/projects\" className=\"inline-flex items-center text-primary-600 dark:text-primary-400 hover:underline\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 mr-1\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\r\n                    </svg>\r\n                    Create a new project\r\n                  </Link>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n          \r\n          {/* Project Details */}\r\n          {selectedProject && (\r\n            <div className=\"linear-card dark:bg-gray-800 dark:border-gray-700 transition-all duration-200\">\r\n              <div className=\"linear-card-header dark:border-gray-700\">\r\n                <h3 className=\"text-lg font-semibold dark:text-white\">Project Details</h3>\r\n              </div>\r\n              <div className=\"linear-card-body\">\r\n                <div className=\"mb-3\">\r\n                  <h4 className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">Description</h4>\r\n                  <p className=\"text-gray-800 dark:text-gray-200\">\r\n                    {selectedProject.description || 'No description provided.'}\r\n                  </p>\r\n                </div>\r\n                \r\n                <div className=\"mb-3\">\r\n                  <h4 className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">Team Members</h4>\r\n                  <div className=\"flex flex-wrap items-center mt-2\">\r\n                    {selectedProject.members && selectedProject.members.length > 0 ? (\r\n                      selectedProject.members.map(member => (\r\n                        <div key={member._id} className=\"flex items-center mr-4 mb-2\">\r\n                          <div className=\"linear-avatar linear-avatar-sm dark:bg-gray-700 mr-2 relative\">\r\n                            {member.photo ? (\r\n                              <img src={member.photo} alt={member.displayName || 'Member'} className=\"h-full w-full object-cover\" />\r\n                            ) : (\r\n                              <span>{member.displayName?.charAt(0) || member.email?.charAt(0) || '?'}</span>\r\n                            )}\r\n                            {isUserOnline(member._id) && (\r\n                              <span className=\"absolute -bottom-1 -right-1 h-2.5 w-2.5 rounded-full bg-green-500 border border-white dark:border-gray-800\"></span>\r\n                            )}\r\n                          </div>\r\n                          <span className=\"text-sm dark:text-gray-200\">\r\n                            {member.displayName || member.email}\r\n                            {member._id === user?._id && <span className=\"text-xs text-gray-500 dark:text-gray-400 ml-1\">(you)</span>}\r\n                          </span>\r\n                        </div>\r\n                      ))\r\n                    ) : (\r\n                      <p className=\"text-sm text-gray-500 dark:text-gray-400\">No team members</p>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n                \r\n                <div>\r\n                  <Link \r\n                    to={`/projects/${selectedProject._id}`} \r\n                    className=\"text-primary-600 dark:text-primary-400 hover:underline text-sm flex items-center\"\r\n                  >\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4 mr-1\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 7l5 5m0 0l-5 5m5-5H6\" />\r\n                    </svg>\r\n                    View Project Details\r\n                  </Link>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n        \r\n        {/* Chat (Column 2-3) */}\r\n        <div className=\"lg:col-span-2\">\r\n          {selectedProject ? (\r\n            <Chat \r\n              chatId={selectedProject._id} \r\n              title={`Chat - ${selectedProject.name}`} \r\n              height=\"70vh\"\r\n              fullWidth\r\n            />\r\n          ) : (\r\n            <div className=\"linear-card dark:bg-gray-800 dark:border-gray-700 h-70vh flex items-center justify-center\">\r\n              <div className=\"text-center p-8\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-16 w-16 mx-auto text-gray-400 dark:text-gray-500 mb-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1} d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\" />\r\n                </svg>\r\n                <h3 className=\"text-xl font-semibold text-gray-700 dark:text-gray-300 mb-2\">Select a Project</h3>\r\n                <p className=\"text-gray-600 dark:text-gray-400 max-w-md\">\r\n                  Choose a project from the list to start chatting with your team members in real-time.\r\n                </p>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}