{"ast":null,"code":"import React,{useContext,useEffect,useState,useCallback}from'react';import{BrowserRouter as Router,Routes,Route,Navigate,useNavigate,useSearchParams}from'react-router-dom';import axios from'axios';import Header from'./components/Header';import Sidebar from'./components/Sidebar';import Dashboard from'./pages/Dashboard';import Projects from'./pages/Projects';import ProjectDetails from'./pages/ProjectDetails';import Login from'./pages/Login';import Signup from'./pages/Signup';import NotFound from'./pages/NotFound';import{AuthContext}from'./context/AuthContext';import ThemeProvider from'./context/ThemeContext';import ChatProvider from'./context/ChatContext';import MyTasks from'./pages/MyTasks';import Team from'./pages/Team';import Settings from'./pages/Settings';import Profile from'./pages/Profile';import NotificationsPage from'./pages/NotificationsPage';import ChatPage from'./pages/ChatPage';import LandingPage from'./pages/LandingPage';import Automations from'./pages/Automations';import SearchPage from'./pages/SearchPage';import NotificationManager from'./components/NotificationManager';import'./index.css';// Create a basic Notifications component since it doesn't exist yet\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Notifications=()=>{return/*#__PURE__*/_jsxs(\"div\",{className:\"linear-fade-in\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold mb-3\",children:\"Notifications\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"View and manage all your notifications\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"linear-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"linear-card-header\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold\",children:\"All Notifications\"}),/*#__PURE__*/_jsx(\"button\",{className:\"linear-btn linear-btn-sm linear-btn-secondary\",children:\"Mark all as read\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"linear-card-body p-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"linear-list\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"linear-list-item flex items-start\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"linear-avatar linear-avatar-sm mr-3 bg-primary-100 text-primary-600\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-4 w-4\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\"})})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium\",children:\"You were assigned a new task: \\\"Update dashboard UI\\\"\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:\"2 hours ago\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"linear-list-item flex items-start\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"linear-avatar linear-avatar-sm mr-3 bg-info-100 text-info-600\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-4 w-4\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"})})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium\",children:\"John mentioned you in a comment: \\\"Can @you review this PR?\\\"\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:\"1 day ago\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"linear-list-item flex items-start\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"linear-avatar linear-avatar-sm mr-3 bg-success-100 text-success-600\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-4 w-4\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"})})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium\",children:\"Task \\\"Implement login page\\\" was marked as completed\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:\"2 days ago\"})]})]})]})})]})]});};// Configure axios defaults - only do this once\naxios.defaults.baseURL=process.env.REACT_APP_API_URL||'http://localhost:5000';axios.defaults.withCredentials=true;// Add request interceptor to inject token - moved outside component to prevent recreating on each render\naxios.interceptors.request.use(config=>{const token=localStorage.getItem('token');if(token){config.headers.Authorization=\"Bearer \".concat(token);}return config;},error=>Promise.reject(error));// Add response interceptor to handle auth errors - moved outside component with improved redirect handling\nlet isRedirecting=false;// Prevent multiple redirects\naxios.interceptors.response.use(response=>response,error=>{// Only handle authentication errors (401/403)\nif(error.response&&(error.response.status===401||error.response.status===403)&&!isRedirecting&&!window.location.pathname.includes('/login')&&!window.location.pathname.includes('/auth-success')){// Only clear token and redirect if not already doing so and not on login/auth pages\nisRedirecting=true;console.log('Session expired or unauthorized, redirecting to login');// Clear token\nlocalStorage.removeItem('token');delete axios.defaults.headers.common['Authorization'];// Redirect to login after a small delay to prevent redirect loops\nsetTimeout(()=>{window.location='/login';isRedirecting=false;// Reset flag after redirect\n},100);}return Promise.reject(error);});// Auth Success Component to handle OAuth redirects\nconst AuthSuccess=()=>{const navigate=useNavigate();const[searchParams]=useSearchParams();const{refreshUserData,setUser,setIsAuthenticated}=useContext(AuthContext);const[processingAuth,setProcessingAuth]=useState(true);const token=searchParams.get('token');const redirectTo=searchParams.get('redirectTo')||'dashboard';// This effect runs once on component mount\nuseEffect(()=>{const handleAuthSuccess=async()=>{try{console.log('Auth success page: Processing authentication');if(token){console.log('Auth success page: Token found in URL');// Clear any existing token and set the new one\nlocalStorage.removeItem('token');localStorage.setItem('token',token);// Update axios headers\naxios.defaults.headers.common['Authorization']=\"Bearer \".concat(token);// Fetch user data directly (don't rely on refreshUserData)\nconst res=await axios.get('/auth/current-user',{headers:{Authorization:\"Bearer \".concat(token)},withCredentials:true});if(res.data&&res.data.user){console.log('Auth success: User data fetched successfully');// Set user and auth state directly\nsetUser(res.data.user);setIsAuthenticated(true);// Wait a moment before redirecting\nsetTimeout(()=>{console.log('Auth success: Redirecting to',redirectTo);navigate(\"/\".concat(redirectTo),{replace:true});setProcessingAuth(false);},500);return;}}// If we didn't return above (no token or no user data)\nconsole.log('Auth success: No token or user data, trying fallback refresh');const success=await refreshUserData();if(success){console.log('Auth success: Fallback refresh successful');navigate(\"/\".concat(redirectTo),{replace:true});}else{console.error('Auth success: Authentication failed');navigate('/login',{replace:true,state:{error:'Authentication failed'}});}setProcessingAuth(false);}catch(err){console.error('Error during auth redirect:',err);navigate('/login',{replace:true,state:{error:'Authentication error'}});setProcessingAuth(false);}};handleAuthSuccess();},[token,redirectTo,navigate,refreshUserData,setUser,setIsAuthenticated]);if(!processingAuth)return null;return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"linear-spinner dark:border-gray-600 dark:border-t-primary-400\"}),/*#__PURE__*/_jsx(\"p\",{className:\"ml-3 text-gray-600 dark:text-gray-300\",children:\"Completing authentication...\"})]});};const App=()=>{const{user,isAuthenticated,loading,logout}=useContext(AuthContext);const[initialized,setInitialized]=useState(false);const[sidebarCollapsed,setSidebarCollapsed]=useState(false);// Log authentication state for debugging\nuseEffect(()=>{console.log('Auth state changed:',{isAuthenticated,user,loading});},[isAuthenticated,user,loading]);// Memoize the toggle function to prevent recreating on each render\nconst toggleSidebar=useCallback(()=>{setSidebarCollapsed(prevState=>!prevState);},[]);useEffect(()=>{// Set initialized to true once the auth check is complete\nif(!loading){setInitialized(true);}},[loading]);// Don't render anything until authentication is checked\nif(!initialized){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900\",children:/*#__PURE__*/_jsx(\"div\",{className:\"linear-spinner dark:border-gray-600 dark:border-t-primary-400\"})});}return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(ThemeProvider,{children:/*#__PURE__*/_jsx(ChatProvider,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen flex flex-col bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-gray-100 \".concat(sidebarCollapsed?'sidebar-collapsed':''),children:[isAuthenticated&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Sidebar,{user:user,collapsed:sidebarCollapsed,toggleSidebar:toggleSidebar}),/*#__PURE__*/_jsx(Header,{user:user,logout:logout,className:\"w-full\"}),/*#__PURE__*/_jsx(NotificationManager,{})]}),/*#__PURE__*/_jsx(\"main\",{className:\"flex-grow transition-all duration-300 ease-in-out bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-gray-100 \".concat(isAuthenticated?\"p-6 \".concat(sidebarCollapsed?'ml-16 w-[calc(100%-4rem)]':'ml-64',\" mt-16\"):'w-full'),children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:!isAuthenticated?/*#__PURE__*/_jsx(LandingPage,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:!isAuthenticated?/*#__PURE__*/_jsx(Login,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",element:!isAuthenticated?/*#__PURE__*/_jsx(Signup,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"/auth-success\",element:/*#__PURE__*/_jsx(AuthSuccess,{})}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",element:isAuthenticated?/*#__PURE__*/_jsx(Dashboard,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"/projects\",element:isAuthenticated?/*#__PURE__*/_jsx(Projects,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"/projects/:id\",element:isAuthenticated?/*#__PURE__*/_jsx(ProjectDetails,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"/tasks\",element:isAuthenticated?/*#__PURE__*/_jsx(MyTasks,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"/team\",element:isAuthenticated?/*#__PURE__*/_jsx(Team,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"/settings\",element:isAuthenticated?/*#__PURE__*/_jsx(Settings,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:isAuthenticated?/*#__PURE__*/_jsx(Profile,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"/notifications\",element:isAuthenticated?/*#__PURE__*/_jsx(NotificationsPage,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"/chat\",element:isAuthenticated?/*#__PURE__*/_jsx(ChatPage,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"/automations\",element:isAuthenticated?/*#__PURE__*/_jsx(Automations,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"/search\",element:isAuthenticated?/*#__PURE__*/_jsx(SearchPage,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(NotFound,{})})]})})})]})})})});};export default/*#__PURE__*/React.memo(App);","map":{"version":3,"names":["React","useContext","useEffect","useState","useCallback","BrowserRouter","Router","Routes","Route","Navigate","useNavigate","useSearchParams","axios","Header","Sidebar","Dashboard","Projects","ProjectDetails","Login","Signup","NotFound","AuthContext","ThemeProvider","ChatProvider","MyTasks","Team","Settings","Profile","NotificationsPage","ChatPage","LandingPage","Automations","SearchPage","NotificationManager","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Notifications","className","children","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","defaults","baseURL","process","env","REACT_APP_API_URL","withCredentials","interceptors","request","use","config","token","localStorage","getItem","headers","Authorization","concat","error","Promise","reject","isRedirecting","response","status","window","location","pathname","includes","console","log","removeItem","common","setTimeout","AuthSuccess","navigate","searchParams","refreshUserData","setUser","setIsAuthenticated","processingAuth","setProcessingAuth","get","redirectTo","handleAuthSuccess","setItem","res","data","user","replace","success","state","err","App","isAuthenticated","loading","logout","initialized","setInitialized","sidebarCollapsed","setSidebarCollapsed","toggleSidebar","prevState","collapsed","path","element","to","memo"],"sources":["C:/Users/DELL/OneDrive/Desktop/collabeaseproject/collabeasesorce/collabease/client/src/App.jsx"],"sourcesContent":["import React, { useContext, useEffect, useState, useCallback } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate, useNavigate, useSearchParams } from 'react-router-dom';\nimport axios from 'axios';\nimport Header from './components/Header';\nimport Sidebar from './components/Sidebar';\nimport Dashboard from './pages/Dashboard';\nimport Projects from './pages/Projects';\nimport ProjectDetails from './pages/ProjectDetails';\nimport Login from './pages/Login';\nimport Signup from './pages/Signup';\nimport NotFound from './pages/NotFound';\nimport { AuthContext } from './context/AuthContext';\nimport ThemeProvider from './context/ThemeContext';\nimport ChatProvider from './context/ChatContext';\nimport MyTasks from './pages/MyTasks';\nimport Team from './pages/Team';\nimport Settings from './pages/Settings';\nimport Profile from './pages/Profile';\nimport NotificationsPage from './pages/NotificationsPage';\nimport ChatPage from './pages/ChatPage';\nimport LandingPage from './pages/LandingPage';\nimport Automations from './pages/Automations';\nimport SearchPage from './pages/SearchPage';\nimport NotificationManager from './components/NotificationManager';\nimport './index.css';\n\n// Create a basic Notifications component since it doesn't exist yet\nconst Notifications = () => {\n  return (\n    <div className=\"linear-fade-in\">\n      <h1 className=\"text-2xl font-bold mb-3\">Notifications</h1>\n      <p className=\"text-gray-600 mb-6\">View and manage all your notifications</p>\n      \n      <div className=\"linear-card\">\n        <div className=\"linear-card-header\">\n          <h2 className=\"text-lg font-semibold\">All Notifications</h2>\n          <button className=\"linear-btn linear-btn-sm linear-btn-secondary\">Mark all as read</button>\n        </div>\n        <div className=\"linear-card-body p-0\">\n          <div className=\"linear-list\">\n            <div className=\"linear-list-item flex items-start\">\n              <div className=\"linear-avatar linear-avatar-sm mr-3 bg-primary-100 text-primary-600\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\" />\n                </svg>\n              </div>\n              <div>\n                <p className=\"text-sm font-medium\">You were assigned a new task: \"Update dashboard UI\"</p>\n                <p className=\"text-xs text-gray-500 mt-1\">2 hours ago</p>\n              </div>\n            </div>\n            <div className=\"linear-list-item flex items-start\">\n              <div className=\"linear-avatar linear-avatar-sm mr-3 bg-info-100 text-info-600\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\" />\n                </svg>\n              </div>\n              <div>\n                <p className=\"text-sm font-medium\">John mentioned you in a comment: \"Can @you review this PR?\"</p>\n                <p className=\"text-xs text-gray-500 mt-1\">1 day ago</p>\n              </div>\n            </div>\n            <div className=\"linear-list-item flex items-start\">\n              <div className=\"linear-avatar linear-avatar-sm mr-3 bg-success-100 text-success-600\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                </svg>\n              </div>\n              <div>\n                <p className=\"text-sm font-medium\">Task \"Implement login page\" was marked as completed</p>\n                <p className=\"text-xs text-gray-500 mt-1\">2 days ago</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Configure axios defaults - only do this once\naxios.defaults.baseURL = process.env.REACT_APP_API_URL || 'http://localhost:5000';\naxios.defaults.withCredentials = true;\n\n// Add request interceptor to inject token - moved outside component to prevent recreating on each render\naxios.interceptors.request.use(\n  (config) => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n  },\n  (error) => Promise.reject(error)\n);\n\n// Add response interceptor to handle auth errors - moved outside component with improved redirect handling\nlet isRedirecting = false; // Prevent multiple redirects\naxios.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    // Only handle authentication errors (401/403)\n    if (error.response && \n        (error.response.status === 401 || error.response.status === 403) && \n        !isRedirecting && \n        !window.location.pathname.includes('/login') && \n        !window.location.pathname.includes('/auth-success')) {\n      // Only clear token and redirect if not already doing so and not on login/auth pages\n      isRedirecting = true;\n      console.log('Session expired or unauthorized, redirecting to login');\n      // Clear token\n      localStorage.removeItem('token');\n      delete axios.defaults.headers.common['Authorization'];\n      \n      // Redirect to login after a small delay to prevent redirect loops\n      setTimeout(() => {\n        window.location = '/login';\n        isRedirecting = false; // Reset flag after redirect\n      }, 100);\n    }\n    return Promise.reject(error);\n  }\n);\n\n// Auth Success Component to handle OAuth redirects\nconst AuthSuccess = () => {\n  const navigate = useNavigate();\n  const [searchParams] = useSearchParams();\n  const { refreshUserData, setUser, setIsAuthenticated } = useContext(AuthContext);\n  const [processingAuth, setProcessingAuth] = useState(true);\n  \n  const token = searchParams.get('token');\n  const redirectTo = searchParams.get('redirectTo') || 'dashboard';\n  \n  // This effect runs once on component mount\n  useEffect(() => {\n    const handleAuthSuccess = async () => {\n      try {\n        console.log('Auth success page: Processing authentication');\n        \n        if (token) {\n          console.log('Auth success page: Token found in URL');\n          \n          // Clear any existing token and set the new one\n          localStorage.removeItem('token');\n          localStorage.setItem('token', token);\n          \n          // Update axios headers\n          axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n          \n          // Fetch user data directly (don't rely on refreshUserData)\n          const res = await axios.get('/auth/current-user', {\n            headers: { Authorization: `Bearer ${token}` },\n            withCredentials: true\n          });\n          \n          if (res.data && res.data.user) {\n            console.log('Auth success: User data fetched successfully');\n            // Set user and auth state directly\n            setUser(res.data.user);\n            setIsAuthenticated(true);\n            \n            // Wait a moment before redirecting\n            setTimeout(() => {\n              console.log('Auth success: Redirecting to', redirectTo);\n              navigate(`/${redirectTo}`, { replace: true });\n              setProcessingAuth(false);\n            }, 500);\n            return;\n          }\n        }\n        \n        // If we didn't return above (no token or no user data)\n        console.log('Auth success: No token or user data, trying fallback refresh');\n        const success = await refreshUserData();\n        \n        if (success) {\n          console.log('Auth success: Fallback refresh successful');\n          navigate(`/${redirectTo}`, { replace: true });\n        } else {\n          console.error('Auth success: Authentication failed');\n          navigate('/login', { replace: true, state: { error: 'Authentication failed' } });\n        }\n        \n        setProcessingAuth(false);\n      } catch (err) {\n        console.error('Error during auth redirect:', err);\n        navigate('/login', { replace: true, state: { error: 'Authentication error' } });\n        setProcessingAuth(false);\n      }\n    };\n    \n    handleAuthSuccess();\n  }, [token, redirectTo, navigate, refreshUserData, setUser, setIsAuthenticated]);\n  \n  if (!processingAuth) return null;\n  \n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900\">\n      <div className=\"linear-spinner dark:border-gray-600 dark:border-t-primary-400\"></div>\n      <p className=\"ml-3 text-gray-600 dark:text-gray-300\">Completing authentication...</p>\n    </div>\n  );\n};\n\nconst App = () => {\n  const { user, isAuthenticated, loading, logout } = useContext(AuthContext);\n  const [initialized, setInitialized] = useState(false);\n  const [sidebarCollapsed, setSidebarCollapsed] = useState(false);\n  \n  // Log authentication state for debugging\n  useEffect(() => {\n    console.log('Auth state changed:', { isAuthenticated, user, loading });\n  }, [isAuthenticated, user, loading]);\n  \n  // Memoize the toggle function to prevent recreating on each render\n  const toggleSidebar = useCallback(() => {\n    setSidebarCollapsed(prevState => !prevState);\n  }, []);\n  \n  useEffect(() => {\n    // Set initialized to true once the auth check is complete\n    if (!loading) {\n      setInitialized(true);\n    }\n  }, [loading]);\n  \n  // Don't render anything until authentication is checked\n  if (!initialized) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900\">\n        <div className=\"linear-spinner dark:border-gray-600 dark:border-t-primary-400\"></div>\n      </div>\n    );\n  }\n  \n  return (\n    <Router>\n      <ThemeProvider>\n        <ChatProvider>\n          <div className={`min-h-screen flex flex-col bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-gray-100 ${sidebarCollapsed ? 'sidebar-collapsed' : ''}`}>\n            {isAuthenticated && (\n              <>\n                <Sidebar \n                  user={user} \n                  collapsed={sidebarCollapsed} \n                  toggleSidebar={toggleSidebar} \n                />\n                <Header \n                  user={user} \n                  logout={logout} \n                  className=\"w-full\"\n                />\n                <NotificationManager />\n              </>\n            )}\n            \n            <main className={`flex-grow transition-all duration-300 ease-in-out bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-gray-100 ${\n              isAuthenticated ? `p-6 ${sidebarCollapsed ? 'ml-16 w-[calc(100%-4rem)]' : 'ml-64'} mt-16` : 'w-full'\n            }`}>\n              <div className=\"w-full\">\n                <Routes>\n                  {/* Public routes - accessible without authentication */}\n                  <Route \n                    path=\"/\" \n                    element={\n                      !isAuthenticated ? (\n                        <LandingPage />\n                      ) : (\n                        <Navigate to=\"/dashboard\" replace />\n                      )\n                    } \n                  />\n                  <Route \n                    path=\"/login\" \n                    element={\n                      !isAuthenticated ? (\n                        <Login />\n                      ) : (\n                        <Navigate to=\"/dashboard\" replace />\n                      )\n                    } \n                  />\n                  <Route \n                    path=\"/signup\" \n                    element={\n                      !isAuthenticated ? (\n                        <Signup />\n                      ) : (\n                        <Navigate to=\"/dashboard\" replace />\n                      )\n                    } \n                  />\n                  <Route path=\"/auth-success\" element={<AuthSuccess />} />\n                  \n                  {/* Protected routes - require authentication */}\n                  <Route \n                    path=\"/dashboard\" \n                    element={\n                      isAuthenticated ? (\n                        <Dashboard />\n                      ) : (\n                        <Navigate to=\"/login\" replace />\n                      )\n                    } \n                  />\n                  <Route \n                    path=\"/projects\" \n                    element={\n                      isAuthenticated ? (\n                        <Projects />\n                      ) : (\n                        <Navigate to=\"/login\" replace />\n                      )\n                    } \n                  />\n                  <Route \n                    path=\"/projects/:id\" \n                    element={\n                      isAuthenticated ? (\n                        <ProjectDetails />\n                      ) : (\n                        <Navigate to=\"/login\" replace />\n                      )\n                    } \n                  />\n                  <Route \n                    path=\"/tasks\" \n                    element={\n                      isAuthenticated ? (\n                        <MyTasks />\n                      ) : (\n                        <Navigate to=\"/login\" replace />\n                      )\n                    } \n                  />\n                  <Route \n                    path=\"/team\" \n                    element={\n                      isAuthenticated ? (\n                        <Team />\n                      ) : (\n                        <Navigate to=\"/login\" replace />\n                      )\n                    } \n                  />\n                  <Route \n                    path=\"/settings\" \n                    element={\n                      isAuthenticated ? (\n                        <Settings />\n                      ) : (\n                        <Navigate to=\"/login\" replace />\n                      )\n                    } \n                  />\n                  <Route \n                    path=\"/profile\" \n                    element={\n                      isAuthenticated ? (\n                        <Profile />\n                      ) : (\n                        <Navigate to=\"/login\" replace />\n                      )\n                    } \n                  />\n                  <Route \n                    path=\"/notifications\" \n                    element={\n                      isAuthenticated ? (\n                        <NotificationsPage />\n                      ) : (\n                        <Navigate to=\"/login\" replace />\n                      )\n                    } \n                  />\n                  <Route \n                    path=\"/chat\" \n                    element={\n                      isAuthenticated ? (\n                        <ChatPage />\n                      ) : (\n                        <Navigate to=\"/login\" replace />\n                      )\n                    } \n                  />\n                  <Route \n                    path=\"/automations\" \n                    element={\n                      isAuthenticated ? (\n                        <Automations />\n                      ) : (\n                        <Navigate to=\"/login\" replace />\n                      )\n                    } \n                  />\n                  <Route \n                    path=\"/search\" \n                    element={\n                      isAuthenticated ? (\n                        <SearchPage />\n                      ) : (\n                        <Navigate to=\"/login\" replace />\n                      )\n                    } \n                  />\n                  \n                  {/* 404 page */}\n                  <Route path=\"*\" element={<NotFound />} />\n                </Routes>\n              </div>\n            </main>\n          </div>\n        </ChatProvider>\n      </ThemeProvider>\n    </Router>\n  );\n};\n\nexport default React.memo(App);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}