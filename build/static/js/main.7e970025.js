/*! For license information please see main.7e970025.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,r)=>{e.exports=r(202)},104:(e,t,r)=>{r.r(t),r.d(t,{Fetch:()=>se,Manager:()=>Ee,NodeWebSocket:()=>$,NodeXHR:()=>W,Socket:()=>Se,WebSocket:()=>$,WebTransport:()=>Y,XHR:()=>W,connect:()=>Ae,default:()=>Ae,io:()=>Ae,protocol:()=>ye});var n={};r.r(n),r.d(n,{Decoder:()=>we,Encoder:()=>ve,PacketType:()=>xe,protocol:()=>ye});const a=Object.create(null);a.open="0",a.close="1",a.ping="2",a.pong="3",a.message="4",a.upgrade="5",a.noop="6";const s=Object.create(null);Object.keys(a).forEach((e=>{s[a[e]]=e}));const o={type:"error",data:"parser error"},i="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),l="function"===typeof ArrayBuffer,c=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,d=(e,t,r)=>{let{type:n,data:s}=e;return i&&s instanceof Blob?t?r(s):u(s,r):l&&(s instanceof ArrayBuffer||c(s))?t?r(s):u(new Blob([s]),r):r(a[n]+(s||""))},u=(e,t)=>{const r=new FileReader;return r.onload=function(){const e=r.result.split(",")[1];t("b"+(e||""))},r.readAsDataURL(e)};function h(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let p;const m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let _e=0;_e<64;_e++)f[m.charCodeAt(_e)]=_e;const g="function"===typeof ArrayBuffer,y=(e,t)=>{if("string"!==typeof e)return{type:"message",data:v(e,t)};const r=e.charAt(0);if("b"===r)return{type:"message",data:x(e.substring(1),t)};return s[r]?e.length>1?{type:s[r],data:e.substring(1)}:{type:s[r]}:o},x=(e,t)=>{if(g){const r=(e=>{let t,r,n,a,s,o=.75*e.length,i=e.length,l=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);const c=new ArrayBuffer(o),d=new Uint8Array(c);for(t=0;t<i;t+=4)r=f[e.charCodeAt(t)],n=f[e.charCodeAt(t+1)],a=f[e.charCodeAt(t+2)],s=f[e.charCodeAt(t+3)],d[l++]=r<<2|n>>4,d[l++]=(15&n)<<4|a>>2,d[l++]=(3&a)<<6|63&s;return c})(e);return v(r,t)}return{base64:!0,data:e}},v=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,b=String.fromCharCode(30);function w(){return new TransformStream({transform(e,t){!function(e,t){i&&e.data instanceof Blob?e.data.arrayBuffer().then(h).then(t):l&&(e.data instanceof ArrayBuffer||c(e.data))?t(h(e.data)):d(e,!1,(e=>{p||(p=new TextEncoder),t(p.encode(e))}))}(e,(r=>{const n=r.length;let a;if(n<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,n);else if(n<65536){a=new Uint8Array(3);const e=new DataView(a.buffer);e.setUint8(0,126),e.setUint16(1,n)}else{a=new Uint8Array(9);const e=new DataView(a.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(n))}e.data&&"string"!==typeof e.data&&(a[0]|=128),t.enqueue(a),t.enqueue(r)}))}})}let k;function j(e){return e.reduce(((e,t)=>e+t.length),0)}function N(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let a=0;a<t;a++)r[a]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function S(e){if(e)return function(e){for(var t in S.prototype)e[t]=S.prototype[t];return e}(e)}S.prototype.on=S.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},S.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},S.prototype.off=S.prototype.removeListener=S.prototype.removeAllListeners=S.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var a=0;a<n.length;a++)if((r=n[a])===t||r.fn===t){n.splice(a,1);break}return 0===n.length&&delete this._callbacks["$"+e],this},S.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){n=0;for(var a=(r=r.slice(0)).length;n<a;++n)r[n].apply(this,t)}return this},S.prototype.emitReserved=S.prototype.emit,S.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},S.prototype.hasListeners=function(e){return!!this.listeners(e).length};const C="function"===typeof Promise&&"function"===typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),E="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function P(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.reduce(((t,r)=>(e.hasOwnProperty(r)&&(t[r]=e[r]),t)),{})}const A=E.setTimeout,T=E.clearTimeout;function _(e,t){t.useNativeTimers?(e.setTimeoutFn=A.bind(E),e.clearTimeoutFn=T.bind(E)):(e.setTimeoutFn=E.setTimeout.bind(E),e.clearTimeoutFn=E.clearTimeout.bind(E))}function D(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class R extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}}class L extends S{constructor(e){super(),this.writable=!1,_(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,r){return super.emitReserved("error",new R(e,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=y(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}(e);return t.length?"?"+t:""}}class I extends L{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once("pollComplete",(function(){--e||t()}))),this.writable||(e++,this.once("drain",(function(){--e||t()})))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const r=e.split(b),n=[];for(let a=0;a<r.length;a++){const e=y(r[a],t);if(n.push(e),"error"===e.type)break}return n})(e,this.socket.binaryType).forEach((e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)})),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const r=e.length,n=new Array(r);let a=0;e.forEach(((e,s)=>{d(e,!1,(e=>{n[s]=e,++a===r&&t(n.join(b))}))}))})(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=D()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}let O=!1;try{O="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(Te){}const M=O;function F(){}class B extends I{constructor(e){if(super(e),"undefined"!==typeof location){const t="https:"===location.protocol;let r=location.port;r||(r=t?"443":"80"),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,t){const r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",((e,t)=>{this.onError("xhr post error",e,t)}))}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",((e,t)=>{this.onError("xhr poll error",e,t)})),this.pollXhr=e}}class U extends S{constructor(e,t,r){super(),this.createRequest=e,_(this,r),this._opts=r,this._method=r.method||"GET",this._uri=t,this._data=void 0!==r.data?r.data:null,this._create()}_create(){var e;const t=P(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(t);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let e in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&r.setRequestHeader(e,this._opts.extraHeaders[e])}}catch(n){}if("POST"===this._method)try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(n){}try{r.setRequestHeader("Accept","*/*")}catch(n){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var e;3===r.readyState&&(null===(e=this._opts.cookieJar)||void 0===e||e.parseCookies(r.getResponseHeader("set-cookie"))),4===r.readyState&&(200===r.status||1223===r.status?this._onLoad():this.setTimeoutFn((()=>{this._onError("number"===typeof r.status?r.status:0)}),0))},r.send(this._data)}catch(n){return void this.setTimeoutFn((()=>{this._onError(n)}),0)}"undefined"!==typeof document&&(this._index=U.requestsCount++,U.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if("undefined"!==typeof this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=F,e)try{this._xhr.abort()}catch(t){}"undefined"!==typeof document&&delete U.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(U.requestsCount=0,U.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",z);else if("function"===typeof addEventListener){addEventListener("onpagehide"in E?"pagehide":"unload",z,!1)}function z(){for(let e in U.requests)U.requests.hasOwnProperty(e)&&U.requests[e].abort()}const V=function(){const e=H({xdomain:!1});return e&&null!==e.responseType}();class W extends B{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=V&&!t}request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd},this.opts),new U(H,this.uri(),e)}}function H(e){const t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||M))return new XMLHttpRequest}catch(r){}if(!t)try{return new(E[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(r){}}const q="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class G extends L{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,r=q?{}:P(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,r)}catch(Te){return this.emitReserved("error",Te)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],n=t===e.length-1;d(r,this.supportsBinary,(e=>{try{this.doWrite(r,e)}catch(t){}n&&C((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){"undefined"!==typeof this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=D()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const K=E.WebSocket||E.MozWebSocket;class $ extends G{createSocket(e,t,r){return q?new K(e,t,r):t?new K(e,t):new K(e)}doWrite(e,t){this.ws.send(t)}}class Y extends L{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(Te){return this.emitReserved("error",Te)}this._transport.closed.then((()=>{this.onClose()})).catch((e=>{this.onError("webtransport error",e)})),this._transport.ready.then((()=>{this._transport.createBidirectionalStream().then((e=>{const t=function(e,t){k||(k=new TextDecoder);const r=[];let n=0,a=-1,s=!1;return new TransformStream({transform(i,l){for(r.push(i);;){if(0===n){if(j(r)<1)break;const e=N(r,1);s=128===(128&e[0]),a=127&e[0],n=a<126?3:126===a?1:2}else if(1===n){if(j(r)<2)break;const e=N(r,2);a=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),n=3}else if(2===n){if(j(r)<8)break;const e=N(r,8),t=new DataView(e.buffer,e.byteOffset,e.length),s=t.getUint32(0);if(s>Math.pow(2,21)-1){l.enqueue(o);break}a=s*Math.pow(2,32)+t.getUint32(4),n=3}else{if(j(r)<a)break;const e=N(r,a);l.enqueue(y(s?e:k.decode(e),t)),n=0}if(0===a||a>e){l.enqueue(o);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(t).getReader(),n=w();n.readable.pipeTo(e.writable),this._writer=n.writable.getWriter();const a=()=>{r.read().then((e=>{let{done:t,value:r}=e;t||(this.onPacket(r),a())})).catch((e=>{}))};a();const s={type:"open"};this.query.sid&&(s.data='{"sid":"'.concat(this.query.sid,'"}')),this._writer.write(s).then((()=>this.onOpen()))}))}))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],n=t===e.length-1;this._writer.write(r).then((()=>{n&&C((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}}const X={websocket:$,webtransport:Y,polling:W},Q=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,J=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Z(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");-1!=r&&-1!=n&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let a=Q.exec(e||""),s={},o=14;for(;o--;)s[J[o]]=a[o]||"";return-1!=r&&-1!=n&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=function(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||n.splice(0,1);"/"==t.slice(-1)&&n.splice(n.length-1,1);return n}(0,s.path),s.queryKey=function(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,n){t&&(r[t]=n)})),r}(0,s.query),s}const ee="function"===typeof addEventListener&&"function"===typeof removeEventListener,te=[];ee&&addEventListener("offline",(()=>{te.forEach((e=>e()))}),!1);class re extends S{constructor(e,t){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"===typeof e&&(t=e,e=null),e){const r=Z(e);t.hostname=r.host,t.secure="https"===r.protocol||"wss"===r.protocol,t.port=r.port,r.query&&(t.query=r.query)}else t.host&&(t.hostname=Z(t.host).host);_(this,t),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach((e=>{const t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e})),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=function(e){let t={},r=e.split("&");for(let n=0,a=r.length;n<a;n++){let e=r[n].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),ee&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},te.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const r=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);const e=this.opts.rememberUpgrade&&re.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",(e=>this._onClose("transport close",e)))}onOpen(){this.readyState="open",re.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn((()=>{this._onClose("ping timeout")}),e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let r=0;r<this.writeBuffer.length;r++){const n=this.writeBuffer[r].data;if(n&&(e+="string"===typeof(t=n)?function(e){let t=0,r=0;for(let n=0,a=e.length;n<a;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}(t):Math.ceil(1.33*(t.byteLength||t.size))),r>0&&e>this._maxPayload)return this.writeBuffer.slice(0,r);e+=2}var t;return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,C((()=>{this._onClose("ping timeout")}),this.setTimeoutFn)),e}write(e,t,r){return this._sendPacket("message",e,t,r),this}send(e,t,r){return this._sendPacket("message",e,t,r),this}_sendPacket(e,t,r,n){if("function"===typeof t&&(n=t,t=void 0),"function"===typeof r&&(n=r,r=null),"closing"===this.readyState||"closed"===this.readyState)return;(r=r||{}).compress=!1!==r.compress;const a={type:e,data:t,options:r};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),n&&this.once("flush",n),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},r=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?r():e()})):this.upgrading?r():e()),this}_onError(e){if(re.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),ee&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const e=te.indexOf(this._offlineEventListener);-1!==e&&te.splice(e,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}re.protocol=4;class ne extends re{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),r=!1;re.priorWebsocketSuccess=!1;const n=()=>{r||(t.send([{type:"ping",data:"probe"}]),t.once("packet",(e=>{if(!r)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;re.priorWebsocketSuccess="websocket"===t.name,this.transport.pause((()=>{r||"closed"!==this.readyState&&(c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}))}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}})))};function a(){r||(r=!0,c(),t.close(),t=null)}const s=e=>{const r=new Error("probe error: "+e);r.transport=t.name,a(),this.emitReserved("upgradeError",r)};function o(){s("transport closed")}function i(){s("socket closed")}function l(e){t&&e.name!==t.name&&a()}const c=()=>{t.removeListener("open",n),t.removeListener("error",s),t.removeListener("close",o),this.off("close",i),this.off("upgrading",l)};t.once("open",n),t.once("error",s),t.once("close",o),this.once("close",i),this.once("upgrading",l),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn((()=>{r||t.open()}),200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}}class ae extends ne{constructor(e){const t="object"===typeof e?e:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(!t.transports||t.transports&&"string"===typeof t.transports[0])&&(t.transports=(t.transports||["polling","websocket","webtransport"]).map((e=>X[e])).filter((e=>!!e))),super(e,t)}}class se extends I{doPoll(){this._fetch().then((e=>{if(!e.ok)return this.onError("fetch read error",e.status,e);e.text().then((e=>this.onData(e)))})).catch((e=>{this.onError("fetch read error",e)}))}doWrite(e,t){this._fetch(e).then((e=>{if(!e.ok)return this.onError("fetch write error",e.status,e);t()})).catch((e=>{this.onError("fetch write error",e)}))}_fetch(e){var t;const r=void 0!==e,n=new Headers(this.opts.extraHeaders);return r&&n.set("content-type","text/plain;charset=UTF-8"),null===(t=this.socket._cookieJar)||void 0===t||t.appendCookies(n),fetch(this.uri(),{method:r?"POST":"GET",body:r?e:null,headers:n,credentials:this.opts.withCredentials?"include":"omit"}).then((e=>{var t;return null===(t=this.socket._cookieJar)||void 0===t||t.parseCookies(e.headers.getSetCookie()),e}))}}const oe="function"===typeof ArrayBuffer,ie=Object.prototype.toString,le="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===ie.call(Blob),ce="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===ie.call(File);function de(e){return oe&&(e instanceof ArrayBuffer||(e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||le&&e instanceof Blob||ce&&e instanceof File}function ue(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(let t=0,r=e.length;t<r;t++)if(ue(e[t]))return!0;return!1}if(de(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return ue(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&ue(e[r]))return!0;return!1}function he(e){const t=[],r=e.data,n=e;return n.data=pe(r,t),n.attachments=t.length,{packet:n,buffers:t}}function pe(e,t){if(!e)return e;if(de(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=pe(e[n],t);return r}if("object"===typeof e&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=pe(e[n],t));return r}return e}function me(e,t){return e.data=fe(e.data,t),delete e.attachments,e}function fe(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=fe(e[r],t);else if("object"===typeof e)for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=fe(e[r],t));return e}const ge=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],ye=5;var xe;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(xe||(xe={}));class ve{constructor(e){this.replacer=e}encode(e){return e.type!==xe.EVENT&&e.type!==xe.ACK||!ue(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===xe.EVENT?xe.BINARY_EVENT:xe.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==xe.BINARY_EVENT&&e.type!==xe.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=he(e),r=this.encodeAsString(t.packet),n=t.buffers;return n.unshift(r),n}}function be(e){return"[object Object]"===Object.prototype.toString.call(e)}class we extends S{constructor(e){super(),this.reviver=e}add(e){let t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const r=t.type===xe.BINARY_EVENT;r||t.type===xe.BINARY_ACK?(t.type=r?xe.EVENT:xe.ACK,this.reconstructor=new ke(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!de(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const r={type:Number(e.charAt(0))};if(void 0===xe[r.type])throw new Error("unknown packet type "+r.type);if(r.type===xe.BINARY_EVENT||r.type===xe.BINARY_ACK){const n=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const a=e.substring(n,t);if(a!=Number(a)||"-"!==e.charAt(t))throw new Error("Illegal attachments");r.attachments=Number(a)}if("/"===e.charAt(t+1)){const n=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}r.nsp=e.substring(n,t)}else r.nsp="/";const n=e.charAt(t+1);if(""!==n&&Number(n)==n){const n=t+1;for(;++t;){const r=e.charAt(t);if(null==r||Number(r)!=r){--t;break}if(t===e.length)break}r.id=Number(e.substring(n,t+1))}if(e.charAt(++t)){const n=this.tryParse(e.substr(t));if(!we.isPayloadValid(r.type,n))throw new Error("invalid payload");r.data=n}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(t){return!1}}static isPayloadValid(e,t){switch(e){case xe.CONNECT:return be(t);case xe.DISCONNECT:return void 0===t;case xe.CONNECT_ERROR:return"string"===typeof t||be(t);case xe.EVENT:case xe.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===ge.indexOf(t[0]));case xe.ACK:case xe.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class ke{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=me(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function je(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const Ne=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Se extends S{constructor(e,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[je(e,"open",this.onopen.bind(this)),je(e,"packet",this.onpacket.bind(this)),je(e,"error",this.onerror.bind(this)),je(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.unshift("message"),this.emit.apply(this,t),this}emit(e){var t,r,n;if(Ne.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var a=arguments.length,s=new Array(a>1?a-1:0),o=1;o<a;o++)s[o-1]=arguments[o];if(s.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const i={type:xe.EVENT,data:s,options:{}};if(i.options.compress=!1!==this.flags.compress,"function"===typeof s[s.length-1]){const e=this.ids++,t=s.pop();this._registerAckCallback(e,t),i.id=e}const l=null===(r=null===(t=this.io.engine)||void 0===t?void 0:t.transport)||void 0===r?void 0:r.writable,c=this.connected&&!(null===(n=this.io.engine)||void 0===n?void 0:n._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(e,t){var r,n=this;const a=null!==(r=this.flags.timeout)&&void 0!==r?r:this._opts.ackTimeout;if(void 0===a)return void(this.acks[e]=t);const s=this.io.setTimeoutFn((()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))}),a),o=function(){n.io.clearTimeoutFn(s);for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];t.apply(n,r)};o.withError=!0,this.acks[e]=o}emitWithAck(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return new Promise(((t,n)=>{const a=(e,r)=>e?n(e):t(r);a.withError=!0,r.push(a),this.emit(e,...r)}))}_addToQueue(e){var t=this;let r;"function"===typeof e[e.length-1]&&(r=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((function(e){if(n!==t._queue[0])return;if(null!==e)n.tryCount>t._opts.retries&&(t._queue.shift(),r&&r(e));else if(t._queue.shift(),r){for(var a=arguments.length,s=new Array(a>1?a-1:0),o=1;o<a;o++)s[o-1]=arguments[o];r(null,...s)}return n.pending=!1,t._drainQueue()})),this._queue.push(n),this._drainQueue()}_drainQueue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth((e=>{this._sendConnectPacket(e)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:xe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach((e=>{if(!this.sendBuffer.some((t=>String(t.id)===e))){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}}))}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case xe.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case xe.EVENT:case xe.BINARY_EVENT:this.onevent(e);break;case xe.ACK:case xe.BINARY_ACK:this.onack(e);break;case xe.DISCONNECT:this.ondisconnect();break;case xe.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const r of t)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let r=!1;return function(){if(!r){r=!0;for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];t.packet({type:xe.ACK,id:e,data:a})}}}onack(e){const t=this.acks[e.id];"function"===typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>{this.notifyOutgoingListeners(e),this.packet(e)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:xe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const r of t)r.apply(this,e.data)}}}function Ce(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Ce.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-r:e+r}return 0|Math.min(e,this.max)},Ce.prototype.reset=function(){this.attempts=0},Ce.prototype.setMin=function(e){this.ms=e},Ce.prototype.setMax=function(e){this.max=e},Ce.prototype.setJitter=function(e){this.jitter=e};class Ee extends S{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&"object"===typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,_(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=t.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new Ce({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const a=t.parser||n;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new ae(this.uri,this.opts);const t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const n=je(t,"open",(function(){r.onopen(),e&&e()})),a=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},s=je(t,"error",a);if(!1!==this._timeout){const e=this._timeout,r=this.setTimeoutFn((()=>{n(),a(new Error("timeout")),t.close()}),e);this.opts.autoUnref&&r.unref(),this.subs.push((()=>{this.clearTimeoutFn(r)}))}return this.subs.push(n),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(je(e,"ping",this.onping.bind(this)),je(e,"data",this.ondata.bind(this)),je(e,"error",this.onerror.bind(this)),je(e,"close",this.onclose.bind(this)),je(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){C((()=>{this.emitReserved("packet",e)}),this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new Se(this,e,t),this.nsps[e]=r),r}_destroy(e){const t=Object.keys(this.nsps);for(const r of t){if(this.nsps[r].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var r;this.cleanup(),null===(r=this.engine)||void 0===r||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn((()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()})))}),t);this.opts.autoUnref&&r.unref(),this.subs.push((()=>{this.clearTimeoutFn(r)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Pe={};function Ae(e,t){"object"===typeof e&&(t=e,e=void 0);const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,n=e;r=r||"undefined"!==typeof location&&location,null==e&&(e=r.protocol+"//"+r.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?r.protocol+e:r.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof r?r.protocol+"//"+e:"https://"+e),n=Z(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const a=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+a+":"+n.port+t,n.href=n.protocol+"://"+a+(r&&r.port===n.port?"":":"+n.port),n}(e,(t=t||{}).path||"/socket.io"),n=r.source,a=r.id,s=r.path,o=Pe[a]&&s in Pe[a].nsps;let i;return t.forceNew||t["force new connection"]||!1===t.multiplex||o?i=new Ee(n,t):(Pe[a]||(Pe[a]=new Ee(n,t)),i=Pe[a]),r.query&&!t.query&&(t.query=r.queryKey),i.socket(r.path,t)}Object.assign(Ae,{Manager:Ee,Socket:Se,io:Ae,connect:Ae})},153:(e,t,r)=>{var n=r(43),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,s={},c=null,d=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)o.call(t,n)&&!l.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===s[n]&&(s[n]=t[n]);return{$$typeof:a,type:e,key:c,ref:d,props:s,_owner:i.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function y(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||m}function x(){}function v(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||m}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=y.prototype;var b=v.prototype=new x;b.constructor=v,f(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,k=Object.prototype.hasOwnProperty,j={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var a,s={},o=null,i=null;if(null!=t)for(a in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(o=""+t.key),t)k.call(t,a)&&!N.hasOwnProperty(a)&&(s[a]=t[a]);var l=arguments.length-2;if(1===l)s.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===s[a]&&(s[a]=l[a]);return{$$typeof:r,type:e,key:o,ref:i,props:s,_owner:j.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var E=/\/+/g;function P(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,a,s,o){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var l=!1;if(null===e)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case n:l=!0}}if(l)return o=o(l=e),e=""===s?"."+P(l,0):s,w(o)?(a="",null!=e&&(a=e.replace(E,"$&/")+"/"),A(o,t,a,"",(function(e){return e}))):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,a+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",w(e))for(var c=0;c<e.length;c++){var d=s+P(i=e[c],c);l+=A(i,t,a,d,o)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(i=e.next()).done;)l+=A(i=i.value,t,a,d=s+P(i,c++),o);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function T(e,t,r){if(null==e)return e;var n=[],a=0;return A(e,n,"","",(function(e){return t.call(r,e,a++)})),n}function _(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},R={transition:null},L={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:R,ReactCurrentOwner:j};function I(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:T,forEach:function(e,t,r){T(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=a,t.Profiler=o,t.PureComponent=v,t.StrictMode=s,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.act=I,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=f({},e.props),s=e.key,o=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,i=j.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)k.call(t,c)&&!N.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];a.children=l}return{$$typeof:r,type:e.type,key:s,ref:o,props:a,_owner:i}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:_}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=I,t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,r){return D.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,r){return D.current.useReducer(e,t,r)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return D.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return D.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,a=e[n];if(!(0<s(a,t)))break e;e[n]=t,e[r]=a,r=n}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,a=e.length,o=a>>>1;n<o;){var i=2*(n+1)-1,l=e[i],c=i+1,d=e[c];if(0>s(l,r))c<a&&0>s(d,l)?(e[n]=d,e[c]=r,n=c):(e[n]=l,e[i]=r,n=i);else{if(!(c<a&&0>s(d,r)))break e;e[n]=d,e[c]=r,n=c}}}return t}function s(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],d=[],u=1,h=null,p=3,m=!1,f=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,x="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=n(d);null!==t;){if(null===t.callback)a(d);else{if(!(t.startTime<=e))break;a(d),t.sortIndex=t.expirationTime,r(c,t)}t=n(d)}}function w(e){if(g=!1,b(e),!f)if(null!==n(c))f=!0,R(k);else{var t=n(d);null!==t&&L(w,t.startTime-e)}}function k(e,r){f=!1,g&&(g=!1,x(C),C=-1),m=!0;var s=p;try{for(b(r),h=n(c);null!==h&&(!(h.expirationTime>r)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,p=h.priorityLevel;var i=o(h.expirationTime<=r);r=t.unstable_now(),"function"===typeof i?h.callback=i:h===n(c)&&a(c),b(r)}else a(c);h=n(c)}if(null!==h)var l=!0;else{var u=n(d);null!==u&&L(w,u.startTime-r),l=!1}return l}finally{h=null,p=s,m=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var j,N=!1,S=null,C=-1,E=5,P=-1;function A(){return!(t.unstable_now()-P<E)}function T(){if(null!==S){var e=t.unstable_now();P=e;var r=!0;try{r=S(!0,e)}finally{r?j():(N=!1,S=null)}}else N=!1}if("function"===typeof v)j=function(){v(T)};else if("undefined"!==typeof MessageChannel){var _=new MessageChannel,D=_.port2;_.port1.onmessage=T,j=function(){D.postMessage(null)}}else j=function(){y(T,0)};function R(e){S=e,N||(N=!0,j())}function L(e,r){C=y((function(){e(t.unstable_now())}),r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||m||(f=!0,R(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var r=p;p=t;try{return e()}finally{p=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=p;p=e;try{return t()}finally{p=r}},t.unstable_scheduleCallback=function(e,a,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:s,expirationTime:i=s+i,sortIndex:-1},s>o?(e.sortIndex=s,r(d,e),null===n(c)&&e===n(d)&&(g?(x(C),C=-1):g=!0,L(w,s-o))):(e.sortIndex=i,r(c,e),f||m||(f=!0,R(k))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=p;return function(){var r=p;p=t;try{return e.apply(this,arguments)}finally{p=r}}}},237:(e,t,r)=>{r(365)},365:(e,t,r)=>{var n=r(43);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=n.useSyncExternalStore,o=n.useRef,i=n.useEffect,l=n.useMemo,c=n.useDebugValue},391:(e,t,r)=>{var n=r(950);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},579:(e,t,r)=>{e.exports=r(153)},730:(e,t,r)=>{var n=r(43),a=r(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,i={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(i[e]=t,e=0;e<t.length;e++)o.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function f(e,t,r,n,a,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new f(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new f(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new f(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new f(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new f(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new f(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function x(e){return e[1].toUpperCase()}function v(e,t,r,n){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,a,n)&&(r=null),n||null===a?function(e){return!!u.call(m,e)||!u.call(p,e)&&(h.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=null===r?3!==a.type&&"":r:(t=a.attributeName,n=a.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(a=a.type)||4===a&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,x);g[t]=new f(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,x);g[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,x);g[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),k=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),E=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var O,M=Object.assign;function F(e){if(void 0===O)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var B=!1;function U(e,t){if(!e||B)return"";B=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),s=n.stack.split("\n"),o=a.length-1,i=s.length-1;1<=o&&0<=i&&a[o]!==s[i];)i--;for(;1<=o&&0<=i;o--,i--)if(a[o]!==s[i]){if(1!==o||1!==i)do{if(o--,0>--i||a[o]!==s[i]){var l="\n"+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=i);break}}}finally{B=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case j:return"Fragment";case k:return"Portal";case S:return"Profiler";case N:return"StrictMode";case A:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case P:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case _:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return V(e(t))}catch(r){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=q(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var r=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function X(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=H(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function J(e,t){Q(e,t);var r=H(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,r):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ee(e,t,r){"number"===t&&$(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var te=Array.isArray;function re(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+H(r),t=null,a=0;a<e.length;a++){if(e[a].value===r)return e[a].selected=!0,void(n&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(s(92));if(te(r)){if(1<r.length)throw Error(s(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:H(r)}}function se(e,t){var r=H(t.value),n=H(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction((function(){return de(e,t)}))}:de);function he(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function fe(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),a=fe(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}Object.keys(pe).forEach((function(e){me.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ye=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xe(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,je=null,Ne=null;function Se(e){if(e=va(e)){if("function"!==typeof ke)throw Error(s(280));var t=e.stateNode;t&&(t=wa(t),ke(e.stateNode,e.type,t))}}function Ce(e){je?Ne?Ne.push(e):Ne=[e]:je=e}function Ee(){if(je){var e=je,t=Ne;if(Ne=je=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Pe(e,t){return e(t)}function Ae(){}var Te=!1;function _e(e,t,r){if(Te)return e(t,r);Te=!0;try{return Pe(e,t,r)}finally{Te=!1,(null!==je||null!==Ne)&&(Ae(),Ee())}}function De(e,t){var r=e.stateNode;if(null===r)return null;var n=wa(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(s(231,t,typeof r));return r}var Re=!1;if(d)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(de){Re=!1}function Ie(e,t,r,n,a,s,o,i,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Oe=!1,Me=null,Fe=!1,Be=null,Ue={onError:function(e){Oe=!0,Me=e}};function ze(e,t,r,n,a,s,o,i,l){Oe=!1,Me=null,Ie.apply(Ue,arguments)}function Ve(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ve(e)!==e)throw Error(s(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(s(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(n=a.return)){r=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return He(a),e;if(o===n)return He(a),t;o=o.sibling}throw Error(s(188))}if(r.return!==n.return)r=a,n=o;else{for(var i=!1,l=a.child;l;){if(l===r){i=!0,r=a,n=o;break}if(l===n){i=!0,n=a,r=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===r){i=!0,r=o,n=a;break}if(l===n){i=!0,n=o,r=a;break}l=l.sibling}if(!i)throw Error(s(189))}}if(r.alternate!==n)throw Error(s(190))}if(3!==r.tag)throw Error(s(188));return r.stateNode.current===r?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=a.unstable_scheduleCallback,$e=a.unstable_cancelCallback,Ye=a.unstable_shouldYield,Xe=a.unstable_requestPaint,Qe=a.unstable_now,Je=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,rt=a.unstable_LowPriority,nt=a.unstable_IdlePriority,at=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(it(e)/lt|0)|0},it=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,o=268435455&r;if(0!==o){var i=o&~a;0!==i?n=ut(i):0!==(s&=o)&&(n=ut(s))}else 0!==(o=r&~a)?n=ut(o):0!==s&&(n=ut(s));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&a)&&((a=n&-n)>=(s=t&-t)||16===a&&0!==(4194240&s)))return t;if(0!==(4&n)&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)a=1<<(r=31-ot(t)),n|=e[r],t&=~a;return n}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function yt(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=r}function xt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ot(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var vt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,kt,jt,Nt,St,Ct=!1,Et=[],Pt=null,At=null,Tt=null,_t=new Map,Dt=new Map,Rt=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function It(e,t){switch(e){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":_t.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Ot(e,t,r,n,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=va(t))&&kt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Mt(e){var t=xa(e.target);if(null!==t){var r=Ve(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=We(r)))return e.blockedOn=t,void St(e.priority,(function(){jt(r)}))}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=va(r))&&kt(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);be=n,r.target.dispatchEvent(n),be=null,t.shift()}return!0}function Bt(e,t,r){Ft(e)&&r.delete(t)}function Ut(){Ct=!1,null!==Pt&&Ft(Pt)&&(Pt=null),null!==At&&Ft(At)&&(At=null),null!==Tt&&Ft(Tt)&&(Tt=null),_t.forEach(Bt),Dt.forEach(Bt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Ut)))}function Vt(e){function t(t){return zt(t,e)}if(0<Et.length){zt(Et[0],e);for(var r=1;r<Et.length;r++){var n=Et[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Pt&&zt(Pt,e),null!==At&&zt(At,e),null!==Tt&&zt(Tt,e),_t.forEach(t),Dt.forEach(t),r=0;r<Rt.length;r++)(n=Rt[r]).blockedOn===e&&(n.blockedOn=null);for(;0<Rt.length&&null===(r=Rt[0]).blockedOn;)Mt(r),null===r.blockedOn&&Rt.shift()}var Wt=b.ReactCurrentBatchConfig,Ht=!0;function qt(e,t,r,n){var a=vt,s=Wt.transition;Wt.transition=null;try{vt=1,Kt(e,t,r,n)}finally{vt=a,Wt.transition=s}}function Gt(e,t,r,n){var a=vt,s=Wt.transition;Wt.transition=null;try{vt=4,Kt(e,t,r,n)}finally{vt=a,Wt.transition=s}}function Kt(e,t,r,n){if(Ht){var a=Yt(e,t,r,n);if(null===a)Hn(e,t,n,$t,r),It(e,n);else if(function(e,t,r,n,a){switch(t){case"focusin":return Pt=Ot(Pt,e,t,r,n,a),!0;case"dragenter":return At=Ot(At,e,t,r,n,a),!0;case"mouseover":return Tt=Ot(Tt,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return _t.set(s,Ot(_t.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,Dt.set(s,Ot(Dt.get(s)||null,e,t,r,n,a)),!0}return!1}(a,e,t,r,n))n.stopPropagation();else if(It(e,n),4&t&&-1<Lt.indexOf(e)){for(;null!==a;){var s=va(a);if(null!==s&&wt(s),null===(s=Yt(e,t,r,n))&&Hn(e,t,n,$t,r),s===a)break;a=s}null!==a&&n.stopPropagation()}else Hn(e,t,n,null,r)}}var $t=null;function Yt(e,t,r,n){if($t=null,null!==(e=xa(e=we(n))))if(null===(t=Ve(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case rt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Qt=null,Jt=null,Zt=null;function er(){if(Zt)return Zt;var e,t,r=Jt,n=r.length,a="value"in Qt?Qt.value:Qt.textContent,s=a.length;for(e=0;e<n&&r[e]===a[e];e++);var o=n-e;for(t=1;t<=o&&r[n-t]===a[s-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function tr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rr(){return!0}function nr(){return!1}function ar(e){function t(t,r,n,a,s){for(var o in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?rr:nr,this.isPropagationStopped=nr,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),t}var sr,or,ir,lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cr=ar(lr),dr=M({},lr,{view:0,detail:0}),ur=ar(dr),hr=M({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ir&&(ir&&"mousemove"===e.type?(sr=e.screenX-ir.screenX,or=e.screenY-ir.screenY):or=sr=0,ir=e),sr)},movementY:function(e){return"movementY"in e?e.movementY:or}}),pr=ar(hr),mr=ar(M({},hr,{dataTransfer:0})),fr=ar(M({},dr,{relatedTarget:0})),gr=ar(M({},lr,{animationName:0,elapsedTime:0,pseudoElement:0})),yr=M({},lr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xr=ar(yr),vr=ar(M({},lr,{data:0})),br={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kr[e])&&!!t[e]}function Nr(){return jr}var Sr=M({},dr,{key:function(e){if(e.key){var t=br[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nr,charCode:function(e){return"keypress"===e.type?tr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cr=ar(Sr),Er=ar(M({},hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pr=ar(M({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nr})),Ar=ar(M({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Tr=M({},hr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_r=ar(Tr),Dr=[9,13,27,32],Rr=d&&"CompositionEvent"in window,Lr=null;d&&"documentMode"in document&&(Lr=document.documentMode);var Ir=d&&"TextEvent"in window&&!Lr,Or=d&&(!Rr||Lr&&8<Lr&&11>=Lr),Mr=String.fromCharCode(32),Fr=!1;function Br(e,t){switch(e){case"keyup":return-1!==Dr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ur(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zr=!1;var Vr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vr[e.type]:"textarea"===t}function Hr(e,t,r,n){Ce(n),0<(t=Gn(t,"onChange")).length&&(r=new cr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var qr=null,Gr=null;function Kr(e){Fn(e,0)}function $r(e){if(K(ba(e)))return e}function Yr(e,t){if("change"===e)return t}var Xr=!1;if(d){var Qr;if(d){var Jr="oninput"in document;if(!Jr){var Zr=document.createElement("div");Zr.setAttribute("oninput","return;"),Jr="function"===typeof Zr.oninput}Qr=Jr}else Qr=!1;Xr=Qr&&(!document.documentMode||9<document.documentMode)}function en(){qr&&(qr.detachEvent("onpropertychange",tn),Gr=qr=null)}function tn(e){if("value"===e.propertyName&&$r(Gr)){var t=[];Hr(t,Gr,e,we(e)),_e(Kr,t)}}function rn(e,t,r){"focusin"===e?(en(),Gr=r,(qr=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function nn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $r(Gr)}function an(e,t){if("click"===e)return $r(t)}function sn(e,t){if("input"===e||"change"===e)return $r(t)}var on="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ln(e,t){if(on(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!u.call(t,a)||!on(e[a],t[a]))return!1}return!0}function cn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dn(e,t){var r,n=cn(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cn(n)}}function un(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?un(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hn(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=$((e=t.contentWindow).document)}return t}function pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mn(e){var t=hn(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&un(r.ownerDocument.documentElement,r)){if(null!==n&&pn(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=void 0===n.end?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=dn(r,s);var o=dn(r,n);a&&o&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fn=d&&"documentMode"in document&&11>=document.documentMode,gn=null,yn=null,xn=null,vn=!1;function bn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;vn||null==gn||gn!==$(n)||("selectionStart"in(n=gn)&&pn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},xn&&ln(xn,n)||(xn=n,0<(n=Gn(yn,"onSelect")).length&&(t=new cr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=gn)))}function wn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var kn={animationend:wn("Animation","AnimationEnd"),animationiteration:wn("Animation","AnimationIteration"),animationstart:wn("Animation","AnimationStart"),transitionend:wn("Transition","TransitionEnd")},jn={},Nn={};function Sn(e){if(jn[e])return jn[e];if(!kn[e])return e;var t,r=kn[e];for(t in r)if(r.hasOwnProperty(t)&&t in Nn)return jn[e]=r[t];return e}d&&(Nn=document.createElement("div").style,"AnimationEvent"in window||(delete kn.animationend.animation,delete kn.animationiteration.animation,delete kn.animationstart.animation),"TransitionEvent"in window||delete kn.transitionend.transition);var Cn=Sn("animationend"),En=Sn("animationiteration"),Pn=Sn("animationstart"),An=Sn("transitionend"),Tn=new Map,_n="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dn(e,t){Tn.set(e,t),l(t,[e])}for(var Rn=0;Rn<_n.length;Rn++){var Ln=_n[Rn];Dn(Ln.toLowerCase(),"on"+(Ln[0].toUpperCase()+Ln.slice(1)))}Dn(Cn,"onAnimationEnd"),Dn(En,"onAnimationIteration"),Dn(Pn,"onAnimationStart"),Dn("dblclick","onDoubleClick"),Dn("focusin","onFocus"),Dn("focusout","onBlur"),Dn(An,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var In="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),On=new Set("cancel close invalid load scroll toggle".split(" ").concat(In));function Mn(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,a,o,i,l,c){if(ze.apply(this,arguments),Oe){if(!Oe)throw Error(s(198));var d=Me;Oe=!1,Me=null,Fe||(Fe=!0,Be=d)}}(n,t,void 0,e),e.currentTarget=null}function Fn(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var i=n[o],l=i.instance,c=i.currentTarget;if(i=i.listener,l!==s&&a.isPropagationStopped())break e;Mn(a,i,c),s=l}else for(o=0;o<n.length;o++){if(l=(i=n[o]).instance,c=i.currentTarget,i=i.listener,l!==s&&a.isPropagationStopped())break e;Mn(a,i,c),s=l}}}if(Fe)throw e=Be,Fe=!1,Be=null,e}function Bn(e,t){var r=t[fa];void 0===r&&(r=t[fa]=new Set);var n=e+"__bubble";r.has(n)||(Wn(t,e,2,!1),r.add(n))}function Un(e,t,r){var n=0;t&&(n|=4),Wn(r,e,n,t)}var zn="_reactListening"+Math.random().toString(36).slice(2);function Vn(e){if(!e[zn]){e[zn]=!0,o.forEach((function(t){"selectionchange"!==t&&(On.has(t)||Un(t,!1,e),Un(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zn]||(t[zn]=!0,Un("selectionchange",!1,t))}}function Wn(e,t,r,n){switch(Xt(t)){case 1:var a=qt;break;case 4:a=Gt;break;default:a=Kt}r=a.bind(null,t,r,e),a=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),n?void 0!==a?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):void 0!==a?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Hn(e,t,r,n,a){var s=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var o=n.tag;if(3===o||4===o){var i=n.stateNode.containerInfo;if(i===a||8===i.nodeType&&i.parentNode===a)break;if(4===o)for(o=n.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;o=o.return}for(;null!==i;){if(null===(o=xa(i)))return;if(5===(l=o.tag)||6===l){n=s=o;continue e}i=i.parentNode}}n=n.return}_e((function(){var n=s,a=we(r),o=[];e:{var i=Tn.get(e);if(void 0!==i){var l=cr,c=e;switch(e){case"keypress":if(0===tr(r))break e;case"keydown":case"keyup":l=Cr;break;case"focusin":c="focus",l=fr;break;case"focusout":c="blur",l=fr;break;case"beforeblur":case"afterblur":l=fr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pr;break;case Cn:case En:case Pn:l=gr;break;case An:l=Ar;break;case"scroll":l=ur;break;case"wheel":l=_r;break;case"copy":case"cut":case"paste":l=xr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Er}var d=0!==(4&t),u=!d&&"scroll"===e,h=d?null!==i?i+"Capture":null:i;d=[];for(var p,m=n;null!==m;){var f=(p=m).stateNode;if(5===p.tag&&null!==f&&(p=f,null!==h&&(null!=(f=De(m,h))&&d.push(qn(m,f,p)))),u)break;m=m.return}0<d.length&&(i=new l(i,c,null,r,a),o.push({event:i,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||r===be||!(c=r.relatedTarget||r.fromElement)||!xa(c)&&!c[ma])&&(l||i)&&(i=a.window===a?a:(i=a.ownerDocument)?i.defaultView||i.parentWindow:window,l?(l=n,null!==(c=(c=r.relatedTarget||r.toElement)?xa(c):null)&&(c!==(u=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=n),l!==c)){if(d=pr,f="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=Er,f="onPointerLeave",h="onPointerEnter",m="pointer"),u=null==l?i:ba(l),p=null==c?i:ba(c),(i=new d(f,m+"leave",l,r,a)).target=u,i.relatedTarget=p,f=null,xa(a)===n&&((d=new d(h,m+"enter",c,r,a)).target=p,d.relatedTarget=u,f=d),u=f,l&&c)e:{for(h=c,m=0,p=d=l;p;p=Kn(p))m++;for(p=0,f=h;f;f=Kn(f))p++;for(;0<m-p;)d=Kn(d),m--;for(;0<p-m;)h=Kn(h),p--;for(;m--;){if(d===h||null!==h&&d===h.alternate)break e;d=Kn(d),h=Kn(h)}d=null}else d=null;null!==l&&$n(o,i,l,d,!1),null!==c&&null!==u&&$n(o,u,c,d,!0)}if("select"===(l=(i=n?ba(n):window).nodeName&&i.nodeName.toLowerCase())||"input"===l&&"file"===i.type)var g=Yr;else if(Wr(i))if(Xr)g=sn;else{g=nn;var y=rn}else(l=i.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(g=an);switch(g&&(g=g(e,n))?Hr(o,g,r,a):(y&&y(e,i,n),"focusout"===e&&(y=i._wrapperState)&&y.controlled&&"number"===i.type&&ee(i,"number",i.value)),y=n?ba(n):window,e){case"focusin":(Wr(y)||"true"===y.contentEditable)&&(gn=y,yn=n,xn=null);break;case"focusout":xn=yn=gn=null;break;case"mousedown":vn=!0;break;case"contextmenu":case"mouseup":case"dragend":vn=!1,bn(o,r,a);break;case"selectionchange":if(fn)break;case"keydown":case"keyup":bn(o,r,a)}var x;if(Rr)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else zr?Br(e,r)&&(v="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(v="onCompositionStart");v&&(Or&&"ko"!==r.locale&&(zr||"onCompositionStart"!==v?"onCompositionEnd"===v&&zr&&(x=er()):(Jt="value"in(Qt=a)?Qt.value:Qt.textContent,zr=!0)),0<(y=Gn(n,v)).length&&(v=new vr(v,e,null,r,a),o.push({event:v,listeners:y}),x?v.data=x:null!==(x=Ur(r))&&(v.data=x))),(x=Ir?function(e,t){switch(e){case"compositionend":return Ur(t);case"keypress":return 32!==t.which?null:(Fr=!0,Mr);case"textInput":return(e=t.data)===Mr&&Fr?null:e;default:return null}}(e,r):function(e,t){if(zr)return"compositionend"===e||!Rr&&Br(e,t)?(e=er(),Zt=Jt=Qt=null,zr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Or&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(n=Gn(n,"onBeforeInput")).length&&(a=new vr("onBeforeInput","beforeinput",null,r,a),o.push({event:a,listeners:n}),a.data=x))}Fn(o,t)}))}function qn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Gn(e,t){for(var r=t+"Capture",n=[];null!==e;){var a=e,s=a.stateNode;5===a.tag&&null!==s&&(a=s,null!=(s=De(e,r))&&n.unshift(qn(e,s,a)),null!=(s=De(e,t))&&n.push(qn(e,s,a))),e=e.return}return n}function Kn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function $n(e,t,r,n,a){for(var s=t._reactName,o=[];null!==r&&r!==n;){var i=r,l=i.alternate,c=i.stateNode;if(null!==l&&l===n)break;5===i.tag&&null!==c&&(i=c,a?null!=(l=De(r,s))&&o.unshift(qn(r,l,i)):a||null!=(l=De(r,s))&&o.push(qn(r,l,i))),r=r.return}0!==o.length&&e.push({event:t,listeners:o})}var Yn=/\r\n?/g,Xn=/\u0000|\uFFFD/g;function Qn(e){return("string"===typeof e?e:""+e).replace(Yn,"\n").replace(Xn,"")}function Jn(e,t,r){if(t=Qn(t),Qn(e)!==t&&r)throw Error(s(425))}function Zn(){}var ea=null,ta=null;function ra(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var na="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,sa="function"===typeof Promise?Promise:void 0,oa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sa?function(e){return sa.resolve(null).then(e).catch(ia)}:na;function ia(e){setTimeout((function(){throw e}))}function la(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&8===a.nodeType)if("/$"===(r=a.data)){if(0===n)return e.removeChild(a),void Vt(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=a}while(r);Vt(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function da(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var ua=Math.random().toString(36).slice(2),ha="__reactFiber$"+ua,pa="__reactProps$"+ua,ma="__reactContainer$"+ua,fa="__reactEvents$"+ua,ga="__reactListeners$"+ua,ya="__reactHandles$"+ua;function xa(e){var t=e[ha];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ma]||r[ha]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=da(e);null!==e;){if(r=e[ha])return r;e=da(e)}return t}r=(e=r).parentNode}return null}function va(e){return!(e=e[ha]||e[ma])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ba(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function wa(e){return e[pa]||null}var ka=[],ja=-1;function Na(e){return{current:e}}function Sa(e){0>ja||(e.current=ka[ja],ka[ja]=null,ja--)}function Ca(e,t){ja++,ka[ja]=e.current,e.current=t}var Ea={},Pa=Na(Ea),Aa=Na(!1),Ta=Ea;function _a(e,t){var r=e.type.contextTypes;if(!r)return Ea;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a,s={};for(a in r)s[a]=t[a];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Da(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ra(){Sa(Aa),Sa(Pa)}function La(e,t,r){if(Pa.current!==Ea)throw Error(s(168));Ca(Pa,t),Ca(Aa,r)}function Ia(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var a in n=n.getChildContext())if(!(a in t))throw Error(s(108,W(e)||"Unknown",a));return M({},r,n)}function Oa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ea,Ta=Pa.current,Ca(Pa,e),Ca(Aa,Aa.current),!0}function Ma(e,t,r){var n=e.stateNode;if(!n)throw Error(s(169));r?(e=Ia(e,t,Ta),n.__reactInternalMemoizedMergedChildContext=e,Sa(Aa),Sa(Pa),Ca(Pa,e)):Sa(Aa),Ca(Aa,r)}var Fa=null,Ba=!1,Ua=!1;function za(e){null===Fa?Fa=[e]:Fa.push(e)}function Va(){if(!Ua&&null!==Fa){Ua=!0;var e=0,t=vt;try{var r=Fa;for(vt=1;e<r.length;e++){var n=r[e];do{n=n(!0)}while(null!==n)}Fa=null,Ba=!1}catch(a){throw null!==Fa&&(Fa=Fa.slice(e+1)),Ke(Ze,Va),a}finally{vt=t,Ua=!1}}return null}var Wa=[],Ha=0,qa=null,Ga=0,Ka=[],$a=0,Ya=null,Xa=1,Qa="";function Ja(e,t){Wa[Ha++]=Ga,Wa[Ha++]=qa,qa=e,Ga=t}function Za(e,t,r){Ka[$a++]=Xa,Ka[$a++]=Qa,Ka[$a++]=Ya,Ya=e;var n=Xa;e=Qa;var a=32-ot(n)-1;n&=~(1<<a),r+=1;var s=32-ot(t)+a;if(30<s){var o=a-a%5;s=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Xa=1<<32-ot(t)+a|r<<a|n,Qa=s+e}else Xa=1<<s|r<<a|n,Qa=e}function es(e){null!==e.return&&(Ja(e,1),Za(e,1,0))}function ts(e){for(;e===qa;)qa=Wa[--Ha],Wa[Ha]=null,Ga=Wa[--Ha],Wa[Ha]=null;for(;e===Ya;)Ya=Ka[--$a],Ka[$a]=null,Qa=Ka[--$a],Ka[$a]=null,Xa=Ka[--$a],Ka[$a]=null}var rs=null,ns=null,as=!1,ss=null;function os(e,t){var r=_c(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function is(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,rs=e,ns=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,rs=e,ns=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==Ya?{id:Xa,overflow:Qa}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=_c(18,null,null,0)).stateNode=t,r.return=e,e.child=r,rs=e,ns=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(as){var t=ns;if(t){var r=t;if(!is(e,t)){if(ls(e))throw Error(s(418));t=ca(r.nextSibling);var n=rs;t&&is(e,t)?os(n,r):(e.flags=-4097&e.flags|2,as=!1,rs=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,as=!1,rs=e}}}function ds(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;rs=e}function us(e){if(e!==rs)return!1;if(!as)return ds(e),as=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ra(e.type,e.memoizedProps)),t&&(t=ns)){if(ls(e))throw hs(),Error(s(418));for(;t;)os(e,t),t=ca(t.nextSibling)}if(ds(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){ns=ca(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}ns=null}}else ns=rs?ca(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=ns;e;)e=ca(e.nextSibling)}function ps(){ns=rs=null,as=!1}function ms(e){null===ss?ss=[e]:ss.push(e)}var fs=b.ReactCurrentBatchConfig;function gs(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(s(309));var n=r.stateNode}if(!n)throw Error(s(147,e));var a=n,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=a.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!r._owner)throw Error(s(290,e))}return e}function ys(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xs(e){return(0,e._init)(e._payload)}function vs(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function o(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=Mc(r,e.mode,n)).return=e,t):((t=a(t,r)).return=e,t)}function c(e,t,r,n){var s=r.type;return s===j?u(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===D&&xs(s)===t.type)?((n=a(t,r.props)).ref=gs(e,t,r),n.return=e,n):((n=Lc(r.type,r.key,r.props,null,e.mode,n)).ref=gs(e,t,r),n.return=e,n)}function d(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Fc(r,e.mode,n)).return=e,t):((t=a(t,r.children||[])).return=e,t)}function u(e,t,r,n,s){return null===t||7!==t.tag?((t=Ic(r,e.mode,n,s)).return=e,t):((t=a(t,r)).return=e,t)}function h(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(r=Lc(t.type,t.key,t.props,null,e.mode,r)).ref=gs(e,null,t),r.return=e,r;case k:return(t=Fc(t,e.mode,r)).return=e,t;case D:return h(e,(0,t._init)(t._payload),r)}if(te(t)||I(t))return(t=Ic(t,e.mode,r,null)).return=e,t;ys(e,t)}return null}function p(e,t,r,n){var a=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==a?null:l(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return r.key===a?c(e,t,r,n):null;case k:return r.key===a?d(e,t,r,n):null;case D:return p(e,t,(a=r._init)(r._payload),n)}if(te(r)||I(r))return null!==a?null:u(e,t,r,n,null);ys(e,r)}return null}function m(e,t,r,n,a){if("string"===typeof n&&""!==n||"number"===typeof n)return l(t,e=e.get(r)||null,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return c(t,e=e.get(null===n.key?r:n.key)||null,n,a);case k:return d(t,e=e.get(null===n.key?r:n.key)||null,n,a);case D:return m(e,t,r,(0,n._init)(n._payload),a)}if(te(n)||I(n))return u(t,e=e.get(r)||null,n,a,null);ys(t,n)}return null}function f(a,s,i,l){for(var c=null,d=null,u=s,f=s=0,g=null;null!==u&&f<i.length;f++){u.index>f?(g=u,u=null):g=u.sibling;var y=p(a,u,i[f],l);if(null===y){null===u&&(u=g);break}e&&u&&null===y.alternate&&t(a,u),s=o(y,s,f),null===d?c=y:d.sibling=y,d=y,u=g}if(f===i.length)return r(a,u),as&&Ja(a,f),c;if(null===u){for(;f<i.length;f++)null!==(u=h(a,i[f],l))&&(s=o(u,s,f),null===d?c=u:d.sibling=u,d=u);return as&&Ja(a,f),c}for(u=n(a,u);f<i.length;f++)null!==(g=m(u,a,f,i[f],l))&&(e&&null!==g.alternate&&u.delete(null===g.key?f:g.key),s=o(g,s,f),null===d?c=g:d.sibling=g,d=g);return e&&u.forEach((function(e){return t(a,e)})),as&&Ja(a,f),c}function g(a,i,l,c){var d=I(l);if("function"!==typeof d)throw Error(s(150));if(null==(l=d.call(l)))throw Error(s(151));for(var u=d=null,f=i,g=i=0,y=null,x=l.next();null!==f&&!x.done;g++,x=l.next()){f.index>g?(y=f,f=null):y=f.sibling;var v=p(a,f,x.value,c);if(null===v){null===f&&(f=y);break}e&&f&&null===v.alternate&&t(a,f),i=o(v,i,g),null===u?d=v:u.sibling=v,u=v,f=y}if(x.done)return r(a,f),as&&Ja(a,g),d;if(null===f){for(;!x.done;g++,x=l.next())null!==(x=h(a,x.value,c))&&(i=o(x,i,g),null===u?d=x:u.sibling=x,u=x);return as&&Ja(a,g),d}for(f=n(a,f);!x.done;g++,x=l.next())null!==(x=m(f,a,g,x.value,c))&&(e&&null!==x.alternate&&f.delete(null===x.key?g:x.key),i=o(x,i,g),null===u?d=x:u.sibling=x,u=x);return e&&f.forEach((function(e){return t(a,e)})),as&&Ja(a,g),d}return function e(n,s,o,l){if("object"===typeof o&&null!==o&&o.type===j&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,d=s;null!==d;){if(d.key===c){if((c=o.type)===j){if(7===d.tag){r(n,d.sibling),(s=a(d,o.props.children)).return=n,n=s;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&xs(c)===d.type){r(n,d.sibling),(s=a(d,o.props)).ref=gs(n,d,o),s.return=n,n=s;break e}r(n,d);break}t(n,d),d=d.sibling}o.type===j?((s=Ic(o.props.children,n.mode,l,o.key)).return=n,n=s):((l=Lc(o.type,o.key,o.props,null,n.mode,l)).ref=gs(n,s,o),l.return=n,n=l)}return i(n);case k:e:{for(d=o.key;null!==s;){if(s.key===d){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){r(n,s.sibling),(s=a(s,o.children||[])).return=n,n=s;break e}r(n,s);break}t(n,s),s=s.sibling}(s=Fc(o,n.mode,l)).return=n,n=s}return i(n);case D:return e(n,s,(d=o._init)(o._payload),l)}if(te(o))return f(n,s,o,l);if(I(o))return g(n,s,o,l);ys(n,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(r(n,s.sibling),(s=a(s,o)).return=n,n=s):(r(n,s),(s=Mc(o,n.mode,l)).return=n,n=s),i(n)):r(n,s)}}var bs=vs(!0),ws=vs(!1),ks=Na(null),js=null,Ns=null,Ss=null;function Cs(){Ss=Ns=js=null}function Es(e){var t=ks.current;Sa(ks),e._currentValue=t}function Ps(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function As(e,t){js=e,Ss=Ns=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(vi=!0),e.firstContext=null)}function Ts(e){var t=e._currentValue;if(Ss!==e)if(e={context:e,memoizedValue:t,next:null},null===Ns){if(null===js)throw Error(s(308));Ns=e,js.dependencies={lanes:0,firstContext:e}}else Ns=Ns.next=e;return t}var _s=null;function Ds(e){null===_s?_s=[e]:_s.push(e)}function Rs(e,t,r,n){var a=t.interleaved;return null===a?(r.next=r,Ds(t)):(r.next=a.next,a.next=r),t.interleaved=r,Ls(e,n)}function Ls(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Is=!1;function Os(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ms(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bs(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Pl)){var a=n.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Ls(e,r)}return null===(a=n.interleaved)?(t.next=t,Ds(n)):(t.next=a.next,a.next=t),n.interleaved=t,Ls(e,r)}function Us(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,xt(e,r)}}function zs(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var a=null,s=null;if(null!==(r=r.firstBaseUpdate)){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===s?a=s=o:s=s.next=o,r=r.next}while(null!==r);null===s?a=s=t:s=s.next=t}else a=s=t;return r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Vs(e,t,r,n){var a=e.updateQueue;Is=!1;var s=a.firstBaseUpdate,o=a.lastBaseUpdate,i=a.shared.pending;if(null!==i){a.shared.pending=null;var l=i,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var d=e.alternate;null!==d&&((i=(d=d.updateQueue).lastBaseUpdate)!==o&&(null===i?d.firstBaseUpdate=c:i.next=c,d.lastBaseUpdate=l))}if(null!==s){var u=a.baseState;for(o=0,d=c=l=null,i=s;;){var h=i.lane,p=i.eventTime;if((n&h)===h){null!==d&&(d=d.next={eventTime:p,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var m=e,f=i;switch(h=t,p=r,f.tag){case 1:if("function"===typeof(m=f.payload)){u=m.call(p,u,h);break e}u=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=f.payload)?m.call(p,u,h):m)||void 0===h)break e;u=M({},u,h);break e;case 2:Is=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(h=a.effects)?a.effects=[i]:h.push(i))}else p={eventTime:p,lane:h,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===d?(c=d=p,l=u):d=d.next=p,o|=h;if(null===(i=i.next)){if(null===(i=a.shared.pending))break;i=(h=i).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}if(null===d&&(l=u),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=d,null!==(t=a.shared.interleaved)){a=t;do{o|=a.lane,a=a.next}while(a!==t)}else null===s&&(a.shared.lanes=0);Ol|=o,e.lanes=o,e.memoizedState=u}}function Ws(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(null!==a){if(n.callback=null,n=r,"function"!==typeof a)throw Error(s(191,a));a.call(n)}}}var Hs={},qs=Na(Hs),Gs=Na(Hs),Ks=Na(Hs);function $s(e){if(e===Hs)throw Error(s(174));return e}function Ys(e,t){switch(Ca(Ks,t),Ca(Gs,e),Ca(qs,Hs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Sa(qs),Ca(qs,t)}function Xs(){Sa(qs),Sa(Gs),Sa(Ks)}function Qs(e){$s(Ks.current);var t=$s(qs.current),r=le(t,e.type);t!==r&&(Ca(Gs,e),Ca(qs,r))}function Js(e){Gs.current===e&&(Sa(qs),Sa(Gs))}var Zs=Na(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function ro(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var no=b.ReactCurrentDispatcher,ao=b.ReactCurrentBatchConfig,so=0,oo=null,io=null,lo=null,co=!1,uo=!1,ho=0,po=0;function mo(){throw Error(s(321))}function fo(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!on(e[r],t[r]))return!1;return!0}function go(e,t,r,n,a,o){if(so=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,no.current=null===e||null===e.memoizedState?Zo:ei,e=r(n,a),uo){o=0;do{if(uo=!1,ho=0,25<=o)throw Error(s(301));o+=1,lo=io=null,t.updateQueue=null,no.current=ti,e=r(n,a)}while(uo)}if(no.current=Jo,t=null!==io&&null!==io.next,so=0,lo=io=oo=null,co=!1,t)throw Error(s(300));return e}function yo(){var e=0!==ho;return ho=0,e}function xo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function vo(){if(null===io){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=io.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,io=e;else{if(null===e)throw Error(s(310));e={memoizedState:(io=e).memoizedState,baseState:io.baseState,baseQueue:io.baseQueue,queue:io.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function bo(e,t){return"function"===typeof t?t(e):t}function wo(e){var t=vo(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var n=io,a=n.baseQueue,o=r.pending;if(null!==o){if(null!==a){var i=a.next;a.next=o.next,o.next=i}n.baseQueue=a=o,r.pending=null}if(null!==a){o=a.next,n=n.baseState;var l=i=null,c=null,d=o;do{var u=d.lane;if((so&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=h,i=n):c=c.next=h,oo.lanes|=u,Ol|=u}d=d.next}while(null!==d&&d!==o);null===c?i=n:c.next=l,on(n,t.memoizedState)||(vi=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(null!==(e=r.interleaved)){a=e;do{o=a.lane,oo.lanes|=o,Ol|=o,a=a.next}while(a!==e)}else null===a&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ko(e){var t=vo(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,o=t.memoizedState;if(null!==a){r.pending=null;var i=a=a.next;do{o=e(o,i.action),i=i.next}while(i!==a);on(o,t.memoizedState)||(vi=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function jo(){}function No(e,t){var r=oo,n=vo(),a=t(),o=!on(n.memoizedState,a);if(o&&(n.memoizedState=a,vi=!0),n=n.queue,Oo(Eo.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(r.flags|=2048,_o(9,Co.bind(null,r,n,a,t),void 0,null),null===Al)throw Error(s(349));0!==(30&so)||So(r,t,a)}return a}function So(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Co(e,t,r,n){t.value=r,t.getSnapshot=n,Po(t)&&Ao(e)}function Eo(e,t,r){return r((function(){Po(t)&&Ao(e)}))}function Po(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!on(e,r)}catch(n){return!0}}function Ao(e){var t=Ls(e,1);null!==t&&rc(t,e,1,-1)}function To(e){var t=xo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:e},t.queue=e,e=e.dispatch=$o.bind(null,oo,e),[t.memoizedState,e]}function _o(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function Do(){return vo().memoizedState}function Ro(e,t,r,n){var a=xo();oo.flags|=e,a.memoizedState=_o(1|t,r,void 0,void 0===n?null:n)}function Lo(e,t,r,n){var a=vo();n=void 0===n?null:n;var s=void 0;if(null!==io){var o=io.memoizedState;if(s=o.destroy,null!==n&&fo(n,o.deps))return void(a.memoizedState=_o(t,r,s,n))}oo.flags|=e,a.memoizedState=_o(1|t,r,s,n)}function Io(e,t){return Ro(8390656,8,e,t)}function Oo(e,t){return Lo(2048,8,e,t)}function Mo(e,t){return Lo(4,2,e,t)}function Fo(e,t){return Lo(4,4,e,t)}function Bo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Uo(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Lo(4,4,Bo.bind(null,t,e),r)}function zo(){}function Vo(e,t){var r=vo();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&fo(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Wo(e,t){var r=vo();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&fo(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Ho(e,t,r){return 0===(21&so)?(e.baseState&&(e.baseState=!1,vi=!0),e.memoizedState=r):(on(r,t)||(r=ft(),oo.lanes|=r,Ol|=r,e.baseState=!0),t)}function qo(e,t){var r=vt;vt=0!==r&&4>r?r:4,e(!0);var n=ao.transition;ao.transition={};try{e(!1),t()}finally{vt=r,ao.transition=n}}function Go(){return vo().memoizedState}function Ko(e,t,r){var n=tc(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Yo(e))Xo(t,r);else if(null!==(r=Rs(e,t,r,n))){rc(r,e,n,ec()),Qo(r,t,n)}}function $o(e,t,r){var n=tc(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Yo(e))Xo(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,i=s(o,r);if(a.hasEagerState=!0,a.eagerState=i,on(i,o)){var l=t.interleaved;return null===l?(a.next=a,Ds(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(r=Rs(e,t,a,n))&&(rc(r,e,n,a=ec()),Qo(r,t,n))}}function Yo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Xo(e,t){uo=co=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Qo(e,t,r){if(0!==(4194240&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,xt(e,r)}}var Jo={readContext:Ts,useCallback:mo,useContext:mo,useEffect:mo,useImperativeHandle:mo,useInsertionEffect:mo,useLayoutEffect:mo,useMemo:mo,useReducer:mo,useRef:mo,useState:mo,useDebugValue:mo,useDeferredValue:mo,useTransition:mo,useMutableSource:mo,useSyncExternalStore:mo,useId:mo,unstable_isNewReconciler:!1},Zo={readContext:Ts,useCallback:function(e,t){return xo().memoizedState=[e,void 0===t?null:t],e},useContext:Ts,useEffect:Io,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Ro(4194308,4,Bo.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ro(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ro(4,2,e,t)},useMemo:function(e,t){var r=xo();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=xo();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Ko.bind(null,oo,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},xo().memoizedState=e},useState:To,useDebugValue:zo,useDeferredValue:function(e){return xo().memoizedState=e},useTransition:function(){var e=To(!1),t=e[0];return e=qo.bind(null,e[1]),xo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=oo,a=xo();if(as){if(void 0===r)throw Error(s(407));r=r()}else{if(r=t(),null===Al)throw Error(s(349));0!==(30&so)||So(n,t,r)}a.memoizedState=r;var o={value:r,getSnapshot:t};return a.queue=o,Io(Eo.bind(null,n,o,e),[e]),n.flags|=2048,_o(9,Co.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=xo(),t=Al.identifierPrefix;if(as){var r=Qa;t=":"+t+"R"+(r=(Xa&~(1<<32-ot(Xa)-1)).toString(32)+r),0<(r=ho++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=po++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ei={readContext:Ts,useCallback:Vo,useContext:Ts,useEffect:Oo,useImperativeHandle:Uo,useInsertionEffect:Mo,useLayoutEffect:Fo,useMemo:Wo,useReducer:wo,useRef:Do,useState:function(){return wo(bo)},useDebugValue:zo,useDeferredValue:function(e){return Ho(vo(),io.memoizedState,e)},useTransition:function(){return[wo(bo)[0],vo().memoizedState]},useMutableSource:jo,useSyncExternalStore:No,useId:Go,unstable_isNewReconciler:!1},ti={readContext:Ts,useCallback:Vo,useContext:Ts,useEffect:Oo,useImperativeHandle:Uo,useInsertionEffect:Mo,useLayoutEffect:Fo,useMemo:Wo,useReducer:ko,useRef:Do,useState:function(){return ko(bo)},useDebugValue:zo,useDeferredValue:function(e){var t=vo();return null===io?t.memoizedState=e:Ho(t,io.memoizedState,e)},useTransition:function(){return[ko(bo)[0],vo().memoizedState]},useMutableSource:jo,useSyncExternalStore:No,useId:Go,unstable_isNewReconciler:!1};function ri(e,t){if(e&&e.defaultProps){for(var r in t=M({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}function ni(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:M({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var ai={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ec(),a=tc(e),s=Fs(n,a);s.payload=t,void 0!==r&&null!==r&&(s.callback=r),null!==(t=Bs(e,s,a))&&(rc(t,e,a,n),Us(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ec(),a=tc(e),s=Fs(n,a);s.tag=1,s.payload=t,void 0!==r&&null!==r&&(s.callback=r),null!==(t=Bs(e,s,a))&&(rc(t,e,a,n),Us(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ec(),n=tc(e),a=Fs(r,n);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Bs(e,a,n))&&(rc(t,e,n,r),Us(t,e,n))}};function si(e,t,r,n,a,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!ln(r,n)||!ln(a,s))}function oi(e,t,r){var n=!1,a=Ea,s=t.contextType;return"object"===typeof s&&null!==s?s=Ts(s):(a=Da(t)?Ta:Pa.current,s=(n=null!==(n=t.contextTypes)&&void 0!==n)?_a(e,a):Ea),t=new t(r,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ai,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function ii(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ai.enqueueReplaceState(t,t.state,null)}function li(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Os(e);var s=t.contextType;"object"===typeof s&&null!==s?a.context=Ts(s):(s=Da(t)?Ta:Pa.current,a.context=_a(e,s)),a.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ni(e,t,s,r),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&ai.enqueueReplaceState(a,a.state,null),Vs(e,r,a,n),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function ci(e,t){try{var r="",n=t;do{r+=z(n),n=n.return}while(n);var a=r}catch(s){a="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:a,digest:null}}function di(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function ui(e,t){try{console.error(t.value)}catch(r){setTimeout((function(){throw r}))}}var hi="function"===typeof WeakMap?WeakMap:Map;function pi(e,t,r){(r=Fs(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Hl||(Hl=!0,ql=n),ui(0,t)},r}function mi(e,t,r){(r=Fs(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){ui(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(r.callback=function(){ui(0,t),"function"!==typeof n&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function fi(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new hi;var a=new Set;n.set(t,a)}else void 0===(a=n.get(t))&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=Sc.bind(null,e,t,r),t.then(e,e))}function gi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yi(e,t,r,n,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=Fs(-1,1)).tag=2,Bs(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var xi=b.ReactCurrentOwner,vi=!1;function bi(e,t,r,n){t.child=null===e?ws(t,null,r,n):bs(t,e.child,r,n)}function wi(e,t,r,n,a){r=r.render;var s=t.ref;return As(t,a),n=go(e,t,r,n,s,a),r=yo(),null===e||vi?(as&&r&&es(t),t.flags|=1,bi(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hi(e,t,a))}function ki(e,t,r,n,a){if(null===e){var s=r.type;return"function"!==typeof s||Dc(s)||void 0!==s.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Lc(r.type,null,n,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,ji(e,t,s,n,a))}if(s=e.child,0===(e.lanes&a)){var o=s.memoizedProps;if((r=null!==(r=r.compare)?r:ln)(o,n)&&e.ref===t.ref)return Hi(e,t,a)}return t.flags|=1,(e=Rc(s,n)).ref=t.ref,e.return=t,t.child=e}function ji(e,t,r,n,a){if(null!==e){var s=e.memoizedProps;if(ln(s,n)&&e.ref===t.ref){if(vi=!1,t.pendingProps=n=s,0===(e.lanes&a))return t.lanes=e.lanes,Hi(e,t,a);0!==(131072&e.flags)&&(vi=!0)}}return Ci(e,t,r,n,a)}function Ni(e,t,r){var n=t.pendingProps,a=n.children,s=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ca(Rl,Dl),Dl|=r;else{if(0===(1073741824&r))return e=null!==s?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ca(Rl,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==s?s.baseLanes:r,Ca(Rl,Dl),Dl|=n}else null!==s?(n=s.baseLanes|r,t.memoizedState=null):n=r,Ca(Rl,Dl),Dl|=n;return bi(e,t,a,r),t.child}function Si(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ci(e,t,r,n,a){var s=Da(r)?Ta:Pa.current;return s=_a(t,s),As(t,a),r=go(e,t,r,n,s,a),n=yo(),null===e||vi?(as&&n&&es(t),t.flags|=1,bi(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hi(e,t,a))}function Ei(e,t,r,n,a){if(Da(r)){var s=!0;Oa(t)}else s=!1;if(As(t,a),null===t.stateNode)Wi(e,t),oi(t,r,n),li(t,r,n,a),n=!0;else if(null===e){var o=t.stateNode,i=t.memoizedProps;o.props=i;var l=o.context,c=r.contextType;"object"===typeof c&&null!==c?c=Ts(c):c=_a(t,c=Da(r)?Ta:Pa.current);var d=r.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate;u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(i!==n||l!==c)&&ii(t,o,n,c),Is=!1;var h=t.memoizedState;o.state=h,Vs(t,n,o,a),l=t.memoizedState,i!==n||h!==l||Aa.current||Is?("function"===typeof d&&(ni(t,r,d,n),l=t.memoizedState),(i=Is||si(t,r,i,n,h,l,c))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=c,n=i):("function"===typeof o.componentDidMount&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Ms(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:ri(t.type,i),o.props=c,u=t.pendingProps,h=o.context,"object"===typeof(l=r.contextType)&&null!==l?l=Ts(l):l=_a(t,l=Da(r)?Ta:Pa.current);var p=r.getDerivedStateFromProps;(d="function"===typeof p||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(i!==u||h!==l)&&ii(t,o,n,l),Is=!1,h=t.memoizedState,o.state=h,Vs(t,n,o,a);var m=t.memoizedState;i!==u||h!==m||Aa.current||Is?("function"===typeof p&&(ni(t,r,p,n),m=t.memoizedState),(c=Is||si(t,r,c,n,h,m,l)||!1)?(d||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(n,m,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(n,m,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),o.props=n,o.state=m,o.context=l,n=c):("function"!==typeof o.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Pi(e,t,r,n,s,a)}function Pi(e,t,r,n,a,s){Si(e,t);var o=0!==(128&t.flags);if(!n&&!o)return a&&Ma(t,r,!1),Hi(e,t,s);n=t.stateNode,xi.current=t;var i=o&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&o?(t.child=bs(t,e.child,null,s),t.child=bs(t,null,i,s)):bi(e,t,i,s),t.memoizedState=n.state,a&&Ma(t,r,!0),t.child}function Ai(e){var t=e.stateNode;t.pendingContext?La(0,t.pendingContext,t.pendingContext!==t.context):t.context&&La(0,t.context,!1),Ys(e,t.containerInfo)}function Ti(e,t,r,n,a){return ps(),ms(a),t.flags|=256,bi(e,t,r,n),t.child}var _i,Di,Ri,Li,Ii={dehydrated:null,treeContext:null,retryLane:0};function Oi(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mi(e,t,r){var n,a=t.pendingProps,o=Zs.current,i=!1,l=0!==(128&t.flags);if((n=l)||(n=(null===e||null!==e.memoizedState)&&0!==(2&o)),n?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ca(Zs,1&o),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,i?(a=t.mode,i=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==i?(i.childLanes=0,i.pendingProps=l):i=Oc(l,a,0,null),e=Ic(e,a,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Oi(r),t.memoizedState=Ii,e):Fi(t,l));if(null!==(o=e.memoizedState)&&null!==(n=o.dehydrated))return function(e,t,r,n,a,o,i){if(r)return 256&t.flags?(t.flags&=-257,Bi(e,t,i,n=di(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=n.fallback,a=t.mode,n=Oc({mode:"visible",children:n.children},a,0,null),(o=Ic(o,a,i,null)).flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,0!==(1&t.mode)&&bs(t,e.child,null,i),t.child.memoizedState=Oi(i),t.memoizedState=Ii,o);if(0===(1&t.mode))return Bi(e,t,i,null);if("$!"===a.data){if(n=a.nextSibling&&a.nextSibling.dataset)var l=n.dgst;return n=l,Bi(e,t,i,n=di(o=Error(s(419)),n,void 0))}if(l=0!==(i&e.childLanes),vi||l){if(null!==(n=Al)){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(n.suspendedLanes|i))?0:a)&&a!==o.retryLane&&(o.retryLane=a,Ls(e,a),rc(n,e,a,-1))}return fc(),Bi(e,t,i,n=di(Error(s(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Ec.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,ns=ca(a.nextSibling),rs=t,as=!0,ss=null,null!==e&&(Ka[$a++]=Xa,Ka[$a++]=Qa,Ka[$a++]=Ya,Xa=e.id,Qa=e.overflow,Ya=t),t=Fi(t,n.children),t.flags|=4096,t)}(e,t,l,a,n,o,r);if(i){i=a.fallback,l=t.mode,n=(o=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==o?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Rc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==n?i=Rc(n,i):(i=Ic(i,l,r,null)).flags|=2,i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,l=null===(l=e.child.memoizedState)?Oi(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~r,t.memoizedState=Ii,a}return e=(i=e.child).sibling,a=Rc(i,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=r),a.return=t,a.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a}function Fi(e,t){return(t=Oc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bi(e,t,r,n){return null!==n&&ms(n),bs(t,e.child,null,r),(e=Fi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ui(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Ps(e.return,t,r)}function zi(e,t,r,n,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function Vi(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(bi(e,t,n.children,r),0!==(2&(n=Zs.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ui(e,r,t);else if(19===e.tag)Ui(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ca(Zs,n),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;null!==r;)null!==(e=r.alternate)&&null===eo(e)&&(a=r),r=r.sibling;null===(r=a)?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),zi(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===eo(e)){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}zi(t,!0,r,null,s);break;case"together":zi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wi(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hi(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Ol|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(r=Rc(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Rc(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function qi(e,t){if(!as)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Gi(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=14680064&a.subtreeFlags,n|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Ki(e,t,r){var n=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gi(t),null;case 1:case 17:return Da(t.type)&&Ra(),Gi(t),null;case 3:return n=t.stateNode,Xs(),Sa(Aa),Sa(Pa),ro(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(us(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(oc(ss),ss=null))),Di(e,t),Gi(t),null;case 5:Js(t);var a=$s(Ks.current);if(r=t.type,null!==e&&null!=t.stateNode)Ri(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(s(166));return Gi(t),null}if(e=$s(qs.current),us(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[ha]=t,n[pa]=o,e=0!==(1&t.mode),r){case"dialog":Bn("cancel",n),Bn("close",n);break;case"iframe":case"object":case"embed":Bn("load",n);break;case"video":case"audio":for(a=0;a<In.length;a++)Bn(In[a],n);break;case"source":Bn("error",n);break;case"img":case"image":case"link":Bn("error",n),Bn("load",n);break;case"details":Bn("toggle",n);break;case"input":X(n,o),Bn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Bn("invalid",n);break;case"textarea":ae(n,o),Bn("invalid",n)}for(var l in xe(r,o),a=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?n.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jn(n.textContent,c,e),a=["children",c]):"number"===typeof c&&n.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jn(n.textContent,c,e),a=["children",""+c]):i.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Bn("scroll",n)}switch(r){case"input":G(n),Z(n,o,!0);break;case"textarea":G(n),oe(n);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(n.onclick=Zn)}n=a,t.updateQueue=n,null!==n&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),"select"===r&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[ha]=t,e[pa]=n,_i(e,t,!1,!1),t.stateNode=e;e:{switch(l=ve(r,n),r){case"dialog":Bn("cancel",e),Bn("close",e),a=n;break;case"iframe":case"object":case"embed":Bn("load",e),a=n;break;case"video":case"audio":for(a=0;a<In.length;a++)Bn(In[a],e);a=n;break;case"source":Bn("error",e),a=n;break;case"img":case"image":case"link":Bn("error",e),Bn("load",e),a=n;break;case"details":Bn("toggle",e),a=n;break;case"input":X(e,n),a=Y(e,n),Bn("invalid",e);break;case"option":default:a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=M({},n,{value:void 0}),Bn("invalid",e);break;case"textarea":ae(e,n),a=ne(e,n),Bn("invalid",e)}for(o in xe(r,a),c=a)if(c.hasOwnProperty(o)){var d=c[o];"style"===o?ge(e,d):"dangerouslySetInnerHTML"===o?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===o?"string"===typeof d?("textarea"!==r||""!==d)&&he(e,d):"number"===typeof d&&he(e,""+d):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(i.hasOwnProperty(o)?null!=d&&"onScroll"===o&&Bn("scroll",e):null!=d&&v(e,o,d,l))}switch(r){case"input":G(e),Z(e,n,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=n.value&&e.setAttribute("value",""+H(n.value));break;case"select":e.multiple=!!n.multiple,null!=(o=n.value)?re(e,!!n.multiple,o,!1):null!=n.defaultValue&&re(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Zn)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gi(t),null;case 6:if(e&&null!=t.stateNode)Li(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(s(166));if(r=$s(Ks.current),$s(qs.current),us(t)){if(n=t.stateNode,r=t.memoizedProps,n[ha]=t,(o=n.nodeValue!==r)&&null!==(e=rs))switch(e.tag){case 3:Jn(n.nodeValue,r,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jn(n.nodeValue,r,0!==(1&e.mode))}o&&(t.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[ha]=t,t.stateNode=n}return Gi(t),null;case 13:if(Sa(Zs),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(as&&null!==ns&&0!==(1&t.mode)&&0===(128&t.flags))hs(),ps(),t.flags|=98560,o=!1;else if(o=us(t),null!==n&&null!==n.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[ha]=t}else ps(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gi(t),o=!1}else null!==ss&&(oc(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=r,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Ll&&(Ll=3):fc())),null!==t.updateQueue&&(t.flags|=4),Gi(t),null);case 4:return Xs(),Di(e,t),null===e&&Vn(t.stateNode.containerInfo),Gi(t),null;case 10:return Es(t.type._context),Gi(t),null;case 19:if(Sa(Zs),null===(o=t.memoizedState))return Gi(t),null;if(n=0!==(128&t.flags),null===(l=o.rendering))if(n)qi(o,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,qi(o,!1),null!==(n=l.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;null!==r;)e=n,(o=r).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ca(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==o.tail&&Qe()>Vl&&(t.flags|=128,n=!0,qi(o,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=eo(l))){if(t.flags|=128,n=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),qi(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!as)return Gi(t),null}else 2*Qe()-o.renderingStartTime>Vl&&1073741824!==r&&(t.flags|=128,n=!0,qi(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(r=o.last)?r.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Qe(),t.sibling=null,r=Zs.current,Ca(Zs,n?1&r|2:1&r),t):(Gi(t),null);case 22:case 23:return uc(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&Dl)&&(Gi(t),6&t.subtreeFlags&&(t.flags|=8192)):Gi(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function $i(e,t){switch(ts(t),t.tag){case 1:return Da(t.type)&&Ra(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xs(),Sa(Aa),Sa(Pa),ro(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Js(t),null;case 13:if(Sa(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ps()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Sa(Zs),null;case 4:return Xs(),null;case 10:return Es(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}_i=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Di=function(){},Ri=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,$s(qs.current);var s,o=null;switch(r){case"input":a=Y(e,a),n=Y(e,n),o=[];break;case"select":a=M({},a,{value:void 0}),n=M({},n,{value:void 0}),o=[];break;case"textarea":a=ne(e,a),n=ne(e,n),o=[];break;default:"function"!==typeof a.onClick&&"function"===typeof n.onClick&&(e.onclick=Zn)}for(d in xe(r,n),r=null,a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&null!=a[d])if("style"===d){var l=a[d];for(s in l)l.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(i.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in n){var c=n[d];if(l=null!=a?a[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(o||(o=[]),o.push(d,r)),r=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(i.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Bn("scroll",e),o||l===c||(o=[])):(o=o||[]).push(d,c))}r&&(o=o||[]).push("style",r);var d=o;(t.updateQueue=d)&&(t.flags|=4)}},Li=function(e,t,r,n){r!==n&&(t.flags|=4)};var Yi=!1,Xi=!1,Qi="function"===typeof WeakSet?WeakSet:Set,Ji=null;function Zi(e,t){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(n){Nc(e,t,n)}else r.current=null}function el(e,t,r){try{r()}catch(n){Nc(e,t,n)}}var tl=!1;function rl(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,void 0!==s&&el(t,r,s)}a=a.next}while(a!==n)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function al(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ha],delete t[pa],delete t[fa],delete t[ga],delete t[ya])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function il(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Zn));else if(4!==n&&null!==(e=e.child))for(ll(e,t,r),e=e.sibling;null!==e;)ll(e,t,r),e=e.sibling}function cl(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(cl(e,t,r),e=e.sibling;null!==e;)cl(e,t,r),e=e.sibling}var dl=null,ul=!1;function hl(e,t,r){for(r=r.child;null!==r;)pl(e,t,r),r=r.sibling}function pl(e,t,r){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(at,r)}catch(i){}switch(r.tag){case 5:Xi||Zi(r,t);case 6:var n=dl,a=ul;dl=null,hl(e,t,r),ul=a,null!==(dl=n)&&(ul?(e=dl,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):dl.removeChild(r.stateNode));break;case 18:null!==dl&&(ul?(e=dl,r=r.stateNode,8===e.nodeType?la(e.parentNode,r):1===e.nodeType&&la(e,r),Vt(e)):la(dl,r.stateNode));break;case 4:n=dl,a=ul,dl=r.stateNode.containerInfo,ul=!0,hl(e,t,r),dl=n,ul=a;break;case 0:case 11:case 14:case 15:if(!Xi&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){a=n=n.next;do{var s=a,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&el(r,t,o),a=a.next}while(a!==n)}hl(e,t,r);break;case 1:if(!Xi&&(Zi(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(i){Nc(r,t,i)}hl(e,t,r);break;case 21:hl(e,t,r);break;case 22:1&r.mode?(Xi=(n=Xi)||null!==r.memoizedState,hl(e,t,r),Xi=n):hl(e,t,r);break;default:hl(e,t,r)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Qi),t.forEach((function(t){var n=Pc.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}function fl(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var a=r[n];try{var o=e,i=t,l=i;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,ul=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===dl)throw Error(s(160));pl(o,i,a),dl=null,ul=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(d){Nc(a,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fl(t,e),yl(e),4&n){try{rl(3,e,e.return),nl(3,e)}catch(g){Nc(e,e.return,g)}try{rl(5,e,e.return)}catch(g){Nc(e,e.return,g)}}break;case 1:fl(t,e),yl(e),512&n&&null!==r&&Zi(r,r.return);break;case 5:if(fl(t,e),yl(e),512&n&&null!==r&&Zi(r,r.return),32&e.flags){var a=e.stateNode;try{he(a,"")}catch(g){Nc(e,e.return,g)}}if(4&n&&null!=(a=e.stateNode)){var o=e.memoizedProps,i=null!==r?r.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&Q(a,o),ve(l,i);var d=ve(l,o);for(i=0;i<c.length;i+=2){var u=c[i],h=c[i+1];"style"===u?ge(a,h):"dangerouslySetInnerHTML"===u?ue(a,h):"children"===u?he(a,h):v(a,u,h,d)}switch(l){case"input":J(a,o);break;case"textarea":se(a,o);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var m=o.value;null!=m?re(a,!!o.multiple,m,!1):p!==!!o.multiple&&(null!=o.defaultValue?re(a,!!o.multiple,o.defaultValue,!0):re(a,!!o.multiple,o.multiple?[]:"",!1))}a[pa]=o}catch(g){Nc(e,e.return,g)}}break;case 6:if(fl(t,e),yl(e),4&n){if(null===e.stateNode)throw Error(s(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(g){Nc(e,e.return,g)}}break;case 3:if(fl(t,e),yl(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(g){Nc(e,e.return,g)}break;case 4:default:fl(t,e),yl(e);break;case 13:fl(t,e),yl(e),8192&(a=e.child).flags&&(o=null!==a.memoizedState,a.stateNode.isHidden=o,!o||null!==a.alternate&&null!==a.alternate.memoizedState||(zl=Qe())),4&n&&ml(e);break;case 22:if(u=null!==r&&null!==r.memoizedState,1&e.mode?(Xi=(d=Xi)||u,fl(t,e),Xi=d):fl(t,e),yl(e),8192&n){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Ji=e,u=e.child;null!==u;){for(h=Ji=u;null!==Ji;){switch(m=(p=Ji).child,p.tag){case 0:case 11:case 14:case 15:rl(4,p,p.return);break;case 1:Zi(p,p.return);var f=p.stateNode;if("function"===typeof f.componentWillUnmount){n=p,r=p.return;try{t=n,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(g){Nc(n,r,g)}}break;case 5:Zi(p,p.return);break;case 22:if(null!==p.memoizedState){wl(h);continue}}null!==m?(m.return=p,Ji=m):wl(h)}u=u.sibling}e:for(u=null,h=e;;){if(5===h.tag){if(null===u){u=h;try{a=h.stateNode,d?"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,i=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=fe("display",i))}catch(g){Nc(e,e.return,g)}}}else if(6===h.tag){if(null===u)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(g){Nc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:fl(t,e),yl(e),4&n&&ml(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(ol(r)){var n=r;break e}r=r.return}throw Error(s(160))}switch(n.tag){case 5:var a=n.stateNode;32&n.flags&&(he(a,""),n.flags&=-33),cl(e,il(e),a);break;case 3:case 4:var o=n.stateNode.containerInfo;ll(e,il(e),o);break;default:throw Error(s(161))}}catch(i){Nc(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function xl(e,t,r){Ji=e,vl(e,t,r)}function vl(e,t,r){for(var n=0!==(1&e.mode);null!==Ji;){var a=Ji,s=a.child;if(22===a.tag&&n){var o=null!==a.memoizedState||Yi;if(!o){var i=a.alternate,l=null!==i&&null!==i.memoizedState||Xi;i=Yi;var c=Xi;if(Yi=o,(Xi=l)&&!c)for(Ji=a;null!==Ji;)l=(o=Ji).child,22===o.tag&&null!==o.memoizedState?kl(a):null!==l?(l.return=o,Ji=l):kl(a);for(;null!==s;)Ji=s,vl(s,t,r),s=s.sibling;Ji=a,Yi=i,Xi=c}bl(e)}else 0!==(8772&a.subtreeFlags)&&null!==s?(s.return=a,Ji=s):bl(e)}}function bl(e){for(;null!==Ji;){var t=Ji;if(0!==(8772&t.flags)){var r=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xi||nl(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Xi)if(null===r)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:ri(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ws(t,o,n);break;case 3:var i=t.updateQueue;if(null!==i){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}Ws(t,i,r)}break;case 5:var l=t.stateNode;if(null===r&&4&t.flags){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&Vt(h)}}}break;default:throw Error(s(163))}Xi||512&t.flags&&al(t)}catch(p){Nc(t,t.return,p)}}if(t===e){Ji=null;break}if(null!==(r=t.sibling)){r.return=t.return,Ji=r;break}Ji=t.return}}function wl(e){for(;null!==Ji;){var t=Ji;if(t===e){Ji=null;break}var r=t.sibling;if(null!==r){r.return=t.return,Ji=r;break}Ji=t.return}}function kl(e){for(;null!==Ji;){var t=Ji;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{nl(4,t)}catch(l){Nc(t,r,l)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var a=t.return;try{n.componentDidMount()}catch(l){Nc(t,a,l)}}var s=t.return;try{al(t)}catch(l){Nc(t,s,l)}break;case 5:var o=t.return;try{al(t)}catch(l){Nc(t,o,l)}}}catch(l){Nc(t,t.return,l)}if(t===e){Ji=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Ji=i;break}Ji=t.return}}var jl,Nl=Math.ceil,Sl=b.ReactCurrentDispatcher,Cl=b.ReactCurrentOwner,El=b.ReactCurrentBatchConfig,Pl=0,Al=null,Tl=null,_l=0,Dl=0,Rl=Na(0),Ll=0,Il=null,Ol=0,Ml=0,Fl=0,Bl=null,Ul=null,zl=0,Vl=1/0,Wl=null,Hl=!1,ql=null,Gl=null,Kl=!1,$l=null,Yl=0,Xl=0,Ql=null,Jl=-1,Zl=0;function ec(){return 0!==(6&Pl)?Qe():-1!==Jl?Jl:Jl=Qe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Pl)&&0!==_l?_l&-_l:null!==fs.transition?(0===Zl&&(Zl=ft()),Zl):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function rc(e,t,r,n){if(50<Xl)throw Xl=0,Ql=null,Error(s(185));yt(e,r,n),0!==(2&Pl)&&e===Al||(e===Al&&(0===(2&Pl)&&(Ml|=r),4===Ll&&ic(e,_l)),nc(e,n),1===r&&0===Pl&&0===(1&t.mode)&&(Vl=Qe()+500,Ba&&Va()))}function nc(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),i=1<<o,l=a[o];-1===l?0!==(i&r)&&0===(i&n)||(a[o]=pt(i,t)):l<=t&&(e.expiredLanes|=i),s&=~i}}(e,t);var n=ht(e,e===Al?_l:0);if(0===n)null!==r&&$e(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&$e(r),1===t)0===e.tag?function(e){Ba=!0,za(e)}(lc.bind(null,e)):za(lc.bind(null,e)),oa((function(){0===(6&Pl)&&Va()})),r=null;else{switch(bt(n)){case 1:r=Ze;break;case 4:r=et;break;case 16:default:r=tt;break;case 536870912:r=nt}r=Ac(r,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function ac(e,t){if(Jl=-1,Zl=0,0!==(6&Pl))throw Error(s(327));var r=e.callbackNode;if(kc()&&e.callbackNode!==r)return null;var n=ht(e,e===Al?_l:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=gc(e,n);else{t=n;var a=Pl;Pl|=2;var o=mc();for(Al===e&&_l===t||(Wl=null,Vl=Qe()+500,hc(e,t));;)try{xc();break}catch(l){pc(e,l)}Cs(),Sl.current=o,Pl=a,null!==Tl?t=0:(Al=null,_l=0,t=Ll)}if(0!==t){if(2===t&&(0!==(a=mt(e))&&(n=a,t=sc(e,a))),1===t)throw r=Il,hc(e,0),ic(e,n),nc(e,Qe()),r;if(6===t)ic(e,n);else{if(a=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!on(s(),a))return!1}catch(i){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=gc(e,n))&&(0!==(o=mt(e))&&(n=o,t=sc(e,o))),1===t))throw r=Il,hc(e,0),ic(e,n),nc(e,Qe()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(s(345));case 2:case 5:wc(e,Ul,Wl);break;case 3:if(ic(e,n),(130023424&n)===n&&10<(t=zl+500-Qe())){if(0!==ht(e,0))break;if(((a=e.suspendedLanes)&n)!==n){ec(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=na(wc.bind(null,e,Ul,Wl),t);break}wc(e,Ul,Wl);break;case 4:if(ic(e,n),(4194240&n)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-ot(n);o=1<<i,(i=t[i])>a&&(a=i),n&=~o}if(n=a,10<(n=(120>(n=Qe()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Nl(n/1960))-n)){e.timeoutHandle=na(wc.bind(null,e,Ul,Wl),n);break}wc(e,Ul,Wl);break;default:throw Error(s(329))}}}return nc(e,Qe()),e.callbackNode===r?ac.bind(null,e):null}function sc(e,t){var r=Bl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Ul,Ul=r,null!==t&&oc(t)),e}function oc(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function ic(e,t){for(t&=~Fl,t&=~Ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ot(t),n=1<<r;e[r]=-1,t&=~n}}function lc(e){if(0!==(6&Pl))throw Error(s(327));kc();var t=ht(e,0);if(0===(1&t))return nc(e,Qe()),null;var r=gc(e,t);if(0!==e.tag&&2===r){var n=mt(e);0!==n&&(t=n,r=sc(e,n))}if(1===r)throw r=Il,hc(e,0),ic(e,t),nc(e,Qe()),r;if(6===r)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Ul,Wl),nc(e,Qe()),null}function cc(e,t){var r=Pl;Pl|=1;try{return e(t)}finally{0===(Pl=r)&&(Vl=Qe()+500,Ba&&Va())}}function dc(e){null!==$l&&0===$l.tag&&0===(6&Pl)&&kc();var t=Pl;Pl|=1;var r=El.transition,n=vt;try{if(El.transition=null,vt=1,e)return e()}finally{vt=n,El.transition=r,0===(6&(Pl=t))&&Va()}}function uc(){Dl=Rl.current,Sa(Rl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,aa(r)),null!==Tl)for(r=Tl.return;null!==r;){var n=r;switch(ts(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Ra();break;case 3:Xs(),Sa(Aa),Sa(Pa),ro();break;case 5:Js(n);break;case 4:Xs();break;case 13:case 19:Sa(Zs);break;case 10:Es(n.type._context);break;case 22:case 23:uc()}r=r.return}if(Al=e,Tl=e=Rc(e.current,null),_l=Dl=t,Ll=0,Il=null,Fl=Ml=Ol=0,Ul=Bl=null,null!==_s){for(t=0;t<_s.length;t++)if(null!==(n=(r=_s[t]).interleaved)){r.interleaved=null;var a=n.next,s=r.pending;if(null!==s){var o=s.next;s.next=a,n.next=o}r.pending=n}_s=null}return e}function pc(e,t){for(;;){var r=Tl;try{if(Cs(),no.current=Jo,co){for(var n=oo.memoizedState;null!==n;){var a=n.queue;null!==a&&(a.pending=null),n=n.next}co=!1}if(so=0,lo=io=oo=null,uo=!1,ho=0,Cl.current=null,null===r||null===r.return){Ll=1,Il=t,Tl=null;break}e:{var o=e,i=r.return,l=r,c=t;if(t=_l,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,h=u.tag;if(0===(1&u.mode)&&(0===h||11===h||15===h)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=gi(i);if(null!==m){m.flags&=-257,yi(m,i,l,0,t),1&m.mode&&fi(o,d,t),c=d;var f=(t=m).updateQueue;if(null===f){var g=new Set;g.add(c),t.updateQueue=g}else f.add(c);break e}if(0===(1&t)){fi(o,d,t),fc();break e}c=Error(s(426))}else if(as&&1&l.mode){var y=gi(i);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),yi(y,i,l,0,t),ms(ci(c,l));break e}}o=c=ci(c,l),4!==Ll&&(Ll=2),null===Bl?Bl=[o]:Bl.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,zs(o,pi(0,c,t));break e;case 1:l=c;var x=o.type,v=o.stateNode;if(0===(128&o.flags)&&("function"===typeof x.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===Gl||!Gl.has(v)))){o.flags|=65536,t&=-t,o.lanes|=t,zs(o,mi(o,l,t));break e}}o=o.return}while(null!==o)}bc(r)}catch(b){t=b,Tl===r&&null!==r&&(Tl=r=r.return);continue}break}}function mc(){var e=Sl.current;return Sl.current=Jo,null===e?Jo:e}function fc(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Al||0===(268435455&Ol)&&0===(268435455&Ml)||ic(Al,_l)}function gc(e,t){var r=Pl;Pl|=2;var n=mc();for(Al===e&&_l===t||(Wl=null,hc(e,t));;)try{yc();break}catch(a){pc(e,a)}if(Cs(),Pl=r,Sl.current=n,null!==Tl)throw Error(s(261));return Al=null,_l=0,Ll}function yc(){for(;null!==Tl;)vc(Tl)}function xc(){for(;null!==Tl&&!Ye();)vc(Tl)}function vc(e){var t=jl(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?bc(e):Tl=t,Cl.current=null}function bc(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(r=Ki(r,t,Dl)))return void(Tl=r)}else{if(null!==(r=$i(r,t)))return r.flags&=32767,void(Tl=r);if(null===e)return Ll=6,void(Tl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Tl=t);Tl=t=e}while(null!==t);0===Ll&&(Ll=5)}function wc(e,t,r){var n=vt,a=El.transition;try{El.transition=null,vt=1,function(e,t,r,n){do{kc()}while(null!==$l);if(0!==(6&Pl))throw Error(s(327));r=e.finishedWork;var a=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-ot(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}(e,o),e===Al&&(Tl=Al=null,_l=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Kl||(Kl=!0,Ac(tt,(function(){return kc(),null}))),o=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||o){o=El.transition,El.transition=null;var i=vt;vt=1;var l=Pl;Pl|=4,Cl.current=null,function(e,t){if(ea=Ht,pn(e=hn())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var a=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch(w){r=null;break e}var i=0,l=-1,c=-1,d=0,u=0,h=e,p=null;t:for(;;){for(var m;h!==r||0!==a&&3!==h.nodeType||(l=i+a),h!==o||0!==n&&3!==h.nodeType||(c=i+n),3===h.nodeType&&(i+=h.nodeValue.length),null!==(m=h.firstChild);)p=h,h=m;for(;;){if(h===e)break t;if(p===r&&++d===a&&(l=i),p===o&&++u===n&&(c=i),null!==(m=h.nextSibling))break;p=(h=p).parentNode}h=m}r=-1===l||-1===c?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ta={focusedElem:e,selectionRange:r},Ht=!1,Ji=t;null!==Ji;)if(e=(t=Ji).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ji=e;else for(;null!==Ji;){t=Ji;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var g=f.memoizedProps,y=f.memoizedState,x=t.stateNode,v=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:ri(t.type,g),y);x.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(w){Nc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ji=e;break}Ji=t.return}f=tl,tl=!1}(e,r),gl(r,e),mn(ta),Ht=!!ea,ta=ea=null,e.current=r,xl(r,e,a),Xe(),Pl=l,vt=i,El.transition=o}else e.current=r;if(Kl&&(Kl=!1,$l=e,Yl=a),o=e.pendingLanes,0===o&&(Gl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),nc(e,Qe()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Hl)throw Hl=!1,e=ql,ql=null,e;0!==(1&Yl)&&0!==e.tag&&kc(),o=e.pendingLanes,0!==(1&o)?e===Ql?Xl++:(Xl=0,Ql=e):Xl=0,Va()}(e,t,r,n)}finally{El.transition=a,vt=n}return null}function kc(){if(null!==$l){var e=bt(Yl),t=El.transition,r=vt;try{if(El.transition=null,vt=16>e?16:e,null===$l)var n=!1;else{if(e=$l,$l=null,Yl=0,0!==(6&Pl))throw Error(s(331));var a=Pl;for(Pl|=4,Ji=e.current;null!==Ji;){var o=Ji,i=o.child;if(0!==(16&Ji.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Ji=d;null!==Ji;){var u=Ji;switch(u.tag){case 0:case 11:case 15:rl(8,u,o)}var h=u.child;if(null!==h)h.return=u,Ji=h;else for(;null!==Ji;){var p=(u=Ji).sibling,m=u.return;if(sl(u),u===d){Ji=null;break}if(null!==p){p.return=m,Ji=p;break}Ji=m}}}var f=o.alternate;if(null!==f){var g=f.child;if(null!==g){f.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Ji=o}}if(0!==(2064&o.subtreeFlags)&&null!==i)i.return=o,Ji=i;else e:for(;null!==Ji;){if(0!==(2048&(o=Ji).flags))switch(o.tag){case 0:case 11:case 15:rl(9,o,o.return)}var x=o.sibling;if(null!==x){x.return=o.return,Ji=x;break e}Ji=o.return}}var v=e.current;for(Ji=v;null!==Ji;){var b=(i=Ji).child;if(0!==(2064&i.subtreeFlags)&&null!==b)b.return=i,Ji=b;else e:for(i=v;null!==Ji;){if(0!==(2048&(l=Ji).flags))try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(k){Nc(l,l.return,k)}if(l===i){Ji=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Ji=w;break e}Ji=l.return}}if(Pl=a,Va(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(at,e)}catch(k){}n=!0}return n}finally{vt=r,El.transition=t}}return!1}function jc(e,t,r){e=Bs(e,t=pi(0,t=ci(r,t),1),1),t=ec(),null!==e&&(yt(e,1,t),nc(e,t))}function Nc(e,t,r){if(3===e.tag)jc(e,e,r);else for(;null!==t;){if(3===t.tag){jc(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Gl||!Gl.has(n))){t=Bs(t,e=mi(t,e=ci(r,e),1),1),e=ec(),null!==t&&(yt(t,1,e),nc(t,e));break}}t=t.return}}function Sc(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&r,Al===e&&(_l&r)===r&&(4===Ll||3===Ll&&(130023424&_l)===_l&&500>Qe()-zl?hc(e,0):Fl|=r),nc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var r=ec();null!==(e=Ls(e,t))&&(yt(e,t,r),nc(e,r))}function Ec(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Cc(e,r)}function Pc(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;null!==a&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(s(314))}null!==n&&n.delete(t),Cc(e,r)}function Ac(e,t){return Ke(e,t)}function Tc(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _c(e,t,r,n){return new Tc(e,t,r,n)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var r=e.alternate;return null===r?((r=_c(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Lc(e,t,r,n,a,o){var i=2;if(n=e,"function"===typeof e)Dc(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case j:return Ic(r.children,a,o,t);case N:i=8,a|=8;break;case S:return(e=_c(12,r,t,2|a)).elementType=S,e.lanes=o,e;case A:return(e=_c(13,r,t,a)).elementType=A,e.lanes=o,e;case T:return(e=_c(19,r,t,a)).elementType=T,e.lanes=o,e;case R:return Oc(r,a,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:i=10;break e;case E:i=9;break e;case P:i=11;break e;case _:i=14;break e;case D:i=16,n=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=_c(i,r,t,a)).elementType=e,t.type=n,t.lanes=o,t}function Ic(e,t,r,n){return(e=_c(7,e,n,t)).lanes=r,e}function Oc(e,t,r,n){return(e=_c(22,e,n,t)).elementType=R,e.lanes=r,e.stateNode={isHidden:!1},e}function Mc(e,t,r){return(e=_c(6,e,null,t)).lanes=r,e}function Fc(e,t,r){return(t=_c(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Uc(e,t,r,n,a,s,o,i,l){return e=new Bc(e,t,r,i,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=_c(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Os(s),e}function zc(e){if(!e)return Ea;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Da(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var r=e.type;if(Da(r))return Ia(e,r,t)}return t}function Vc(e,t,r,n,a,s,o,i,l){return(e=Uc(r,n,!0,e,0,s,0,i,l)).context=zc(null),r=e.current,(s=Fs(n=ec(),a=tc(r))).callback=void 0!==t&&null!==t?t:null,Bs(r,s,a),e.current.lanes=a,yt(e,a,n),nc(e,n),e}function Wc(e,t,r,n){var a=t.current,s=ec(),o=tc(a);return r=zc(r),null===t.context?t.context=r:t.pendingContext=r,(t=Fs(s,o)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Bs(a,t,o))&&(rc(e,a,o,s),Us(e,a,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function Gc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}jl=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Aa.current)vi=!0;else{if(0===(e.lanes&r)&&0===(128&t.flags))return vi=!1,function(e,t,r){switch(t.tag){case 3:Ai(t),ps();break;case 5:Qs(t);break;case 1:Da(t.type)&&Oa(t);break;case 4:Ys(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Ca(ks,n._currentValue),n._currentValue=a;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Ca(Zs,1&Zs.current),t.flags|=128,null):0!==(r&t.child.childLanes)?Mi(e,t,r):(Ca(Zs,1&Zs.current),null!==(e=Hi(e,t,r))?e.sibling:null);Ca(Zs,1&Zs.current);break;case 19:if(n=0!==(r&t.childLanes),0!==(128&e.flags)){if(n)return Vi(e,t,r);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ca(Zs,Zs.current),n)break;return null;case 22:case 23:return t.lanes=0,Ni(e,t,r)}return Hi(e,t,r)}(e,t,r);vi=0!==(131072&e.flags)}else vi=!1,as&&0!==(1048576&t.flags)&&Za(t,Ga,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Wi(e,t),e=t.pendingProps;var a=_a(t,Pa.current);As(t,r),a=go(null,t,n,e,a,r);var o=yo();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Da(n)?(o=!0,Oa(t)):o=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Os(t),a.updater=ai,t.stateNode=a,a._reactInternals=t,li(t,n,e,r),t=Pi(null,t,n,!0,o,r)):(t.tag=0,as&&o&&es(t),bi(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Wi(e,t),e=t.pendingProps,n=(a=n._init)(n._payload),t.type=n,a=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===P)return 11;if(e===_)return 14}return 2}(n),e=ri(n,e),a){case 0:t=Ci(null,t,n,e,r);break e;case 1:t=Ei(null,t,n,e,r);break e;case 11:t=wi(null,t,n,e,r);break e;case 14:t=ki(null,t,n,ri(n.type,e),r);break e}throw Error(s(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,Ci(e,t,n,a=t.elementType===n?a:ri(n,a),r);case 1:return n=t.type,a=t.pendingProps,Ei(e,t,n,a=t.elementType===n?a:ri(n,a),r);case 3:e:{if(Ai(t),null===e)throw Error(s(387));n=t.pendingProps,a=(o=t.memoizedState).element,Ms(e,t),Vs(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated){if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ti(e,t,n,r,a=ci(Error(s(423)),t));break e}if(n!==a){t=Ti(e,t,n,r,a=ci(Error(s(424)),t));break e}for(ns=ca(t.stateNode.containerInfo.firstChild),rs=t,as=!0,ss=null,r=ws(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(ps(),n===a){t=Hi(e,t,r);break e}bi(e,t,n,r)}t=t.child}return t;case 5:return Qs(t),null===e&&cs(t),n=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,i=a.children,ra(n,a)?i=null:null!==o&&ra(n,o)&&(t.flags|=32),Si(e,t),bi(e,t,i,r),t.child;case 6:return null===e&&cs(t),null;case 13:return Mi(e,t,r);case 4:return Ys(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=bs(t,null,n,r):bi(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,wi(e,t,n,a=t.elementType===n?a:ri(n,a),r);case 7:return bi(e,t,t.pendingProps,r),t.child;case 8:case 12:return bi(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,Ca(ks,n._currentValue),n._currentValue=i,null!==o)if(on(o.value,i)){if(o.children===a.children&&!Aa.current){t=Hi(e,t,r);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){i=o.child;for(var c=l.firstContext;null!==c;){if(c.context===n){if(1===o.tag){(c=Fs(-1,r&-r)).tag=2;var d=o.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}o.lanes|=r,null!==(c=o.alternate)&&(c.lanes|=r),Ps(o.return,r,t),l.lanes|=r;break}c=c.next}}else if(10===o.tag)i=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(i=o.return))throw Error(s(341));i.lanes|=r,null!==(l=i.alternate)&&(l.lanes|=r),Ps(i,r,t),i=o.sibling}else i=o.child;if(null!==i)i.return=o;else for(i=o;null!==i;){if(i===t){i=null;break}if(null!==(o=i.sibling)){o.return=i.return,i=o;break}i=i.return}o=i}bi(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,As(t,r),n=n(a=Ts(a)),t.flags|=1,bi(e,t,n,r),t.child;case 14:return a=ri(n=t.type,t.pendingProps),ki(e,t,n,a=ri(n.type,a),r);case 15:return ji(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ri(n,a),Wi(e,t),t.tag=1,Da(n)?(e=!0,Oa(t)):e=!1,As(t,r),oi(t,n,a),li(t,n,a,r),Pi(null,t,n,!0,e,r);case 19:return Vi(e,t,r);case 22:return Ni(e,t,r)}throw Error(s(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,r,n,a){var s=r._reactRootContainer;if(s){var o=s;if("function"===typeof a){var i=a;a=function(){var e=Hc(o);i.call(e)}}Wc(t,o,e,a)}else o=function(e,t,r,n,a){if(a){if("function"===typeof n){var s=n;n=function(){var e=Hc(o);s.call(e)}}var o=Vc(t,n,e,0,null,!1,0,"",Jc);return e._reactRootContainer=o,e[ma]=o.current,Vn(8===e.nodeType?e.parentNode:e),dc(),o}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof n){var i=n;n=function(){var e=Hc(l);i.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[ma]=l.current,Vn(8===e.nodeType?e.parentNode:e),dc((function(){Wc(t,l,r,n)})),l}(r,t,e,a,n);return Hc(o)}Yc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Wc(e,t,null,null)},Yc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Wc(null,e,null,null)})),t[ma]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nt();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Rt.length&&0!==t&&t<Rt[r].priority;r++);Rt.splice(r,0,e),0===r&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ut(t.pendingLanes);0!==r&&(xt(t,1|r),nc(t,Qe()),0===(6&Pl)&&(Vl=Qe()+500,Va()))}break;case 13:dc((function(){var t=Ls(e,1);if(null!==t){var r=ec();rc(t,e,1,r)}})),Gc(e,1)}},kt=function(e){if(13===e.tag){var t=Ls(e,134217728);if(null!==t)rc(t,e,134217728,ec());Gc(e,134217728)}},jt=function(e){if(13===e.tag){var t=tc(e),r=Ls(e,t);if(null!==r)rc(r,e,t,ec());Gc(e,t)}},Nt=function(){return vt},St=function(e,t){var r=vt;try{return vt=e,t()}finally{vt=r}},ke=function(e,t,r){switch(t){case"input":if(J(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=wa(n);if(!a)throw Error(s(90));K(n),J(n,a)}}}break;case"textarea":se(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},Pe=cc,Ae=dc;var ed={usingClientEntryPoint:!1,Events:[va,ba,wa,Ce,Ee,cc]},td={findFiberByHostInstance:xa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nd.isDisabled&&nd.supportsFiber)try{at=nd.inject(rd),st=nd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(s(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.createRoot=function(e,t){if(!Xc(e))throw Error(s(299));var r=!1,n="",a=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Uc(e,1,!1,null,0,r,0,n,a),e[ma]=t.current,Vn(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,r){if(!Qc(t))throw Error(s(200));return Zc(null,e,t,!0,r)},t.hydrateRoot=function(e,t,r){if(!Xc(e))throw Error(s(405));var n=null!=r&&r.hydratedSources||null,a=!1,o="",i=Kc;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(a=!0),void 0!==r.identifierPrefix&&(o=r.identifierPrefix),void 0!==r.onRecoverableError&&(i=r.onRecoverableError)),t=Vc(t,null,e,1,null!=r?r:null,a,0,o,i),e[ma]=t.current,Vn(e),n)for(e=0;e<n.length;e++)a=(a=(r=n[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Yc(t)},t.render=function(e,t,r){if(!Qc(t))throw Error(s(200));return Zc(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(s(40));return!!e._reactRootContainer&&(dc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ma]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Qc(r))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zc(e,t,r,!1,n)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,r)=>{e.exports=r(234)},950:(e,t,r)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(730)}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}r.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(n,a){if(1&a&&(n=this(n)),8&a)return n;if("object"===typeof n&&n){if(4&a&&n.__esModule)return n;if(16&a&&"function"===typeof n.then)return n}var s=Object.create(null);r.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var i=2&a&&n;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((e=>o[e]=()=>n[e]));return o.default=()=>n,r.d(s,o),s}})(),r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,n)=>(r.f[n](e,t),t)),[])),r.u=e=>"static/js/"+e+".419a5d54.chunk.js",r.miniCssF=e=>{},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="client:";r.l=(n,a,s,o)=>{if(e[n])e[n].push(a);else{var i,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+s){i=u;break}}i||(l=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,r.nc&&i.setAttribute("nonce",r.nc),i.setAttribute("data-webpack",t+s),i.src=n),e[n]=[a];var h=(t,r)=>{i.onerror=i.onload=null,clearTimeout(p);var a=e[n];if(delete e[n],i.parentNode&&i.parentNode.removeChild(i),a&&a.forEach((e=>e(r))),t)return t(r)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=h.bind(null,i.onerror),i.onload=h.bind(null,i.onload),l&&document.head.appendChild(i)}}})(),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="/",(()=>{var e={792:0};r.f.j=(t,n)=>{var a=r.o(e,t)?e[t]:void 0;if(0!==a)if(a)n.push(a[2]);else{var s=new Promise(((r,n)=>a=e[t]=[r,n]));n.push(a[2]=s);var o=r.p+r.u(t),i=new Error;r.l(o,(n=>{if(r.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var s=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",i.name="ChunkLoadError",i.type=s,i.request=o,a[1](i)}}),"chunk-"+t,t)}};var t=(t,n)=>{var a,s,o=n[0],i=n[1],l=n[2],c=0;if(o.some((t=>0!==e[t]))){for(a in i)r.o(i,a)&&(r.m[a]=i[a]);if(l)l(r)}for(t&&t(n);c<o.length;c++)s=o[c],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0},n=self.webpackChunkclient=self.webpackChunkclient||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var n={};r.r(n),r.d(n,{hasBrowserEnv:()=>Ht,hasStandardBrowserEnv:()=>Gt,hasStandardBrowserWebWorkerEnv:()=>Kt,navigator:()=>qt,origin:()=>$t});var a,s=r(43),o=r.t(s,2),i=r(391);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(a||(a={}));const c="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(r){}}}function h(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,r,n){return void 0===r&&(r=null),l({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?f(t):t,{state:r,key:t&&t.key||n||Math.random().toString(36).substr(2,8)})}function m(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function f(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function g(e,t,r,n){void 0===n&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,i=s.history,u=a.Pop,f=null,g=y();function y(){return(i.state||{idx:null}).idx}function x(){u=a.Pop;let e=y(),t=null==e?null:e-g;g=e,f&&f({action:u,location:b.location,delta:t})}function v(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,r="string"===typeof e?e:m(e);return r=r.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+r),new URL(r,t)}null==g&&(g=0,i.replaceState(l({},i.state,{idx:g}),""));let b={get action(){return u},get location(){return e(s,i)},listen(e){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(c,x),f=e,()=>{s.removeEventListener(c,x),f=null}},createHref:e=>t(s,e),createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){u=a.Push;let n=p(b.location,e,t);r&&r(n,e),g=y()+1;let l=h(n,g),c=b.createHref(n);try{i.pushState(l,"",c)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;s.location.assign(c)}o&&f&&f({action:u,location:b.location,delta:1})},replace:function(e,t){u=a.Replace;let n=p(b.location,e,t);r&&r(n,e),g=y();let s=h(n,g),l=b.createHref(n);i.replaceState(s,"",l),o&&f&&f({action:u,location:b.location,delta:0})},go:e=>i.go(e)};return b}var y;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function x(e,t,r){return void 0===r&&(r="/"),v(e,t,r,!1)}function v(e,t,r,n){let a=R(("string"===typeof t?f(t):t).pathname||"/",r);if(null==a)return null;let s=b(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every(((e,r)=>e===t[r]));return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let o=null;for(let i=0;null==o&&i<s.length;++i){let e=D(a);o=T(s[i],e,n)}return o}function b(e,t,r,n){void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===n&&(n="");let a=(e,a,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};o.relativePath.startsWith("/")&&(d(o.relativePath.startsWith(n),'Absolute route path "'+o.relativePath+'" nested under path "'+n+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(n.length));let i=F([n,o.relativePath]),l=r.concat(o);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+i+'".'),b(e.children,t,l,i)),(null!=e.path||e.index)&&t.push({path:i,score:A(i,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var r;if(""!==e.path&&null!=(r=e.path)&&r.includes("?"))for(let n of w(e.path))a(e,t,n);else a(e,t)})),t}function w(e){let t=e.split("/");if(0===t.length)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(0===n.length)return a?[s,""]:[s];let o=w(n.join("/")),i=[];return i.push(...o.map((e=>""===e?s:[s,e].join("/")))),a&&i.push(...o),i.map((t=>e.startsWith("/")&&""===t?"/":t))}const k=/^:[\w-]+$/,j=3,N=2,S=1,C=10,E=-2,P=e=>"*"===e;function A(e,t){let r=e.split("/"),n=r.length;return r.some(P)&&(n+=E),t&&(n+=N),r.filter((e=>!P(e))).reduce(((e,t)=>e+(k.test(t)?j:""===t?S:C)),n)}function T(e,t,r){void 0===r&&(r=!1);let{routesMeta:n}=e,a={},s="/",o=[];for(let i=0;i<n.length;++i){let e=n[i],l=i===n.length-1,c="/"===s?t:t.slice(s.length)||"/",d=_({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&r&&!n[n.length-1].route.index&&(d=_({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(a,d.params),o.push({params:a,pathname:F([s,d.pathname]),pathnameBase:B(F([s,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(s=F([s,d.pathnameBase]))}return o}function _(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=function(e,t,r){void 0===t&&(t=!1);void 0===r&&(r=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,r)=>(n.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(n.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let s=new RegExp(a,t?void 0:"i");return[s,n]}(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],o=s.replace(/(.)\/+$/,"$1"),i=a.slice(1),l=n.reduce(((e,t,r)=>{let{paramName:n,isOptional:a}=t;if("*"===n){let e=i[r]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=i[r];return e[n]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:s,pathnameBase:o,pattern:e}}function D(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function R(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}function L(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function I(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function O(e,t){let r=I(e);return t?r.map(((e,t)=>t===r.length-1?e.pathname:e.pathnameBase)):r.map((e=>e.pathnameBase))}function M(e,t,r,n){let a;void 0===n&&(n=!1),"string"===typeof e?a=f(e):(a=l({},e),d(!a.pathname||!a.pathname.includes("?"),L("?","pathname","search",a)),d(!a.pathname||!a.pathname.includes("#"),L("#","pathname","hash",a)),d(!a.search||!a.search.includes("#"),L("#","search","hash",a)));let s,o=""===e||""===a.pathname,i=o?"/":a.pathname;if(null==i)s=r;else{let e=t.length-1;if(!n&&i.startsWith("..")){let t=i.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}s=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:r,search:n="",hash:a=""}="string"===typeof e?f(e):e,s=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)})),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:s,search:U(n),hash:z(a)}}(a,s),u=i&&"/"!==i&&i.endsWith("/"),h=(o||"."===i)&&r.endsWith("/");return c.pathname.endsWith("/")||!u&&!h||(c.pathname+="/"),c}const F=e=>e.join("/").replace(/\/\/+/g,"/"),B=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",z=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function V(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const W=["post","put","patch","delete"],H=(new Set(W),["get",...W]);new Set(H),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q.apply(this,arguments)}const G=s.createContext(null);const K=s.createContext(null);const $=s.createContext(null);const Y=s.createContext(null);const X=s.createContext({outlet:null,matches:[],isDataRoute:!1});const Q=s.createContext(null);function J(){return null!=s.useContext(Y)}function Z(){return J()||d(!1),s.useContext(Y).location}function ee(e){s.useContext($).static||s.useLayoutEffect(e)}function te(){let{isDataRoute:e}=s.useContext(X);return e?function(){let{router:e}=ue(ce.UseNavigateStable),t=pe(de.UseNavigateStable),r=s.useRef(!1);ee((()=>{r.current=!0}));let n=s.useCallback((function(n,a){void 0===a&&(a={}),r.current&&("number"===typeof n?e.navigate(n):e.navigate(n,q({fromRouteId:t},a)))}),[e,t]);return n}():function(){J()||d(!1);let e=s.useContext(G),{basename:t,future:r,navigator:n}=s.useContext($),{matches:a}=s.useContext(X),{pathname:o}=Z(),i=JSON.stringify(O(a,r.v7_relativeSplatPath)),l=s.useRef(!1);return ee((()=>{l.current=!0})),s.useCallback((function(r,a){if(void 0===a&&(a={}),!l.current)return;if("number"===typeof r)return void n.go(r);let s=M(r,JSON.parse(i),o,"path"===a.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:F([t,s.pathname])),(a.replace?n.replace:n.push)(s,a.state,a)}),[t,n,i,o,e])}()}function re(e,t){let{relative:r}=void 0===t?{}:t,{future:n}=s.useContext($),{matches:a}=s.useContext(X),{pathname:o}=Z(),i=JSON.stringify(O(a,n.v7_relativeSplatPath));return s.useMemo((()=>M(e,JSON.parse(i),o,"path"===r)),[e,i,o,r])}function ne(e,t,r,n){J()||d(!1);let{navigator:o,static:i}=s.useContext($),{matches:l}=s.useContext(X),c=l[l.length-1],u=c?c.params:{},h=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let p,m=Z();if(t){var g;let e="string"===typeof t?f(t):t;"/"===h||(null==(g=e.pathname)?void 0:g.startsWith(h))||d(!1),p=e}else p=m;let y=p.pathname||"/",v=y;if("/"!==h){let e=h.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=!i&&r&&r.matches&&r.matches.length>0?r.matches:x(e,{pathname:v});let w=le(b&&b.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:F([h,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:F([h,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,r,n);return t&&w?s.createElement(Y.Provider,{value:{location:q({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:a.Pop}},w):w}function ae(){let e=function(){var e;let t=s.useContext(Q),r=he(de.UseRouteError),n=pe(de.UseRouteError);if(void 0!==t)return t;return null==(e=r.errors)?void 0:e[n]}(),t=V(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n};return s.createElement(s.Fragment,null,s.createElement("h2",null,"Unexpected Application Error!"),s.createElement("h3",{style:{fontStyle:"italic"}},t),r?s.createElement("pre",{style:a},r):null,null)}const se=s.createElement(ae,null);class oe extends s.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?s.createElement(X.Provider,{value:this.props.routeContext},s.createElement(Q.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ie(e){let{routeContext:t,match:r,children:n}=e,a=s.useContext(G);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),s.createElement(X.Provider,{value:t},n)}function le(e,t,r,n){var a;if(void 0===t&&(t=[]),void 0===r&&(r=null),void 0===n&&(n=null),null==e){var o;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(o=n)&&o.v7_partialHydration&&0===t.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let i=e,l=null==(a=r)?void 0:a.errors;if(null!=l){let e=i.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||d(!1),i=i.slice(0,Math.min(i.length,e+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let s=0;s<i.length;s++){let e=i[s];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=s),e.route.id){let{loaderData:t,errors:n}=r,a=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||a){c=!0,i=u>=0?i.slice(0,u+1):[i[0]];break}}}return i.reduceRight(((e,n,a)=>{let o,d=!1,h=null,p=null;var m;r&&(o=l&&n.route.id?l[n.route.id]:void 0,h=n.route.errorElement||se,c&&(u<0&&0===a?(m="route-fallback",!1||me[m]||(me[m]=!0),d=!0,p=null):u===a&&(d=!0,p=n.route.hydrateFallbackElement||null)));let f=t.concat(i.slice(0,a+1)),g=()=>{let t;return t=o?h:d?p:n.route.Component?s.createElement(n.route.Component,null):n.route.element?n.route.element:e,s.createElement(ie,{match:n,routeContext:{outlet:e,matches:f,isDataRoute:null!=r},children:t})};return r&&(n.route.ErrorBoundary||n.route.errorElement||0===a)?s.createElement(oe,{location:r.location,revalidation:r.revalidation,component:h,error:o,children:g(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):g()}),null)}var ce=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ce||{}),de=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(de||{});function ue(e){let t=s.useContext(G);return t||d(!1),t}function he(e){let t=s.useContext(K);return t||d(!1),t}function pe(e){let t=function(){let e=s.useContext(X);return e||d(!1),e}(),r=t.matches[t.matches.length-1];return r.route.id||d(!1),r.route.id}const me={};function fe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}o.startTransition;function ge(e){let{to:t,replace:r,state:n,relative:a}=e;J()||d(!1);let{future:o,static:i}=s.useContext($),{matches:l}=s.useContext(X),{pathname:c}=Z(),u=te(),h=M(t,O(l,o.v7_relativeSplatPath),c,"path"===a),p=JSON.stringify(h);return s.useEffect((()=>u(JSON.parse(p),{replace:r,state:n,relative:a})),[u,p,a,r,n]),null}function ye(e){d(!1)}function xe(e){let{basename:t="/",children:r=null,location:n,navigationType:o=a.Pop,navigator:i,static:l=!1,future:c}=e;J()&&d(!1);let u=t.replace(/^\/*/,"/"),h=s.useMemo((()=>({basename:u,navigator:i,static:l,future:q({v7_relativeSplatPath:!1},c)})),[u,c,i,l]);"string"===typeof n&&(n=f(n));let{pathname:p="/",search:m="",hash:g="",state:y=null,key:x="default"}=n,v=s.useMemo((()=>{let e=R(p,u);return null==e?null:{location:{pathname:e,search:m,hash:g,state:y,key:x},navigationType:o}}),[u,p,m,g,y,x,o]);return null==v?null:s.createElement($.Provider,{value:h},s.createElement(Y.Provider,{children:r,value:v}))}function ve(e){let{children:t,location:r}=e;return ne(be(t),r)}new Promise((()=>{}));s.Component;function be(e,t){void 0===t&&(t=[]);let r=[];return s.Children.forEach(e,((e,n)=>{if(!s.isValidElement(e))return;let a=[...t,n];if(e.type===s.Fragment)return void r.push.apply(r,be(e.props.children,a));e.type!==ye&&d(!1),e.props.index&&e.props.children&&d(!1);let o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=be(e.props.children,a)),r.push(o)})),r}var we=r(950),ke=r.t(we,2);function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},je.apply(this,arguments)}function Ne(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}function Se(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map((e=>[r,e])):[[r,n]])}),[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ce=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Cx){}new Map;const Ee=o.startTransition;ke.flushSync,o.useId;function Pe(e){let{basename:t,children:r,future:n,window:a}=e,o=s.useRef();var i;null==o.current&&(o.current=(void 0===(i={window:a,v5Compat:!0})&&(i={}),g((function(e,t){let{pathname:r,search:n,hash:a}=e.location;return p("",{pathname:r,search:n,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:m(t)}),null,i)));let l=o.current,[c,d]=s.useState({action:l.action,location:l.location}),{v7_startTransition:u}=n||{},h=s.useCallback((e=>{u&&Ee?Ee((()=>d(e))):d(e)}),[d,u]);return s.useLayoutEffect((()=>l.listen(h)),[l,h]),s.useEffect((()=>fe(n)),[n]),s.createElement(xe,{basename:t,children:r,location:c.location,navigationType:c.action,navigator:l,future:n})}const Ae="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Te=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_e=s.forwardRef((function(e,t){let r,{onClick:n,relative:a,reloadDocument:o,replace:i,state:l,target:c,to:u,preventScrollReset:h,viewTransition:p}=e,f=Ne(e,Ce),{basename:g}=s.useContext($),y=!1;if("string"===typeof u&&Te.test(u)&&(r=u,Ae))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),r=R(t.pathname,g);t.origin===e.origin&&null!=r?u=r+t.search+t.hash:y=!0}catch(Cx){}let x=function(e,t){let{relative:r}=void 0===t?{}:t;J()||d(!1);let{basename:n,navigator:a}=s.useContext($),{hash:o,pathname:i,search:l}=re(e,{relative:r}),c=i;return"/"!==n&&(c="/"===i?n:F([n,i])),a.createHref({pathname:c,search:l,hash:o})}(u,{relative:a}),v=function(e,t){let{target:r,replace:n,state:a,preventScrollReset:o,relative:i,viewTransition:l}=void 0===t?{}:t,c=te(),d=Z(),u=re(e,{relative:i});return s.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let r=void 0!==n?n:m(d)===m(u);c(e,{replace:r,state:a,preventScrollReset:o,relative:i,viewTransition:l})}}),[d,c,u,n,a,r,e,o,i,l])}(u,{replace:i,state:l,target:c,preventScrollReset:h,relative:a,viewTransition:p});return s.createElement("a",je({},f,{href:r||x,onClick:y||o?n:function(e){n&&n(e),e.defaultPrevented||v(e)},ref:t,target:c}))}));var De,Re;function Le(e){let t=s.useRef(Se(e)),r=s.useRef(!1),n=Z(),a=s.useMemo((()=>function(e,t){let r=Se(e);return t&&t.forEach(((e,n)=>{r.has(n)||t.getAll(n).forEach((e=>{r.append(n,e)}))})),r}(n.search,r.current?null:t.current)),[n.search]),o=te(),i=s.useCallback(((e,t)=>{const n=Se("function"===typeof e?e(a):e);r.current=!0,o("?"+n,t)}),[o,a]);return[a,i]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(De||(De={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Re||(Re={}));function Ie(e,t){return function(){return e.apply(t,arguments)}}const{toString:Oe}=Object.prototype,{getPrototypeOf:Me}=Object,{iterator:Fe,toStringTag:Be}=Symbol,Ue=(ze=Object.create(null),e=>{const t=Oe.call(e);return ze[t]||(ze[t]=t.slice(8,-1).toLowerCase())});var ze;const Ve=e=>(e=e.toLowerCase(),t=>Ue(t)===e),We=e=>t=>typeof t===e,{isArray:He}=Array,qe=We("undefined");const Ge=Ve("ArrayBuffer");const Ke=We("string"),$e=We("function"),Ye=We("number"),Xe=e=>null!==e&&"object"===typeof e,Qe=e=>{if("object"!==Ue(e))return!1;const t=Me(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Be in e)&&!(Fe in e)},Je=Ve("Date"),Ze=Ve("File"),et=Ve("Blob"),tt=Ve("FileList"),rt=Ve("URLSearchParams"),[nt,at,st,ot]=["ReadableStream","Request","Response","Headers"].map(Ve);function it(e,t){let r,n,{allOwnKeys:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),He(e))for(r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else{const n=a?Object.getOwnPropertyNames(e):Object.keys(e),s=n.length;let o;for(r=0;r<s;r++)o=n[r],t.call(null,e[o],o,e)}}function lt(e,t){t=t.toLowerCase();const r=Object.keys(e);let n,a=r.length;for(;a-- >0;)if(n=r[a],t===n.toLowerCase())return n;return null}const ct="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,dt=e=>!qe(e)&&e!==ct;const ut=(ht="undefined"!==typeof Uint8Array&&Me(Uint8Array),e=>ht&&e instanceof ht);var ht;const pt=Ve("HTMLFormElement"),mt=(e=>{let{hasOwnProperty:t}=e;return(e,r)=>t.call(e,r)})(Object.prototype),ft=Ve("RegExp"),gt=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};it(r,((r,a)=>{let s;!1!==(s=t(r,a,e))&&(n[a]=s||r)})),Object.defineProperties(e,n)};const yt=Ve("AsyncFunction"),xt=((e,t)=>{return e?setImmediate:t?(r="axios@".concat(Math.random()),n=[],ct.addEventListener("message",(e=>{let{source:t,data:a}=e;t===ct&&a===r&&n.length&&n.shift()()}),!1),e=>{n.push(e),ct.postMessage(r,"*")}):e=>setTimeout(e);var r,n})("function"===typeof setImmediate,$e(ct.postMessage)),vt="undefined"!==typeof queueMicrotask?queueMicrotask.bind(ct):"undefined"!==typeof process&&process.nextTick||xt,bt={isArray:He,isArrayBuffer:Ge,isBuffer:function(e){return null!==e&&!qe(e)&&null!==e.constructor&&!qe(e.constructor)&&$e(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||$e(e.append)&&("formdata"===(t=Ue(e))||"object"===t&&$e(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Ge(e.buffer),t},isString:Ke,isNumber:Ye,isBoolean:e=>!0===e||!1===e,isObject:Xe,isPlainObject:Qe,isReadableStream:nt,isRequest:at,isResponse:st,isHeaders:ot,isUndefined:qe,isDate:Je,isFile:Ze,isBlob:et,isRegExp:ft,isFunction:$e,isStream:e=>Xe(e)&&$e(e.pipe),isURLSearchParams:rt,isTypedArray:ut,isFileList:tt,forEach:it,merge:function e(){const{caseless:t}=dt(this)&&this||{},r={},n=(n,a)=>{const s=t&&lt(r,a)||a;Qe(r[s])&&Qe(n)?r[s]=e(r[s],n):Qe(n)?r[s]=e({},n):He(n)?r[s]=n.slice():r[s]=n};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&it(arguments[a],n);return r},extend:function(e,t,r){let{allOwnKeys:n}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return it(t,((t,n)=>{r&&$e(t)?e[n]=Ie(t,r):e[n]=t}),{allOwnKeys:n}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,n)=>{let a,s,o;const i={};if(t=t||{},null==e)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)o=a[s],n&&!n(o,e,t)||i[o]||(t[o]=e[o],i[o]=!0);e=!1!==r&&Me(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:Ue,kindOfTest:Ve,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return-1!==n&&n===r},toArray:e=>{if(!e)return null;if(He(e))return e;let t=e.length;if(!Ye(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{const r=(e&&e[Fe]).call(e);let n;for(;(n=r.next())&&!n.done;){const r=n.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let r;const n=[];for(;null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:pt,hasOwnProperty:mt,hasOwnProp:mt,reduceDescriptors:gt,freezeMethods:e=>{gt(e,((t,r)=>{if($e(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const n=e[r];$e(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))}))},toObjectSet:(e,t)=>{const r={},n=e=>{e.forEach((e=>{r[e]=!0}))};return He(e)?n(e):n(String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,r){return t.toUpperCase()+r})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:lt,global:ct,isContextDefined:dt,isSpecCompliantForm:function(e){return!!(e&&$e(e.append)&&"FormData"===e[Be]&&e[Fe])},toJSONObject:e=>{const t=new Array(10),r=(e,n)=>{if(Xe(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;const a=He(e)?[]:{};return it(e,((e,t)=>{const s=r(e,n+1);!qe(s)&&(a[t]=s)})),t[n]=void 0,a}}return e};return r(e,0)},isAsyncFn:yt,isThenable:e=>e&&(Xe(e)||$e(e))&&$e(e.then)&&$e(e.catch),setImmediate:xt,asap:vt,isIterable:e=>null!=e&&$e(e[Fe])};function wt(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}bt.inherits(wt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:bt.toJSONObject(this.config),code:this.code,status:this.status}}});const kt=wt.prototype,jt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{jt[e]={value:e}})),Object.defineProperties(wt,jt),Object.defineProperty(kt,"isAxiosError",{value:!0}),wt.from=(e,t,r,n,a,s)=>{const o=Object.create(kt);return bt.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),wt.call(o,e.message,t,r,n,a),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};const Nt=wt;function St(e){return bt.isPlainObject(e)||bt.isArray(e)}function Ct(e){return bt.endsWith(e,"[]")?e.slice(0,-2):e}function Et(e,t,r){return e?e.concat(t).map((function(e,t){return e=Ct(e),!r&&t?"["+e+"]":e})).join(r?".":""):t}const Pt=bt.toFlatObject(bt,{},null,(function(e){return/^is[A-Z]/.test(e)}));const At=function(e,t,r){if(!bt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const n=(r=bt.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!bt.isUndefined(t[e])}))).metaTokens,a=r.visitor||c,s=r.dots,o=r.indexes,i=(r.Blob||"undefined"!==typeof Blob&&Blob)&&bt.isSpecCompliantForm(t);if(!bt.isFunction(a))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(bt.isDate(e))return e.toISOString();if(!i&&bt.isBlob(e))throw new Nt("Blob is not supported. Use a Buffer instead.");return bt.isArrayBuffer(e)||bt.isTypedArray(e)?i&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,r,a){let i=e;if(e&&!a&&"object"===typeof e)if(bt.endsWith(r,"{}"))r=n?r:r.slice(0,-2),e=JSON.stringify(e);else if(bt.isArray(e)&&function(e){return bt.isArray(e)&&!e.some(St)}(e)||(bt.isFileList(e)||bt.endsWith(r,"[]"))&&(i=bt.toArray(e)))return r=Ct(r),i.forEach((function(e,n){!bt.isUndefined(e)&&null!==e&&t.append(!0===o?Et([r],n,s):null===o?r:r+"[]",l(e))})),!1;return!!St(e)||(t.append(Et(a,r,s),l(e)),!1)}const d=[],u=Object.assign(Pt,{defaultVisitor:c,convertValue:l,isVisitable:St});if(!bt.isObject(e))throw new TypeError("data must be an object");return function e(r,n){if(!bt.isUndefined(r)){if(-1!==d.indexOf(r))throw Error("Circular reference detected in "+n.join("."));d.push(r),bt.forEach(r,(function(r,s){!0===(!(bt.isUndefined(r)||null===r)&&a.call(t,r,bt.isString(s)?s.trim():s,n,u))&&e(r,n?n.concat(s):[s])})),d.pop()}}(e),t};function Tt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function _t(e,t){this._pairs=[],e&&At(e,this,t)}const Dt=_t.prototype;Dt.append=function(e,t){this._pairs.push([e,t])},Dt.toString=function(e){const t=e?function(t){return e.call(this,t,Tt)}:Tt;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const Rt=_t;function Lt(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function It(e,t,r){if(!t)return e;const n=r&&r.encode||Lt;bt.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let s;if(s=a?a(t,r):bt.isURLSearchParams(t)?t.toString():new Rt(t,r).toString(n),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const Ot=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){bt.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},Mt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};function Ft(e){return Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ft(e)}function Bt(e){var t=function(e,t){if("object"!=Ft(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ft(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ft(t)?t:t+""}function Ut(e,t,r){return(t=Bt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Vt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zt(Object(r),!0).forEach((function(t){Ut(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Wt={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Rt,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Ht="undefined"!==typeof window&&"undefined"!==typeof document,qt="object"===typeof navigator&&navigator||void 0,Gt=Ht&&(!qt||["ReactNative","NativeScript","NS"].indexOf(qt.product)<0),Kt="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,$t=Ht&&window.location.href||"http://localhost",Yt=Vt(Vt({},n),Wt);const Xt=function(e){function t(e,r,n,a){let s=e[a++];if("__proto__"===s)return!0;const o=Number.isFinite(+s),i=a>=e.length;if(s=!s&&bt.isArray(n)?n.length:s,i)return bt.hasOwnProp(n,s)?n[s]=[n[s],r]:n[s]=r,!o;n[s]&&bt.isObject(n[s])||(n[s]=[]);return t(e,r,n[s],a)&&bt.isArray(n[s])&&(n[s]=function(e){const t={},r=Object.keys(e);let n;const a=r.length;let s;for(n=0;n<a;n++)s=r[n],t[s]=e[s];return t}(n[s])),!o}if(bt.isFormData(e)&&bt.isFunction(e.entries)){const r={};return bt.forEachEntry(e,((e,n)=>{t(function(e){return bt.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),n,r,0)})),r}return null};const Qt={transitional:Mt,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",n=r.indexOf("application/json")>-1,a=bt.isObject(e);a&&bt.isHTMLForm(e)&&(e=new FormData(e));if(bt.isFormData(e))return n?JSON.stringify(Xt(e)):e;if(bt.isArrayBuffer(e)||bt.isBuffer(e)||bt.isStream(e)||bt.isFile(e)||bt.isBlob(e)||bt.isReadableStream(e))return e;if(bt.isArrayBufferView(e))return e.buffer;if(bt.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return At(e,new Yt.classes.URLSearchParams,Object.assign({visitor:function(e,t,r,n){return Yt.isNode&&bt.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=bt.isFileList(e))||r.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return At(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||n?(t.setContentType("application/json",!1),function(e,t,r){if(bt.isString(e))try{return(t||JSON.parse)(e),bt.trim(e)}catch(Cx){if("SyntaxError"!==Cx.name)throw Cx}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Qt.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(bt.isResponse(e)||bt.isReadableStream(e))return e;if(e&&bt.isString(e)&&(r&&!this.responseType||n)){const r=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(Cx){if(r){if("SyntaxError"===Cx.name)throw Nt.from(Cx,Nt.ERR_BAD_RESPONSE,this,null,this.response);throw Cx}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Yt.classes.FormData,Blob:Yt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};bt.forEach(["delete","get","head","post","put","patch"],(e=>{Qt.headers[e]={}}));const Jt=Qt,Zt=bt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),er=Symbol("internals");function tr(e){return e&&String(e).trim().toLowerCase()}function rr(e){return!1===e||null==e?e:bt.isArray(e)?e.map(rr):String(e)}function nr(e,t,r,n,a){return bt.isFunction(n)?n.call(this,t,r):(a&&(t=r),bt.isString(t)?bt.isString(n)?-1!==t.indexOf(n):bt.isRegExp(n)?n.test(t):void 0:void 0)}class ar{constructor(e){e&&this.set(e)}set(e,t,r){const n=this;function a(e,t,r){const a=tr(t);if(!a)throw new Error("header name must be a non-empty string");const s=bt.findKey(n,a);(!s||void 0===n[s]||!0===r||void 0===r&&!1!==n[s])&&(n[s||t]=rr(e))}const s=(e,t)=>bt.forEach(e,((e,r)=>a(e,r,t)));if(bt.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(bt.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let r,n,a;return e&&e.split("\n").forEach((function(e){a=e.indexOf(":"),r=e.substring(0,a).trim().toLowerCase(),n=e.substring(a+1).trim(),!r||t[r]&&Zt[r]||("set-cookie"===r?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)})),t})(e),t);else if(bt.isObject(e)&&bt.isIterable(e)){let r,n,a={};for(const t of e){if(!bt.isArray(t))throw TypeError("Object iterator must return a key-value pair");a[n=t[0]]=(r=a[n])?bt.isArray(r)?[...r,t[1]]:[r,t[1]]:t[1]}s(a,t)}else null!=e&&a(t,e,r);return this}get(e,t){if(e=tr(e)){const r=bt.findKey(this,e);if(r){const e=this[r];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}(e);if(bt.isFunction(t))return t.call(this,e,r);if(bt.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=tr(e)){const r=bt.findKey(this,e);return!(!r||void 0===this[r]||t&&!nr(0,this[r],r,t))}return!1}delete(e,t){const r=this;let n=!1;function a(e){if(e=tr(e)){const a=bt.findKey(r,e);!a||t&&!nr(0,r[a],a,t)||(delete r[a],n=!0)}}return bt.isArray(e)?e.forEach(a):a(e),n}clear(e){const t=Object.keys(this);let r=t.length,n=!1;for(;r--;){const a=t[r];e&&!nr(0,this[a],a,e,!0)||(delete this[a],n=!0)}return n}normalize(e){const t=this,r={};return bt.forEach(this,((n,a)=>{const s=bt.findKey(r,a);if(s)return t[s]=rr(n),void delete t[a];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,r)=>t.toUpperCase()+r))}(a):String(a).trim();o!==a&&delete t[a],t[o]=rr(n),r[o]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return bt.forEach(this,((r,n)=>{null!=r&&!1!==r&&(t[n]=e&&bt.isArray(r)?r.join(", "):r)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,r]=e;return t+": "+r})).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return n.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[er]=this[er]={accessors:{}}).accessors,r=this.prototype;function n(e){const n=tr(e);t[n]||(!function(e,t){const r=bt.toCamelCase(" "+t);["get","set","has"].forEach((n=>{Object.defineProperty(e,n+r,{value:function(e,r,a){return this[n].call(this,t,e,r,a)},configurable:!0})}))}(r,e),t[n]=!0)}return bt.isArray(e)?e.forEach(n):n(e),this}}ar.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),bt.reduceDescriptors(ar.prototype,((e,t)=>{let{value:r}=e,n=t[0].toUpperCase()+t.slice(1);return{get:()=>r,set(e){this[n]=e}}})),bt.freezeMethods(ar);const sr=ar;function or(e,t){const r=this||Jt,n=t||r,a=sr.from(n.headers);let s=n.data;return bt.forEach(e,(function(e){s=e.call(r,s,a.normalize(),t?t.status:void 0)})),a.normalize(),s}function ir(e){return!(!e||!e.__CANCEL__)}function lr(e,t,r){Nt.call(this,null==e?"canceled":e,Nt.ERR_CANCELED,t,r),this.name="CanceledError"}bt.inherits(lr,Nt,{__CANCEL__:!0});const cr=lr;function dr(e,t,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new Nt("Request failed with status code "+r.status,[Nt.ERR_BAD_REQUEST,Nt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}const ur=function(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a,s=0,o=0;return t=void 0!==t?t:1e3,function(i){const l=Date.now(),c=n[o];a||(a=l),r[s]=i,n[s]=l;let d=o,u=0;for(;d!==s;)u+=r[d++],d%=e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),l-a<t)return;const h=c&&l-c;return h?Math.round(1e3*u/h):void 0}};const hr=function(e,t){let r,n,a=0,s=1e3/t;const o=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();a=s,r=null,n&&(clearTimeout(n),n=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-a;for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];t>=s?o(l,e):(r=l,n||(n=setTimeout((()=>{n=null,o(r)}),s-t)))},()=>r&&o(r)]},pr=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=0;const a=ur(50,250);return hr((r=>{const s=r.loaded,o=r.lengthComputable?r.total:void 0,i=s-n,l=a(i);n=s;e({loaded:s,total:o,progress:o?s/o:void 0,bytes:i,rate:l||void 0,estimated:l&&o&&s<=o?(o-s)/l:void 0,event:r,lengthComputable:null!=o,[t?"download":"upload"]:!0})}),r)},mr=(e,t)=>{const r=null!=e;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},fr=e=>function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return bt.asap((()=>e(...r)))},gr=Yt.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Yt.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Yt.origin),Yt.navigator&&/(msie|trident)/i.test(Yt.navigator.userAgent)):()=>!0,yr=Yt.hasStandardBrowserEnv?{write(e,t,r,n,a,s){const o=[e+"="+encodeURIComponent(t)];bt.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),bt.isString(n)&&o.push("path="+n),bt.isString(a)&&o.push("domain="+a),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function xr(e,t,r){let n=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(n||0==r)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const vr=e=>e instanceof sr?Vt({},e):e;function br(e,t){t=t||{};const r={};function n(e,t,r,n){return bt.isPlainObject(e)&&bt.isPlainObject(t)?bt.merge.call({caseless:n},e,t):bt.isPlainObject(t)?bt.merge({},t):bt.isArray(t)?t.slice():t}function a(e,t,r,a){return bt.isUndefined(t)?bt.isUndefined(e)?void 0:n(void 0,e,0,a):n(e,t,0,a)}function s(e,t){if(!bt.isUndefined(t))return n(void 0,t)}function o(e,t){return bt.isUndefined(t)?bt.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function i(r,a,s){return s in t?n(r,a):s in e?n(void 0,r):void 0}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:i,headers:(e,t,r)=>a(vr(e),vr(t),0,!0)};return bt.forEach(Object.keys(Object.assign({},e,t)),(function(n){const s=l[n]||a,o=s(e[n],t[n],n);bt.isUndefined(o)&&s!==i||(r[n]=o)})),r}const wr=e=>{const t=br({},e);let r,{data:n,withXSRFToken:a,xsrfHeaderName:s,xsrfCookieName:o,headers:i,auth:l}=t;if(t.headers=i=sr.from(i),t.url=It(xr(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),bt.isFormData(n))if(Yt.hasStandardBrowserEnv||Yt.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(!1!==(r=i.getContentType())){const[e,...t]=r?r.split(";").map((e=>e.trim())).filter(Boolean):[];i.setContentType([e||"multipart/form-data",...t].join("; "))}if(Yt.hasStandardBrowserEnv&&(a&&bt.isFunction(a)&&(a=a(t)),a||!1!==a&&gr(t.url))){const e=s&&o&&yr.read(o);e&&i.set(s,e)}return t},kr="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,r){const n=wr(e);let a=n.data;const s=sr.from(n.headers).normalize();let o,i,l,c,d,{responseType:u,onUploadProgress:h,onDownloadProgress:p}=n;function m(){c&&c(),d&&d(),n.cancelToken&&n.cancelToken.unsubscribe(o),n.signal&&n.signal.removeEventListener("abort",o)}let f=new XMLHttpRequest;function g(){if(!f)return;const n=sr.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());dr((function(e){t(e),m()}),(function(e){r(e),m()}),{data:u&&"text"!==u&&"json"!==u?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:n,config:e,request:f}),f=null}f.open(n.method.toUpperCase(),n.url,!0),f.timeout=n.timeout,"onloadend"in f?f.onloadend=g:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(g)},f.onabort=function(){f&&(r(new Nt("Request aborted",Nt.ECONNABORTED,e,f)),f=null)},f.onerror=function(){r(new Nt("Network Error",Nt.ERR_NETWORK,e,f)),f=null},f.ontimeout=function(){let t=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const a=n.transitional||Mt;n.timeoutErrorMessage&&(t=n.timeoutErrorMessage),r(new Nt(t,a.clarifyTimeoutError?Nt.ETIMEDOUT:Nt.ECONNABORTED,e,f)),f=null},void 0===a&&s.setContentType(null),"setRequestHeader"in f&&bt.forEach(s.toJSON(),(function(e,t){f.setRequestHeader(t,e)})),bt.isUndefined(n.withCredentials)||(f.withCredentials=!!n.withCredentials),u&&"json"!==u&&(f.responseType=n.responseType),p&&([l,d]=pr(p,!0),f.addEventListener("progress",l)),h&&f.upload&&([i,c]=pr(h),f.upload.addEventListener("progress",i),f.upload.addEventListener("loadend",c)),(n.cancelToken||n.signal)&&(o=t=>{f&&(r(!t||t.type?new cr(null,e,f):t),f.abort(),f=null)},n.cancelToken&&n.cancelToken.subscribe(o),n.signal&&(n.signal.aborted?o():n.signal.addEventListener("abort",o)));const y=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(n.url);y&&-1===Yt.protocols.indexOf(y)?r(new Nt("Unsupported protocol "+y+":",Nt.ERR_BAD_REQUEST,e)):f.send(a||null)}))},jr=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let r,n=new AbortController;const a=function(e){if(!r){r=!0,o();const t=e instanceof Error?e:this.reason;n.abort(t instanceof Nt?t:new cr(t instanceof Error?t.message:t))}};let s=t&&setTimeout((()=>{s=null,a(new Nt("timeout ".concat(t," of ms exceeded"),Nt.ETIMEDOUT))}),t);const o=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)})),e=null)};e.forEach((e=>e.addEventListener("abort",a)));const{signal:i}=n;return i.unsubscribe=()=>bt.asap(o),i}};function Nr(e,t){this.v=e,this.k=t}function Sr(e){return function(){return new Cr(e.apply(this,arguments))}}function Cr(e){var t,r;function n(t,r){try{var s=e[t](r),o=s.value,i=o instanceof Nr;Promise.resolve(i?o.v:o).then((function(r){if(i){var l="return"===t?"return":"next";if(!o.k||r.done)return n(l,r);r=e[l](r).value}a(s.done?"return":"normal",r)}),(function(e){n("throw",e)}))}catch(e){a("throw",e)}}function a(e,a){switch(e){case"return":t.resolve({value:a,done:!0});break;case"throw":t.reject(a);break;default:t.resolve({value:a,done:!1})}(t=t.next)?n(t.key,t.arg):r=null}this._invoke=function(e,a){return new Promise((function(s,o){var i={key:e,arg:a,resolve:s,reject:o,next:null};r?r=r.next=i:(t=r=i,n(e,a))}))},"function"!=typeof e.return&&(this.return=void 0)}function Er(e){return new Nr(e,0)}function Pr(e){var t={},r=!1;function n(t,n){return r=!0,n=new Promise((function(r){r(e[t](n))})),{done:!1,value:new Nr(n,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return r?(r=!1,e):n("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(r)throw r=!1,e;return n("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return r?(r=!1,e):n("return",e)}),t}function Ar(e){var t,r,n,a=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);a--;){if(r&&null!=(t=e[r]))return t.call(e);if(n&&null!=(t=e[n]))return new Tr(t.call(e));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function Tr(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return Tr=function(e){this.s=e,this.n=e.next},Tr.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new Tr(e)}Cr.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Cr.prototype.next=function(e){return this._invoke("next",e)},Cr.prototype.throw=function(e){return this._invoke("throw",e)},Cr.prototype.return=function(e){return this._invoke("return",e)};const _r=function*(e,t){let r=e.byteLength;if(!t||r<t)return void(yield e);let n,a=0;for(;a<r;)n=a+t,yield e.slice(a,n),a=n},Dr=function(){var e=Sr((function*(e,t){var r,n=!1,a=!1;try{for(var s,o=Ar(Rr(e));n=!(s=yield Er(o.next())).done;n=!1){const e=s.value;yield*Pr(Ar(_r(e,t)))}}catch(i){a=!0,r=i}finally{try{n&&null!=o.return&&(yield Er(o.return()))}finally{if(a)throw r}}}));return function(t,r){return e.apply(this,arguments)}}(),Rr=function(){var e=Sr((function*(e){if(e[Symbol.asyncIterator])return void(yield*Pr(Ar(e)));const t=e.getReader();try{for(;;){const{done:e,value:r}=yield Er(t.read());if(e)break;yield r}}finally{yield Er(t.cancel())}}));return function(t){return e.apply(this,arguments)}}(),Lr=(e,t,r,n)=>{const a=Dr(e,t);let s,o=0,i=e=>{s||(s=!0,n&&n(e))};return new ReadableStream({async pull(e){try{const{done:t,value:n}=await a.next();if(t)return i(),void e.close();let s=n.byteLength;if(r){let e=o+=s;r(e)}e.enqueue(new Uint8Array(n))}catch(t){throw i(t),t}},cancel:e=>(i(e),a.return())},{highWaterMark:2})},Ir="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Or=Ir&&"function"===typeof ReadableStream,Mr=Ir&&("function"===typeof TextEncoder?(Fr=new TextEncoder,e=>Fr.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Fr;const Br=function(e){try{for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return!!e(...r)}catch(Cx){return!1}},Ur=Or&&Br((()=>{let e=!1;const t=new Request(Yt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),zr=Or&&Br((()=>bt.isReadableStream(new Response("").body))),Vr={stream:zr&&(e=>e.body)};var Wr;Ir&&(Wr=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!Vr[e]&&(Vr[e]=bt.isFunction(Wr[e])?t=>t[e]():(t,r)=>{throw new Nt("Response type '".concat(e,"' is not supported"),Nt.ERR_NOT_SUPPORT,r)})})));const Hr=async(e,t)=>{const r=bt.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(bt.isBlob(e))return e.size;if(bt.isSpecCompliantForm(e)){const t=new Request(Yt.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return bt.isArrayBufferView(e)||bt.isArrayBuffer(e)?e.byteLength:(bt.isURLSearchParams(e)&&(e+=""),bt.isString(e)?(await Mr(e)).byteLength:void 0)})(t):r},qr=Ir&&(async e=>{let{url:t,method:r,data:n,signal:a,cancelToken:s,timeout:o,onDownloadProgress:i,onUploadProgress:l,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:h}=wr(e);c=c?(c+"").toLowerCase():"text";let p,m=jr([a,s&&s.toAbortSignal()],o);const f=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let g;try{if(l&&Ur&&"get"!==r&&"head"!==r&&0!==(g=await Hr(d,n))){let e,r=new Request(t,{method:"POST",body:n,duplex:"half"});if(bt.isFormData(n)&&(e=r.headers.get("content-type"))&&d.setContentType(e),r.body){const[e,t]=mr(g,pr(fr(l)));n=Lr(r.body,65536,e,t)}}bt.isString(u)||(u=u?"include":"omit");const a="credentials"in Request.prototype;p=new Request(t,Vt(Vt({},h),{},{signal:m,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:a?u:void 0}));let s=await fetch(p);const o=zr&&("stream"===c||"response"===c);if(zr&&(i||o&&f)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=s[t]}));const t=bt.toFiniteNumber(s.headers.get("content-length")),[r,n]=i&&mr(t,pr(fr(i),!0))||[];s=new Response(Lr(s.body,65536,r,(()=>{n&&n(),f&&f()})),e)}c=c||"text";let y=await Vr[bt.findKey(Vr,c)||"text"](s,e);return!o&&f&&f(),await new Promise(((t,r)=>{dr(t,r,{data:y,headers:sr.from(s.headers),status:s.status,statusText:s.statusText,config:e,request:p})}))}catch(y){if(f&&f(),y&&"TypeError"===y.name&&/Load failed|fetch/i.test(y.message))throw Object.assign(new Nt("Network Error",Nt.ERR_NETWORK,e,p),{cause:y.cause||y});throw Nt.from(y,y&&y.code,e,p)}}),Gr={http:null,xhr:kr,fetch:qr};bt.forEach(Gr,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(Cx){}Object.defineProperty(e,"adapterName",{value:t})}}));const Kr=e=>"- ".concat(e),$r=e=>bt.isFunction(e)||null===e||!1===e,Yr=e=>{e=bt.isArray(e)?e:[e];const{length:t}=e;let r,n;const a={};for(let s=0;s<t;s++){let t;if(r=e[s],n=r,!$r(r)&&(n=Gr[(t=String(r)).toLowerCase()],void 0===n))throw new Nt("Unknown adapter '".concat(t,"'"));if(n)break;a[t||"#"+s]=n}if(!n){const e=Object.entries(a).map((e=>{let[t,r]=e;return"adapter ".concat(t," ")+(!1===r?"is not supported by the environment":"is not available in the build")}));let r=t?e.length>1?"since :\n"+e.map(Kr).join("\n"):" "+Kr(e[0]):"as no adapter specified";throw new Nt("There is no suitable adapter to dispatch the request "+r,"ERR_NOT_SUPPORT")}return n};function Xr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new cr(null,e)}function Qr(e){Xr(e),e.headers=sr.from(e.headers),e.data=or.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Yr(e.adapter||Jt.adapter)(e).then((function(t){return Xr(e),t.data=or.call(e,e.transformResponse,t),t.headers=sr.from(t.headers),t}),(function(t){return ir(t)||(Xr(e),t&&t.response&&(t.response.data=or.call(e,e.transformResponse,t.response),t.response.headers=sr.from(t.response.headers))),Promise.reject(t)}))}const Jr="1.9.0",Zr={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Zr[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));const en={};Zr.transitional=function(e,t,r){function n(e,t){return"[Axios v1.9.0] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,a,s)=>{if(!1===e)throw new Nt(n(a," has been removed"+(t?" in "+t:"")),Nt.ERR_DEPRECATED);return t&&!en[a]&&(en[a]=!0,console.warn(n(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,a,s)}},Zr.spelling=function(e){return(t,r)=>(console.warn("".concat(r," is likely a misspelling of ").concat(e)),!0)};const tn={assertOptions:function(e,t,r){if("object"!==typeof e)throw new Nt("options must be an object",Nt.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const s=n[a],o=t[s];if(o){const t=e[s],r=void 0===t||o(t,s,e);if(!0!==r)throw new Nt("option "+s+" must be "+r,Nt.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new Nt("Unknown option "+s,Nt.ERR_BAD_OPTION)}},validators:Zr},rn=tn.validators;class nn{constructor(e){this.defaults=e||{},this.interceptors={request:new Ot,response:new Ot}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{r.stack?t&&!String(r.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(r.stack+="\n"+t):r.stack=t}catch(Cx){}}throw r}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=br(this.defaults,t);const{transitional:r,paramsSerializer:n,headers:a}=t;void 0!==r&&tn.assertOptions(r,{silentJSONParsing:rn.transitional(rn.boolean),forcedJSONParsing:rn.transitional(rn.boolean),clarifyTimeoutError:rn.transitional(rn.boolean)},!1),null!=n&&(bt.isFunction(n)?t.paramsSerializer={serialize:n}:tn.assertOptions(n,{encode:rn.function,serialize:rn.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),tn.assertOptions(t,{baseUrl:rn.spelling("baseURL"),withXsrfToken:rn.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=a&&bt.merge(a.common,a[t.method]);a&&bt.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete a[e]})),t.headers=sr.concat(s,a);const o=[];let i=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,o.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let d,u=0;if(!i){const e=[Qr.bind(this),void 0];for(e.unshift.apply(e,o),e.push.apply(e,l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=o.length;let h=t;for(u=0;u<d;){const e=o[u++],t=o[u++];try{h=e(h)}catch(p){t.call(this,p);break}}try{c=Qr.call(this,h)}catch(p){return Promise.reject(p)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return It(xr((e=br(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}bt.forEach(["delete","get","head","options"],(function(e){nn.prototype[e]=function(t,r){return this.request(br(r||{},{method:e,url:t,data:(r||{}).data}))}})),bt.forEach(["post","put","patch"],(function(e){function t(t){return function(r,n,a){return this.request(br(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}nn.prototype[e]=t(),nn.prototype[e+"Form"]=t(!0)}));const an=nn;class sn{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const r=this;this.promise.then((e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null})),this.promise.then=e=>{let t;const n=new Promise((e=>{r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e,n,a){r.reason||(r.reason=new cr(e,n,a),t(r.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new sn((function(t){e=t})),cancel:e}}}const on=sn;const ln={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ln).forEach((e=>{let[t,r]=e;ln[r]=t}));const cn=ln;const dn=function e(t){const r=new an(t),n=Ie(an.prototype.request,r);return bt.extend(n,an.prototype,r,{allOwnKeys:!0}),bt.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return e(br(t,r))},n}(Jt);dn.Axios=an,dn.CanceledError=cr,dn.CancelToken=on,dn.isCancel=ir,dn.VERSION=Jr,dn.toFormData=At,dn.AxiosError=Nt,dn.Cancel=dn.CanceledError,dn.all=function(e){return Promise.all(e)},dn.spread=function(e){return function(t){return e.apply(null,t)}},dn.isAxiosError=function(e){return bt.isObject(e)&&!0===e.isAxiosError},dn.mergeConfig=br,dn.AxiosHeaders=sr,dn.formToJSON=e=>Xt(bt.isHTMLForm(e)?new FormData(e):e),dn.getAdapter=Yr,dn.HttpStatusCode=cn,dn.default=dn;const un=dn;var hn=r(579);const pn=(0,s.createContext)(),mn=e=>{let{children:t}=e;const[r,n]=(0,s.useState)(null),[a,o]=(0,s.useState)(!1),[i,l]=(0,s.useState)(!0),[c,d]=(0,s.useState)(!1);(0,s.useEffect)((()=>{const e=async()=>{l(!0);try{const e=localStorage.getItem("token");if(e){if(console.log("Found existing token:",e.substring(0,15)+"..."),!e.includes(".")||""===e.trim())return console.error("Invalid token format, clearing token"),localStorage.removeItem("token"),n(null),o(!1),void l(!1);un.defaults.headers.common.Authorization="Bearer ".concat(e),console.log("Fetching user data with token...");const t=await un.get("/auth/current-user",{headers:{Authorization:"Bearer ".concat(e)},withCredentials:!0});console.log("User data response:",t.status,t.data?"has data":"no data"),t.data&&t.data.user?(console.log("Successfully authenticated user:",t.data.user.email),n(t.data.user),o(!0)):(console.log("No valid user found with token"),localStorage.removeItem("token"),delete un.defaults.headers.common.Authorization,n(null),o(!1))}else console.log("No token found, user is not authenticated"),n(null),o(!1)}catch(e){console.error("Auth error:",e),!e.response||401!==e.response.status&&403!==e.response.status||(console.log("Authentication error, clearing token"),localStorage.removeItem("token"),delete un.defaults.headers.common.Authorization),n(null),o(!1)}finally{l(!1),d(!0)}};e();const t=setInterval((()=>{console.log("Refreshing auth token..."),e()}),9e5),r=t=>{"token"===t.key&&(console.log("Token changed in localStorage, refreshing auth state"),e())};return window.addEventListener("storage",r),()=>{clearInterval(t),window.removeEventListener("storage",r)}}),[]),(0,s.useEffect)((()=>{const e=un.interceptors.request.use((e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t),e.withCredentials=!0),e}),(e=>Promise.reject(e)));return()=>un.interceptors.request.eject(e)}),[]);return(0,hn.jsx)(pn.Provider,{value:{user:r,setUser:n,isAuthenticated:a,setIsAuthenticated:o,loading:i,tokenChecked:c,register:async e=>{try{console.log("Registering user:",e.email);const t=await un.post("/auth/register",e),r=t.data.token;return r?(localStorage.setItem("token",r),un.defaults.headers.common.Authorization="Bearer ".concat(r),n(t.data.user),o(!0),console.log("User registered successfully:",t.data.user),{success:!0}):(console.error("No token received from registration"),{success:!1,message:"Registration failed - no authentication token received"})}catch(a){var t,r;return console.error("Registration error:",a),{success:!1,message:(null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Registration failed"}}},login:async e=>{try{console.log("Logging in user:",e.email);const t=await un.post("/auth/login",e),r=t.data.token;return r?(localStorage.setItem("token",r),un.defaults.headers.common.Authorization="Bearer ".concat(r),n(t.data.user),o(!0),console.log("User logged in successfully:",t.data.user),{success:!0}):(console.error("No token received from login"),{success:!1,message:"Login failed - no authentication token received"})}catch(a){var t,r;return console.error("Login error:",a),{success:!1,message:(null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Login failed"}}},googleLogin:()=>{try{console.log("Starting Google OAuth login flow"),localStorage.removeItem("token"),delete un.defaults.headers.common.Authorization;const e=un.defaults.baseURL||"http://localhost:5000";console.log("Redirecting to Google OAuth:","".concat(e,"/auth/google")),window.location.href="".concat(e,"/auth/google")}catch(Cx){console.error("Error initiating Google login:",Cx)}},logout:async()=>{try{await un.get("/auth/logout",{withCredentials:!0})}catch(e){console.error("Logout error:",e)}finally{localStorage.removeItem("token"),delete un.defaults.headers.common.Authorization,n(null),o(!1)}},updateProfile:async e=>{try{const t=localStorage.getItem("token");if(!t)return{success:!1,message:"Not authenticated"};const r=await un.put("/api/user/profile",e,{headers:{Authorization:"Bearer ".concat(t)}});return n((e=>Vt(Vt({},e),r.data.user))),{success:!0,user:r.data.user}}catch(a){var t,r;return console.error("Profile update error:",a),{success:!1,message:(null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to update profile"}}},updatePhoto:async e=>{try{const t=new FormData;t.append("photo",e);const r=localStorage.getItem("token");if(!r)return{success:!1,message:"Not authenticated"};const a=await un.post("/api/user/photo",t,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(r)}});return n((e=>Vt(Vt({},e),{},{photo:a.data.photoUrl}))),{success:!0,photoUrl:a.data.photoUrl}}catch(a){var t,r;return console.error("Photo upload error:",a),{success:!1,message:(null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to update profile photo"}}},refreshUserData:async()=>{try{const e=localStorage.getItem("token");if(!e)return console.log("No token found during refresh"),n(null),o(!1),!1;un.defaults.headers.common.Authorization="Bearer ".concat(e);const t=await un.get("/auth/current-user",{headers:{Authorization:"Bearer ".concat(e)},withCredentials:!0});return t.data&&t.data.user?(console.log("Successfully refreshed user data:",t.data.user.email),n(t.data.user),o(!0),!0):(console.log("No valid user data returned from refresh"),n(null),o(!1),!1)}catch(e){return console.error("Error refreshing user data:",e),!e.response||401!==e.response.status&&403!==e.response.status||(console.log("Authentication error during refresh, clearing token"),localStorage.removeItem("token"),delete un.defaults.headers.common.Authorization,n(null),o(!1)),!1}}},children:t})};var fn=r(104);const gn=(0,s.createContext)(),yn=e=>{let{children:t}=e;const[r,n]=(0,s.useState)([]),[a,o]=(0,s.useState)(0),[i,l]=(0,s.useState)(!1),[c,d]=(0,s.useState)(null),u=(0,s.useRef)(null);(0,s.useEffect)((()=>{const e=localStorage.getItem("token");if(e){const t=async()=>{try{const t=await un.get("/auth/current-user",{headers:{Authorization:"Bearer ".concat(e)},withCredentials:!0});t.data&&t.data.user&&d(t.data.user)}catch(t){console.error("Error fetching user in NotificationContext:",t)}};t()}else d(null)}),[]),(0,s.useEffect)((()=>{if(c){const e=(0,fn.io)({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:5000");return u.current=e,e.emit("authenticate",{userId:c._id}),e.on("notification:new",(e=>{console.log("New notification received:",e),n((t=>[e,...t])),o((e=>e+1)),Notification&&"granted"===Notification.permission&&new Notification(e.title,{body:e.message,icon:"/favicon.ico"})})),()=>{e&&(e.off("notification:new"),e.disconnect())}}}),[c]),(0,s.useEffect)((()=>{Notification&&"granted"!==Notification.permission&&"denied"!==Notification.permission&&Notification.requestPermission()}),[]),(0,s.useEffect)((()=>{c&&h()}),[c]);const h=async()=>{l(!0);try{const e=localStorage.getItem("token");if(!e)return void l(!1);const t=await un.get("/api/notifications",{headers:{Authorization:"Bearer ".concat(e)}});Array.isArray(t.data)?(n(t.data),o(t.data.filter((e=>!e.read)).length)):console.error("Unexpected notifications format:",t.data)}catch(e){console.error("Error fetching notifications:",e)}finally{l(!1)}};return(0,s.useEffect)((()=>{c&&0===r.length&&(()=>{const e=[{_id:"1",title:"New task assigned",message:"You have been assigned a new task in Website Redesign project",type:"task",read:!1,createdAt:new Date(Date.now()-72e5).toISOString()},{_id:"2",title:"Meeting scheduled",message:"Team meeting scheduled for tomorrow at 10:00 AM",type:"meeting",read:!1,createdAt:new Date(Date.now()-18e6).toISOString()},{_id:"3",title:"Project deadline approaching",message:"The deadline for Marketing Campaign project is approaching",type:"deadline",read:!0,createdAt:new Date(Date.now()-864e5).toISOString()}];n(e),o(e.filter((e=>!e.read)).length)})()}),[c,r.length]),(0,hn.jsx)(gn.Provider,{value:{notifications:r,unreadCount:a,loading:i,fetchNotifications:h,markAsRead:async e=>{try{const t=localStorage.getItem("token");return await un.put("/api/notifications/".concat(e,"/read"),{},{headers:{Authorization:"Bearer ".concat(t)}}),n((t=>t.map((t=>t._id===e?Vt(Vt({},t),{},{read:!0}):t)))),o((e=>Math.max(0,e-1))),!0}catch(t){return console.error("Error marking notification as read:",t),!1}},markAllAsRead:async()=>{try{const e=localStorage.getItem("token");return await un.put("/api/notifications/read-all",{},{headers:{Authorization:"Bearer ".concat(e)}}),n((e=>e.map((e=>Vt(Vt({},e),{},{read:!0}))))),o(0),!0}catch(e){return console.error("Error marking all notifications as read:",e),!1}},deleteNotification:async e=>{try{const t=localStorage.getItem("token");await un.delete("/api/notifications/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}});const a=r.find((t=>t._id===e));return a&&!a.read&&o((e=>Math.max(0,e-1))),n((t=>t.filter((t=>t._id!==e)))),!0}catch(t){return console.error("Error deleting notification:",t),!1}}},children:t})},xn=(0,s.createContext)(),vn=e=>{let{children:t}=e;const[r,n]=(0,s.useState)((()=>{try{const e=localStorage.getItem("darkMode");return null!==e?"true"===e:window.matchMedia("(prefers-color-scheme: dark)").matches}catch(e){return console.error("Error getting theme preference:",e),!1}})),a=(0,s.useCallback)((()=>{n((e=>{try{const t=!e;return localStorage.setItem("darkMode",String(t)),t}catch(t){return console.error("Error saving theme preference:",t),!e}}))}),[]);(0,s.useEffect)((()=>{try{r?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}catch(e){console.error("Error applying theme:",e)}}),[r]);const o=s.useMemo((()=>({darkMode:r,toggleTheme:a})),[r,a]);return(0,hn.jsx)(xn.Provider,{value:o,children:t})},bn=(0,s.createContext)(),wn=e=>{let{children:t}=e;const{user:r,isAuthenticated:n}=(0,s.useContext)(pn),[a,o]=(0,s.useState)({}),[i,l]=(0,s.useState)(null),[c,d]=(0,s.useState)({}),[u,h]=(0,s.useState)([]),[p,m]=(0,s.useState)("disconnected"),f=(0,s.useRef)(null),[g,y]=(0,s.useState)(""),x=(0,s.useRef)(null),v=(0,s.useRef)(0);(0,s.useEffect)((()=>(n&&null!==r&&void 0!==r&&r._id&&j(),()=>{b(),N()})),[n,r]);const b=(0,s.useCallback)((()=>{x.current&&(clearTimeout(x.current),x.current=null)}),[]),w=(0,s.useCallback)((()=>{console.log("Manual reconnection attempt"),b(),v.current=0,j()}),[b]),k=(0,s.useCallback)((()=>{if(b(),v.current>=10)return console.log("Maximum reconnection attempts reached"),m("error"),void y("Connection failed after multiple attempts. Please try refreshing the page or check your network connection.");v.current+=1;const e=Math.min(1e3*2**v.current,3e4);console.log("Scheduling reconnect attempt ".concat(v.current," in ").concat(e,"ms")),m("disconnected"),x.current=setTimeout((()=>{console.log("Executing scheduled reconnect attempt ".concat(v.current)),j()}),e)}),[b]),j=(0,s.useCallback)((()=>{try{f.current&&(f.current.disconnect(),f.current=null),m("connecting");const e="http://localhost:5000";console.log("Connecting to socket at:",e);const t=(0,fn.io)(e,{reconnection:!0,reconnectionAttempts:10,reconnectionDelay:1e3,reconnectionDelayMax:5e3,timeout:6e4,transports:["websocket","polling"],withCredentials:!0,forceNew:!0,auth:{token:localStorage.getItem("token")},autoConnect:!0});f.current=t,t.on("connect",(()=>{console.log("Socket connected successfully:",t.id),v.current=0,m("connected"),y(""),r&&(t.emit("authenticate",{userId:r._id}),console.log("Authentication sent for user:",r._id))})),t.on("connect_error",(e=>{console.error("Socket connection error:",e),m("error"),"timeout"===e.message?(y("Connection timed out. Server may be down or unreachable. Reconnecting..."),console.log("Timeout detected, attempting immediate reconnect..."),v.current=Math.max(0,v.current-2)):y("Connection error: ".concat(e.message,". Reconnecting...")),k()})),t.on("disconnect",(e=>{console.log("Socket disconnected. Reason:",e),"io server disconnect"===e||"transport close"===e?(m("disconnected"),k()):m("disconnected")})),t.on("reconnect",(e=>{console.log("Socket reconnected after ".concat(e," attempts")),v.current=0,m("connected"),y(""),r&&(t.emit("authenticate",{userId:r._id}),i&&t.emit("join:project",i))})),t.on("reconnect_error",(e=>{console.error("Socket reconnection error:",e),y("Reconnection error: ".concat(e.message,". Retrying...")),k()})),t.on("reconnect_failed",(()=>{console.log("Socket reconnection failed"),m("error"),y("Connection failed. Please use the reconnect button or refresh the page.")})),t.on("error",(e=>{console.error("Socket error:",e),y("Socket error: ".concat(e.message||"Unknown error"))})),t.on("users:online",(e=>{console.log("Online users updated:",e),h(e)})),t.on("chat:message",(e=>{var t;console.log("Received message:",e),o((t=>{const n=e.projectId,a=Vt({},t);a[n]||(a[n]=[]);if(!a[n].some((t=>t._id===e._id))){const t=Vt(Vt({},e),{},{userId:e.userId&&"object"===typeof e.userId?e.userId:{_id:e.userId||(null===r||void 0===r?void 0:r._id),displayName:e.userName||"Unknown User",photo:e.userAvatar||null}});a[n]=[...a[n],t]}return a})),(null===(t=e.userId)||void 0===t?void 0:t._id)!==(null===r||void 0===r?void 0:r._id)&&i!==e.projectId&&d((t=>Vt(Vt({},t),{},{[e.projectId]:(t[e.projectId]||0)+1})))})),t.on("chat:message:delete",(e=>{let{messageId:t,projectId:r}=e;o((e=>{const n=Vt({},e);return n[r]&&(n[r]=n[r].filter((e=>e._id!==t))),n}))}))}catch(e){console.error("Error setting up socket connection:",e),m("error"),y("Failed to establish connection. Please try reconnecting."),k()}}),[r,i,k]),N=(0,s.useCallback)((()=>{const e=f.current;e&&(console.log("Cleaning up socket connection"),e.off("connect"),e.off("connect_error"),e.off("disconnect"),e.off("reconnect"),e.off("reconnect_error"),e.off("reconnect_failed"),e.off("error"),e.off("chat:message"),e.off("chat:message:delete"),e.off("users:online"),i&&e.emit("leave:project",i),e.disconnect(),f.current=null)}),[i]),S=(0,s.useCallback)((e=>{const t=f.current;t&&e?(console.log("Joining chat room:",e),t.emit("join:project",e),l(e),d((t=>Vt(Vt({},t),{},{[e]:0})))):!t&&e&&(console.log("No active socket when trying to join room. Attempting reconnect..."),l(e),w())}),[w]),C=(0,s.useCallback)((e=>{const t=f.current;t&&e&&"string"===typeof e&&""!==e.trim()&&(console.log("Leaving chat room:",e),t.emit("leave:project",e),i===e&&l(null))}),[i]),E=(0,s.useCallback)((async e=>{try{if(y(""),a[e]&&a[e].length>0)return a[e];const t=localStorage.getItem("token");if(!t)return y("Authentication required. Please log in again."),[];const r=await un.get("/api/chat/".concat(e,"/messages"),{headers:{Authorization:"Bearer ".concat(t)},timeout:1e4});return Array.isArray(r.data)?(o((t=>Vt(Vt({},t),{},{[e]:r.data}))),r.data):(console.error("Unexpected message format:",r.data),[])}catch(t){return console.error("Error fetching messages:",t),"ECONNABORTED"===t.code?y("Request timed out. Please check your connection and try again."):t.response?y("Failed to load messages: ".concat(t.response.data.message||t.response.statusText)):t.request?y("Network error. Please check your connection and try again."):y("Failed to load messages. Please try again."),[]}}),[a]),P=(0,s.useCallback)((async(e,t)=>{try{if(y(""),!t||""===t.trim())return!1;const n=localStorage.getItem("token");if(!n)return y("Authentication required. Please log in again."),!1;const a={_id:"temp-".concat(Date.now()),projectId:e,userId:{_id:r._id,displayName:r.displayName,photo:r.photo},message:t,createdAt:(new Date).toISOString(),isOptimistic:!0};o((t=>{const r=Vt({},t);return r[e]||(r[e]=[]),r[e]=[...r[e],a],r}));const s=await un.post("/api/chat/".concat(e,"/messages"),{message:t,attachments:[]},{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},timeout:1e4});return(201===s.status||200===s.status)&&(o((t=>{const r=Vt({},t);return r[e]&&(r[e]=r[e].filter((e=>e._id!==a._id))),r})),!0)}catch(n){return console.error("Error sending message:",n),o((t=>{const r=Vt({},t);return r[e]&&(r[e]=r[e].filter((e=>!e.isOptimistic))),r})),n.response?y("Failed to send message: ".concat(n.response.data.message||n.response.statusText)):n.request?y("Network error. Please check your connection and try again."):y("Failed to send message. Please try again."),!1}}),[r]),A=(0,s.useCallback)((async(e,t)=>{try{var r;const n=localStorage.getItem("token");if(!n)return y("Authentication required. Please log in again."),!1;return(null===(r=a[e])||void 0===r?void 0:r.find((e=>e._id===t)))?(o((r=>{const n=Vt({},r);return n[e]&&(n[e]=n[e].filter((e=>e._id!==t))),n})),await un.delete("/api/chat/".concat(e,"/messages/").concat(t),{headers:{Authorization:"Bearer ".concat(n)}}),!0):(y("Message not found"),!1)}catch(n){return console.error("Error deleting message:",n),o((r=>{var n;const s=Vt({},r),o=null===(n=a[e])||void 0===n?void 0:n.find((e=>e._id===t));return s[e]&&o&&(s[e]=[...s[e],o].sort(((e,t)=>new Date(e.createdAt)-new Date(t.createdAt)))),s})),y("Failed to delete message. Please try again."),!1}}),[a]),T=Object.values(c).reduce(((e,t)=>e+t),0),_=(0,s.useCallback)((e=>a[e]||[]),[a]),D=(0,s.useCallback)((e=>{d((t=>Vt(Vt({},t),{},{[e]:0})))}),[]);return(0,hn.jsx)(bn.Provider,{value:{messages:a,activeChat:i,connectionStatus:p,error:g,onlineUsers:u,unreadCounts:c,totalUnreadCount:T,getChatMessages:_,joinChatRoom:S,leaveChatRoom:C,sendMessage:r?P:()=>Promise.reject("User not authenticated"),deleteMessage:A,fetchMessages:E,markChatAsRead:D,isOnline:e=>u.includes(e),reconnect:w},children:t})},kn=e=>{var t;let{item:r,onClick:n}=e;switch(r.type){case"project":return(0,hn.jsxs)("div",{className:"p-3 flex items-center hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer rounded-md",onClick:()=>n("/projects/".concat(r._id)),children:[(0,hn.jsx)("div",{className:"flex-shrink-0 h-8 w-8 rounded-md flex items-center justify-center",style:{backgroundColor:r.color||"#6366f1"},children:(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}),(0,hn.jsxs)("div",{className:"ml-3",children:[(0,hn.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:r.name}),(0,hn.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Project"})]})]});case"task":return(0,hn.jsxs)("div",{className:"p-3 flex items-center hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer rounded-md",onClick:()=>n("/tasks"),children:[(0,hn.jsx)("div",{className:"flex-shrink-0 h-8 w-8 rounded-md bg-blue-100 text-blue-600 dark:bg-blue-900 dark:text-blue-400 flex items-center justify-center",children:(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),(0,hn.jsxs)("div",{className:"ml-3",children:[(0,hn.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:r.title}),(0,hn.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Task in ",r.project?r.project.name:"Unknown Project"]})]})]});case"user":return(0,hn.jsxs)("div",{className:"p-3 flex items-center hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer rounded-md",onClick:()=>n("/team"),children:[(0,hn.jsx)("div",{className:"flex-shrink-0 h-8 w-8 rounded-full bg-green-100 text-green-600 dark:bg-green-900 dark:text-green-400 flex items-center justify-center",children:r.photo?(0,hn.jsx)("img",{src:r.photo,alt:r.displayName,className:"h-8 w-8 rounded-full object-cover"}):(0,hn.jsx)("span",{className:"text-sm font-medium",children:(null===(t=r.displayName)||void 0===t?void 0:t.charAt(0).toUpperCase())||"U"})}),(0,hn.jsxs)("div",{className:"ml-3",children:[(0,hn.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:r.displayName}),(0,hn.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Team member"})]})]});default:return null}},jn=()=>{const[e,t]=(0,s.useState)(""),[r,n]=(0,s.useState)(!1),[a,o]=(0,s.useState)([]),[i,l]=(0,s.useState)(!1),[c,d]=(0,s.useState)(null),u=(0,s.useRef)(null),h=te();(0,s.useEffect)((()=>{function e(e){u.current&&!u.current.contains(e.target)&&n(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]),(0,s.useEffect)((()=>{if(!e.trim())return void o([]);const t=setTimeout((async()=>{try{l(!0),d(null);const t=localStorage.getItem("token");if(!t)return d("Authentication required"),void l(!1);const r=await un.get("/api/search?q=".concat(encodeURIComponent(e)),{headers:{Authorization:"Bearer ".concat(t)}});r.data&&o(r.data)}catch(t){console.error("Search error:",t),d("Failed to search. Please try again.")}finally{l(!1)}}),300);return()=>clearTimeout(t)}),[e]);const p=r=>{r.preventDefault(),e.trim()&&(h("/search?q=".concat(encodeURIComponent(e.trim()))),n(!1),t(""))},m=e=>{h(e),n(!1),t("")};return(0,hn.jsxs)("div",{className:"relative",ref:u,children:[(0,hn.jsx)("form",{onSubmit:p,children:(0,hn.jsxs)("div",{className:"relative",children:[(0,hn.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,hn.jsx)("input",{type:"text",placeholder:"Search projects, tasks, and team...",className:"linear-input w-64 pl-10 pr-10 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-gray-100 dark:border-gray-600 dark:focus:border-primary-500 transition-all duration-200",value:e,onChange:e=>{t(e.target.value),e.target.value.trim()&&n(!0)},onFocus:()=>{e.trim()&&n(!0)}}),e&&(0,hn.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",onClick:()=>{t(""),o([])},children:(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),r&&e.trim()&&(0,hn.jsxs)("div",{className:"absolute mt-2 w-96 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 z-50 overflow-hidden",children:[(0,hn.jsx)("div",{className:"p-3 border-b border-gray-100 dark:border-gray-700",children:(0,hn.jsx)("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Search Results"})}),i?(0,hn.jsx)("div",{className:"p-8 flex justify-center",children:(0,hn.jsx)("div",{className:"linear-spinner h-6 w-6 dark:border-gray-600 dark:border-t-primary-400"})}):c?(0,hn.jsx)("div",{className:"p-4 text-center",children:(0,hn.jsx)("p",{className:"text-sm text-red-500 dark:text-red-400",children:c})}):a.length>0?(0,hn.jsx)("div",{className:"max-h-80 overflow-y-auto",children:a.map(((e,t)=>(0,hn.jsx)(kn,{item:e,onClick:m},"".concat(e.type,"-").concat(e._id||t))))}):e.trim()?(0,hn.jsx)("div",{className:"p-6 text-center",children:(0,hn.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:['No results found for "',e,'"']})}):null,(0,hn.jsx)("div",{className:"p-3 border-t border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-800",children:(0,hn.jsxs)("button",{type:"button",className:"w-full text-center text-sm text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 font-medium",onClick:p,children:['View all results for "',e,'"']})})]})]})},Nn=e=>{var t;let{user:r,logout:n,className:a=""}=e;Z();const o=te(),[i,l]=(0,s.useState)(!1),[c,d]=(0,s.useState)(!1),u=(0,s.useRef)(null),h=(0,s.useRef)(null),p=(0,s.useRef)(null),m=(0,s.useRef)(null),{notifications:f,unreadCount:g,markAsRead:y,markAllAsRead:x}=(0,s.useContext)(gn),{darkMode:v,toggleTheme:b}=(0,s.useContext)(xn),{totalUnreadCount:w}=(0,s.useContext)(bn);(0,s.useEffect)((()=>{function e(e){u.current&&!u.current.contains(e.target)&&l(!1),h.current&&!h.current.contains(e.target)&&d(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]);const k=(0,s.useCallback)((e=>{y(e._id),"project_invite"===e.type?o("/projects/".concat(e.projectId)):"task_assigned"===e.type?o("/tasks"):"task_comment"===e.type&&o("/projects/".concat(e.projectId)),l(!1)}),[y,o]),j=(0,s.useCallback)((e=>{e.stopPropagation(),d(!1),l((e=>!e))}),[]),N=(0,s.useCallback)((e=>{e.stopPropagation(),l(!1),d((e=>!e))}),[]),S=(0,s.useCallback)((e=>{e.stopPropagation(),x()}),[x]),C=(0,s.useCallback)((()=>{d(!1),n()}),[n]);return(0,hn.jsx)("header",{className:"header dark:bg-gray-800 dark:border-gray-700 w-full ".concat(a),children:(0,hn.jsxs)("div",{className:"h-full flex items-center justify-between px-6",children:[(0,hn.jsx)("div",{className:"flex items-center",children:(0,hn.jsx)("h1",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100",children:(()=>{const e=window.location.pathname;return"/dashboard"===e?"Dashboard":"/projects"===e?"Projects":e.startsWith("/projects/")?"Project Details":"/tasks"===e?"My Tasks":"/team"===e?"Team":"/settings"===e?"Settings":"/profile"===e?"Profile":"/notifications"===e?"Notifications":"/chat"===e?"Chat":"Taskboard-pro"})()})}),(0,hn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,hn.jsx)("div",{className:"hidden md:block",children:(0,hn.jsx)(jn,{})}),(0,hn.jsx)("div",{className:"relative",ref:p,children:(0,hn.jsx)("button",{className:"linear-action-btn relative p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors duration-200",onClick:b,"aria-label":v?"Switch to light mode":"Switch to dark mode",children:v?(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-100",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}):(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})})}),(0,hn.jsx)("div",{className:"relative",ref:m,children:(0,hn.jsxs)(_e,{to:"/chat",className:"linear-action-btn relative p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors duration-200","aria-label":"Open chat",children:[(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 dark:text-gray-100",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),w>0&&(0,hn.jsx)("span",{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center bg-green-500 text-white text-xs font-bold rounded-full shadow-lg animate-pulse",children:w})]})}),(0,hn.jsxs)("div",{className:"relative",ref:u,children:[(0,hn.jsxs)("button",{className:"linear-action-btn relative p-2 ".concat(g>0?"bg-primary-50 dark:bg-primary-900/20":"hover:bg-gray-100 dark:hover:bg-gray-700"," rounded-full transition-colors duration-200"),onClick:j,"aria-expanded":i,"aria-haspopup":"true",children:[(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ".concat(g>0?"text-primary-600 dark:text-primary-400":"dark:text-gray-100"),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),g>0&&(0,hn.jsx)("span",{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center bg-red-500 text-white text-xs font-bold rounded-full shadow-lg animate-pulse",children:g})]}),i&&(0,hn.jsxs)("div",{className:"notification-dropdown fixed right-0 top-0 mt-16 mr-6 w-96 max-h-[calc(100vh-80px)] overflow-y-auto bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 z-50",children:[(0,hn.jsx)("div",{className:"sticky top-0 bg-white dark:bg-gray-800 border-b border-gray-100 dark:border-gray-700 py-3 px-4 z-10",children:(0,hn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,hn.jsxs)("h3",{className:"text-sm font-semibold dark:text-gray-100",children:["Notifications",g>0&&(0,hn.jsxs)("span",{className:"ml-2 bg-red-100 text-red-800 text-xs font-semibold px-2 py-0.5 rounded-full dark:bg-red-900/30 dark:text-red-400",children:[g," new"]})]}),g>0&&(0,hn.jsx)("button",{className:"text-xs text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 font-medium transition-colors duration-200",onClick:S,children:"Mark all as read"})]})}),(0,hn.jsx)("div",{className:"overflow-y-auto max-h-[60vh]",children:f&&f.length>0?(0,hn.jsx)("div",{className:"linear-list divide-y divide-gray-100 dark:divide-gray-700",children:f.map((e=>(0,hn.jsx)("div",{className:"py-3 px-4 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200\n                          ".concat(e.read?"":"bg-primary-50 dark:bg-primary-900 dark:bg-opacity-20"),onClick:()=>k(e),children:(0,hn.jsxs)("div",{className:"flex items-start",children:[(0,hn.jsxs)("div",{className:"flex-shrink-0 h-10 w-10 rounded-full flex items-center justify-center \n                            ".concat(e.read?"bg-gray-100 text-gray-500 dark:bg-gray-700 dark:text-gray-400":"bg-primary-100 text-primary-600 dark:bg-primary-900 dark:text-primary-300"),children:["project_invite"===e.type&&(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})}),"task_assigned"===e.type&&(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"task_comment"===e.type&&(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),!e.type||"project_invite"!==e.type&&"task_assigned"!==e.type&&"task_comment"!==e.type&&(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})})]}),(0,hn.jsxs)("div",{className:"ml-3 w-full",children:[(0,hn.jsx)("p",{className:"text-sm leading-tight font-medium mb-1 dark:text-gray-100",children:e.message||e.title}),(0,hn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,hn.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(e.createdAt).toLocaleString([],{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),!e.read&&(0,hn.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-primary-100 text-primary-800 dark:bg-primary-900 dark:text-primary-300",children:"New"})]})]})]})},e._id)))}):(0,hn.jsxs)("div",{className:"py-12 px-4 text-center",children:[(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto text-gray-400 dark:text-gray-600 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),(0,hn.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No notifications yet"}),(0,hn.jsx)("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:"Notifications will appear here"})]})}),(0,hn.jsx)("div",{className:"sticky bottom-0 bg-white dark:bg-gray-800 border-t border-gray-100 dark:border-gray-700 p-3 z-10",children:(0,hn.jsx)(_e,{to:"/notifications",className:"block w-full text-center text-sm text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 font-medium",onClick:()=>l(!1),children:"View all notifications"})})]})]}),(0,hn.jsxs)("div",{className:"relative",ref:h,children:[(0,hn.jsxs)("button",{className:"flex items-center space-x-2 focus:outline-none",onClick:N,"aria-expanded":c,"aria-haspopup":"true",children:[(0,hn.jsx)("div",{className:"linear-avatar linear-avatar-sm",children:null!==r&&void 0!==r&&r.photo?(0,hn.jsx)("img",{src:r.photo,alt:r.displayName,className:"h-full w-full object-cover"}):(0,hn.jsx)("span",{children:(null===r||void 0===r||null===(t=r.displayName)||void 0===t?void 0:t.charAt(0))||"U"})}),(0,hn.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 hidden sm:block",children:null===r||void 0===r?void 0:r.displayName})]}),c&&(0,hn.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-50",children:(0,hn.jsxs)("div",{className:"py-1",children:[(0,hn.jsx)(_e,{to:"/profile",className:"block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",onClick:()=>d(!1),children:(0,hn.jsxs)("div",{className:"flex items-center",children:[(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2 text-gray-500 dark:text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),(0,hn.jsx)("span",{children:"Profile"})]})}),(0,hn.jsx)(_e,{to:"/settings",className:"block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",onClick:()=>d(!1),children:(0,hn.jsxs)("div",{className:"flex items-center",children:[(0,hn.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2 text-gray-500 dark:text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,hn.jsx)("span",{children:"Settings"})]})}),(0,hn.jsx)("hr",{className:"my-1 border-gray-200 dark:border-gray-700"}),(0,hn.jsx)("button",{className:"w-full text-left block px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900 dark:hover:bg-opacity-20",onClick:C,children:(0,hn.jsxs)("div",{className:"flex items-center",children:[(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),(0,hn.jsx)("span",{children:"Logout"})]})})]})})]})]})]})})};Nn.displayName="Header";const Sn=Nn,Cn=e=>{var t;let{user:r,collapsed:n,toggleSidebar:a}=e;const o=Z(),{darkMode:i}=(0,s.useContext)(xn),l=e=>"/"===e&&"/"===o.pathname||!("/"===e||!o.pathname.startsWith(e));return(0,hn.jsxs)("aside",{className:"fixed top-0 left-0 h-full bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 shadow-sm z-20 transition-all duration-300 ease-in-out ".concat(n?"w-16":"w-64"," linear-fade-in"),children:[(0,hn.jsxs)("div",{className:"h-16 flex items-center justify-between px-4 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-gray-50 to-white dark:from-gray-800 dark:to-gray-900",children:[(0,hn.jsx)("div",{className:"flex items-center",children:(0,hn.jsxs)("div",{className:"flex items-center",children:[(0,hn.jsx)("div",{className:"linear-logo text-primary-500",children:(0,hn.jsx)("svg",{className:"h-8 w-8",viewBox:"0 0 24 24",fill:"currentColor",children:(0,hn.jsx)("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})})}),!n&&(0,hn.jsx)("span",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 ml-2",children:"Taskboard-pro"})]})}),(0,hn.jsx)("button",{onClick:a,className:"linear-action-btn text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full p-1","aria-label":n?"Expand sidebar":"Collapse sidebar",children:(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n?(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M5 5l7 7-7 7"}):(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"})})})]}),(0,hn.jsxs)("nav",{className:"py-4 bg-white dark:bg-gray-800 h-full overflow-y-auto",children:[(0,hn.jsx)("div",{className:"px-3 mb-2 mt-1",children:(0,hn.jsx)("h3",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider ".concat(n?"text-center":""),children:n?"Main":"Main Menu"})}),(0,hn.jsxs)("ul",{className:"space-y-1 px-2 mb-6",children:[(0,hn.jsx)("li",{children:(0,hn.jsxs)(_e,{to:"/",className:"flex items-center px-3 py-2 rounded-md transition-all duration-200 ".concat(l("/")?"bg-primary-50 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400 font-medium":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),children:[(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),!n&&(0,hn.jsx)("span",{className:"ml-3",children:"Dashboard"})]})}),(0,hn.jsx)("li",{children:(0,hn.jsxs)(_e,{to:"/tasks",className:"flex items-center px-3 py-2 rounded-md transition-all duration-200 ".concat(l("/tasks")?"bg-primary-50 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400 font-medium":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),children:[(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),!n&&(0,hn.jsx)("span",{className:"ml-3",children:"My Tasks"})]})}),(0,hn.jsx)("li",{children:(0,hn.jsxs)(_e,{to:"/projects",className:"flex items-center px-3 py-2 rounded-md transition-all duration-200 ".concat(l("/projects")?"bg-primary-50 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400 font-medium":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),children:[(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})}),!n&&(0,hn.jsx)("span",{className:"ml-3",children:"Projects"})]})}),(0,hn.jsx)("li",{children:(0,hn.jsxs)(_e,{to:"/automations",className:"flex items-center px-3 py-2 rounded-md transition-all duration-200 ".concat(l("/automations")?"bg-primary-50 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400 font-medium":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),children:[(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),!n&&(0,hn.jsx)("span",{className:"ml-3",children:"Automations"})]})})]}),(0,hn.jsx)("div",{className:"px-3 mb-2",children:(0,hn.jsx)("h3",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider ".concat(n?"text-center":""),children:n?"Comm":"Communication"})}),(0,hn.jsxs)("ul",{className:"space-y-1 px-2 mb-6",children:[(0,hn.jsx)("li",{children:(0,hn.jsxs)(_e,{to:"/chat",className:"flex items-center px-3 py-2 rounded-md transition-all duration-200 ".concat(l("/chat")?"bg-primary-50 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400 font-medium":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),children:[(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),!n&&(0,hn.jsx)("span",{className:"ml-3",children:"Chat"})]})}),(0,hn.jsx)("li",{children:(0,hn.jsxs)(_e,{to:"/team",className:"flex items-center px-3 py-2 rounded-md transition-all duration-200 ".concat(l("/team")?"bg-primary-50 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400 font-medium":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),children:[(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),!n&&(0,hn.jsx)("span",{className:"ml-3",children:"Team"})]})})]}),(0,hn.jsx)("div",{className:"px-3 mb-2",children:(0,hn.jsx)("h3",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider ".concat(n?"text-center":""),children:n?"User":"Account"})}),(0,hn.jsxs)("ul",{className:"space-y-1 px-2",children:[(0,hn.jsx)("li",{children:(0,hn.jsxs)(_e,{to:"/profile",className:"flex items-center px-3 py-2 rounded-md transition-all duration-200 ".concat(l("/profile")?"bg-primary-50 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400 font-medium":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),children:[(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),!n&&(0,hn.jsx)("span",{className:"ml-3",children:"Profile"})]})}),(0,hn.jsx)("li",{children:(0,hn.jsxs)(_e,{to:"/settings",className:"flex items-center px-3 py-2 rounded-md transition-all duration-200 ".concat(l("/settings")?"bg-primary-50 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400 font-medium":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),children:[(0,hn.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),!n&&(0,hn.jsx)("span",{className:"ml-3",children:"Settings"})]})})]}),!n&&r&&(0,hn.jsx)("div",{className:"sidebar-footer mt-auto p-4 border-t border-gray-200 dark:border-gray-700 dark:bg-gray-800",children:(0,hn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,hn.jsx)("div",{className:"avatar avatar-sm dark:bg-gray-700",children:null!==r&&void 0!==r&&r.photo?(0,hn.jsx)("img",{src:r.photo,alt:r.displayName,className:"h-full w-full object-cover"}):(0,hn.jsx)("span",{className:"avatar-text-sm dark:text-gray-300",children:(null===r||void 0===r||null===(t=r.displayName)||void 0===t?void 0:t.charAt(0))||"U"})}),(0,hn.jsxs)("div",{className:"user-info dark:bg-gray-800",children:[(0,hn.jsx)("div",{className:"user-name text-sm font-medium text-gray-800 dark:text-gray-300",children:null===r||void 0===r?void 0:r.displayName}),(0,hn.jsx)("div",{className:"user-email text-xs text-gray-500 dark:text-gray-400",children:null===r||void 0===r?void 0:r.email})]})]})})]})]})},En=(0,s.createContext)(),Pn=e=>{let{children:t}=e;const[r,n]=(0,s.useState)([]),[a,o]=(0,s.useState)([]),[i,l]=(0,s.useState)(!0),[c,d]=(0,s.useState)(null),[u,h]=(0,s.useState)(0),p=(0,s.useRef)(!1),[m,f]=(0,s.useState)(null),[g,y]=(0,s.useState)(!1);(0,s.useEffect)((()=>{const e=localStorage.getItem("token");if(e){const t=async()=>{try{const t=await un.get("/auth/current-user",{headers:{Authorization:"Bearer ".concat(e)},withCredentials:!0});t.data&&t.data.user?(f(t.data.user),y(!0)):y(!1)}catch(t){console.error("Error fetching user in ProjectContext:",t),y(!1)}};t()}else f(null),y(!1)}),[]),(0,s.useEffect)((()=>{m&&g&&!p.current&&v()}),[m,g,u]),(0,s.useEffect)((()=>{m&&g&&b()}),[m,g]);const x=()=>{h((e=>e+1))},v=async()=>{if(p.current)console.log("Fetch already in progress, skipping duplicate request");else{p.current=!0,l(!0),d(null);try{const e=localStorage.getItem("token");if(!e)return console.error("No token found when fetching projects"),d("Authorization required. Please log in again."),l(!1),void(p.current=!1);console.log("Fetching projects with token:",e.substring(0,10)+"...");const t=await un.get("/api/projects",{headers:{Authorization:"Bearer ".concat(e)},withCredentials:!0});console.log("Projects response:",t.data),Array.isArray(t.data)?n(t.data):t.data&&"object"===typeof t.data?t.data.project?n([t.data.project]):t.data.projects?n(t.data.projects):Object.keys(t.data).length>0?(console.log("Using fallback for projects data"),n([t.data])):(console.warn("Empty projects data returned"),n([])):(console.error("Unexpected projects response format:",t.data),n([])),d(null)}catch(e){console.error("Error fetching projects:",e),e.response&&(console.error("Response status:",e.response.status),console.error("Response data:",e.response.data)),d("Failed to load projects")}finally{l(!1),p.current=!1}}},b=async()=>{try{const e=localStorage.getItem("token");if(!e)return void console.error("No token found when fetching tasks");const t=await un.get("/api/tasks/user",{headers:{Authorization:"Bearer ".concat(e)},withCredentials:!0});console.log("Tasks response:",t.data),o(Array.isArray(t.data)?t.data:[])}catch(e){console.error("Error fetching tasks:",e)}};return(0,hn.jsx)(En.Provider,{value:{projects:r,userTasks:a,loading:i,error:c,refreshProjects:x,getProject:async e=>{try{const t=localStorage.getItem("token");return{success:!0,project:(await un.get("/api/projects/".concat(e),{headers:{Authorization:"Bearer ".concat(t)},withCredentials:!0})).data}}catch(n){var t,r;return{success:!1,message:(null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to get project details"}}},createProject:async e=>{try{const t=localStorage.getItem("token"),r=await un.post("/api/projects",e,{headers:{Authorization:"Bearer ".concat(t)},withCredentials:!0});n((e=>[...e,r.data]));try{await un.post("/api/activity",{type:"project_created",description:"created a new project: ".concat(r.data.name),projectId:r.data._id},{headers:{Authorization:"Bearer ".concat(t)},withCredentials:!0})}catch(a){console.error("Failed to record activity:",a)}return{success:!0,project:r.data}}catch(s){var t,r;return{success:!1,message:(null===(t=s.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to create project"}}},updateProject:async(e,t)=>{try{const r=localStorage.getItem("token"),a=await un.put("/api/projects/".concat(e),t,{headers:{Authorization:"Bearer ".concat(r)},withCredentials:!0});return n((t=>t.map((t=>t._id===e?a.data:t)))),{success:!0,project:a.data}}catch(s){var r,a;return{success:!1,message:(null===(r=s.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||"Failed to update project"}}},deleteProject:async e=>{try{const t=localStorage.getItem("token");return await un.delete("/api/projects/".concat(e),{headers:{Authorization:"Bearer ".concat(t)},withCredentials:!0}),n((t=>t.filter((t=>t._id!==e)))),{success:!0}}catch(a){var t,r;return{success:!1,message:(null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to delete project"}}},createTask:async(e,t)=>{try{const r=localStorage.getItem("token"),n=await un.post("/api/projects/".concat(e,"/tasks"),t,{headers:{Authorization:"Bearer ".concat(r)},withCredentials:!0});return b(),{success:!0,task:n.data}}catch(a){var r,n;return{success:!1,message:(null===(r=a.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message)||"Failed to create task"}}},updateTask:async(e,t,r)=>{try{const n=localStorage.getItem("token"),a=await un.put("/api/projects/".concat(e,"/tasks/").concat(t),r,{headers:{Authorization:"Bearer ".concat(n)},withCredentials:!0});if("completed"===r.status)try{await un.post("/api/activity",{type:"task_completed",description:"completed task: ".concat(a.data.title),projectId:e,taskId:t},{headers:{Authorization:"Bearer ".concat(n)},withCredentials:!0})}catch(s){console.error("Failed to record task completion activity:",s)}return b(),{success:!0,task:a.data}}catch(o){var n,a;return{success:!1,message:(null===(n=o.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message)||"Failed to update task"}}},deleteTask:async(e,t)=>{try{const r=localStorage.getItem("token");return await un.delete("/api/projects/".concat(e,"/tasks/").concat(t),{headers:{Authorization:"Bearer ".concat(r)},withCredentials:!0}),b(),{success:!0}}catch(a){var r,n;return{success:!1,message:(null===(r=a.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message)||"Failed to delete task"}}},addTeamMember:async(e,t)=>{try{if(!t||!t.trim())return{success:!1,message:"Email is required"};console.log("Adding team member:",t,"to project:",e);const r=localStorage.getItem("token"),n=await un.post("/api/projects/".concat(e,"/members"),{email:t.trim()},{headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"},withCredentials:!0});return console.log("Team member added successfully:",n.data),x(),{success:!0,member:n.data}}catch(a){var r,n;return console.error("Failed to add team member:",a),{success:!1,message:(null===(r=a.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message)||"Failed to add team member"}}},removeTeamMember:async(e,t)=>{try{const r=localStorage.getItem("token");return await un.delete("/api/projects/".concat(e,"/members/").concat(t),{headers:{Authorization:"Bearer ".concat(r)},withCredentials:!0}),x(),{success:!0}}catch(a){var r,n;return{success:!1,message:(null===(r=a.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message)||"Failed to remove team member"}}},search:async e=>{try{const t=localStorage.getItem("token");return{success:!0,results:(await un.get("/api/search?q=".concat(e),{headers:{Authorization:"Bearer ".concat(t)},withCredentials:!0})).data}}catch(n){var t,r;return{success:!1,message:(null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Search failed"}}}},children:t})},An=e=>{var t,r;let{task:n,onClose:a,onUpdate:o,onDelete:i,projectMembers:l=[]}=e;const{darkMode:c}=(0,s.useContext)(xn),[d,u]=(0,s.useState)(!1),[h,p]=(0,s.useState)({title:n.title||"",description:n.description||"",status:n.status||"to_do",priority:n.priority||"medium",dueDate:n.dueDate?new Date(n.dueDate).toISOString().split("T")[0]:"",assignedTo:(null===(t=n.assignedTo)||void 0===t?void 0:t._id)||""}),[m,f]=(0,s.useState)(!1),[g,y]=(0,s.useState)("");(0,s.useEffect)((()=>{var e;p({title:n.title||"",description:n.description||"",status:n.status||"to_do",priority:n.priority||"medium",dueDate:n.dueDate?new Date(n.dueDate).toISOString().split("T")[0]:"",assignedTo:(null===(e=n.assignedTo)||void 0===e?void 0:e._id)||""})}),[n]);const x=e=>{const{name:t,value:r}=e.target;p(Vt(Vt({},h),{},{[t]:r}))};return(0,hn.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto bg-black bg-opacity-50 flex items-center justify-center p-4",children:(0,hn.jsxs)("div",{className:"relative w-full max-w-2xl mx-auto rounded-lg shadow-lg dark:bg-gray-800 dark:border-gray-700 dark:text-gray-100",children:[(0,hn.jsx)("div",{className:"absolute top-0 right-0 p-4",children:(0,hn.jsx)("button",{onClick:a,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})}),(0,hn.jsxs)("div",{className:"p-6 dark:bg-gray-800",children:[(0,hn.jsx)("div",{className:"modal-header dark:border-gray-700",children:(0,hn.jsx)("h2",{className:"modal-title dark:text-gray-100",children:d?"Edit Task":"Task Details"})}),g&&(0,hn.jsx)("div",{className:"alert-error dark:bg-red-900/20 dark:border-red-800 dark:text-red-400 p-3 mb-4 rounded-md",children:g}),d?(0,hn.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),f(!0),y("");try{const e=Vt(Vt({},h),{},{assignedTo:h.assignedTo||null,dueDate:h.dueDate||null});"string"===typeof e.priority&&(e.priority=e.priority.toLowerCase()),console.log("Submitting task update:",e),o&&await o(e),a()}catch(n){var t,r;console.error("Error updating task:",n),y((null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to update task. Please try again.")}finally{f(!1)}},children:[(0,hn.jsxs)("div",{className:"form-group",children:[(0,hn.jsx)("label",{htmlFor:"title",className:"dark:text-gray-300",children:"Title"}),(0,hn.jsx)("input",{id:"title",type:"text",name:"title",value:h.title,onChange:x,required:!0,className:"input dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200"})]}),(0,hn.jsxs)("div",{className:"form-group",children:[(0,hn.jsx)("label",{htmlFor:"description",className:"dark:text-gray-300",children:"Description"}),(0,hn.jsx)("textarea",{id:"description",name:"description",value:h.description,onChange:x,rows:"4",className:"input dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200"})]}),(0,hn.jsxs)("div",{className:"form-row",children:[(0,hn.jsxs)("div",{className:"form-group",children:[(0,hn.jsx)("label",{htmlFor:"status",className:"dark:text-gray-300",children:"Status"}),(0,hn.jsxs)("select",{id:"status",name:"status",value:h.status,onChange:x,className:"input dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200",children:[(0,hn.jsx)("option",{value:"to_do",children:"To Do"}),(0,hn.jsx)("option",{value:"in_progress",children:"In Progress"}),(0,hn.jsx)("option",{value:"completed",children:"Completed"}),(0,hn.jsx)("option",{value:"backlog",children:"Backlog"})]})]}),(0,hn.jsxs)("div",{className:"form-group",children:[(0,hn.jsx)("label",{htmlFor:"priority",className:"dark:text-gray-300",children:"Priority"}),(0,hn.jsxs)("select",{id:"priority",name:"priority",value:h.priority,onChange:x,className:"input dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200",children:[(0,hn.jsx)("option",{value:"low",children:"Low"}),(0,hn.jsx)("option",{value:"medium",children:"Medium"}),(0,hn.jsx)("option",{value:"high",children:"High"})]})]})]}),(0,hn.jsxs)("div",{className:"form-row",children:[(0,hn.jsxs)("div",{className:"form-group",children:[(0,hn.jsx)("label",{htmlFor:"dueDate",className:"dark:text-gray-300",children:"Due Date"}),(0,hn.jsx)("input",{id:"dueDate",type:"date",name:"dueDate",value:h.dueDate,onChange:x,className:"input dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200"})]}),(0,hn.jsxs)("div",{className:"form-group",children:[(0,hn.jsx)("label",{htmlFor:"assignedTo",className:"dark:text-gray-300",children:"Assignee"}),(0,hn.jsxs)("select",{id:"assignedTo",name:"assignedTo",value:h.assignedTo,onChange:x,className:"input dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200",children:[(0,hn.jsx)("option",{value:"",children:"Unassigned"}),l.map((e=>(0,hn.jsx)("option",{value:e._id,children:e.displayName||e.email},e._id)))]})]})]}),(0,hn.jsxs)("div",{className:"modal-footer dark:border-gray-700",children:[(0,hn.jsx)("button",{type:"button",onClick:()=>u(!1),className:"btn btn-secondary dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-600",disabled:m,children:"Cancel"}),(0,hn.jsx)("button",{type:"submit",disabled:m,className:"btn btn-primary dark:bg-primary-600 dark:hover:bg-primary-700",children:m?"Saving...":"Save Changes"})]})]}):(0,hn.jsxs)("div",{className:"task-details dark:bg-gray-800",children:[(0,hn.jsxs)("div",{className:"task-header",children:[(0,hn.jsx)("h3",{className:"task-title dark:text-gray-100",children:n.title}),(0,hn.jsxs)("div",{className:"task-badges",children:[(0,hn.jsx)("span",{className:"status-badge ".concat((n.status||"to_do").toLowerCase().replace(" ","-")," dark:bg-opacity-20"),children:(e=>{if(!e)return"To Do";switch(e.toLowerCase()){case"to_do":case"todo":return"To Do";case"in_progress":return"In Progress";case"completed":case"done":return"Completed";case"backlog":return"Backlog";default:return e.charAt(0).toUpperCase()+e.slice(1).replace("_"," ")}})(n.status)}),n.priority&&(0,hn.jsx)("span",{className:"priority-badge ".concat(n.priority.toLowerCase()),children:n.priority.charAt(0).toUpperCase()+n.priority.slice(1)})]})]}),n.description&&(0,hn.jsxs)("div",{className:"task-section",children:[(0,hn.jsx)("h4",{className:"section-title dark:text-gray-400",children:"Description"}),(0,hn.jsx)("p",{className:"task-description dark:text-gray-300",children:n.description})]}),(0,hn.jsxs)("div",{className:"task-meta dark:bg-gray-700",children:[(0,hn.jsxs)("div",{className:"meta-row",children:[(0,hn.jsx)("div",{className:"meta-label dark:text-gray-400",children:"Assignee"}),(0,hn.jsx)("div",{className:"meta-value dark:text-gray-300",children:n.assignedTo?(0,hn.jsxs)("div",{className:"assignee-info",children:[(0,hn.jsx)("div",{className:"avatar-sm dark:bg-gray-600 dark:text-gray-300",children:n.assignedTo.photo?(0,hn.jsx)("img",{src:n.assignedTo.photo,alt:n.assignedTo.displayName||"User"}):(0,hn.jsx)("div",{className:"avatar-text-sm",children:(null===(r=n.assignedTo.displayName)||void 0===r?void 0:r.charAt(0))||"?"})}),(0,hn.jsx)("span",{children:n.assignedTo.displayName||"User"})]}):(0,hn.jsx)("span",{className:"txt-gray dark:text-gray-400",children:"Unassigned"})})]}),(0,hn.jsxs)("div",{className:"meta-row",children:[(0,hn.jsx)("div",{className:"meta-label dark:text-gray-400",children:"Due Date"}),(0,hn.jsx)("div",{className:"meta-value dark:text-gray-300",children:n.dueDate?(0,hn.jsx)("span",{className:new Date(n.dueDate)<new Date&&"completed"!==n.status&&"done"!==n.status?"overdue":"",children:new Date(n.dueDate).toLocaleDateString()}):(0,hn.jsx)("span",{className:"txt-gray dark:text-gray-400",children:"No due date"})})]}),(0,hn.jsxs)("div",{className:"meta-row",children:[(0,hn.jsx)("div",{className:"meta-label dark:text-gray-400",children:"Created"}),(0,hn.jsx)("div",{className:"meta-value dark:text-gray-300",children:n.createdAt?new Date(n.createdAt).toLocaleDateString():"Unknown"})]})]}),(0,hn.jsxs)("div",{className:"modal-footer dark:border-gray-700 mt-4",children:[(0,hn.jsx)("button",{onClick:()=>u(!0),className:"btn btn-secondary dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-600",children:"Edit"}),(0,hn.jsx)("button",{onClick:async()=>{if(window.confirm("Are you sure you want to delete this task?")){f(!0);try{i&&await i(),a()}catch(r){var e,t;console.error("Error deleting task:",r),y((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to delete task. Please try again."),f(!1)}}},className:"btn btn-danger dark:bg-red-800 dark:hover:bg-red-700",disabled:m,children:m?"Deleting...":"Delete"})]})]})]})]})})},Tn=()=>{const{user:e}=(0,s.useContext)(pn),{projects:t,refreshProjects:r}=(0,s.useContext)(En),{darkMode:n}=(0,s.useContext)(xn),[a,o]=(0,s.useState)([]),[i,l]=(0,s.useState)([]),[c,d]=(0,s.useState)([]),[u,h]=(0,s.useState)({totalProjects:0,totalTasks:0,completedTasks:0,overdueTasksCount:0}),[p,m]=(0,s.useState)(!0),[f,g]=(0,s.useState)(null),[y,x]=(0,s.useState)(!1),v=async()=>{try{m(!0);const r=localStorage.getItem("token");if(!r)return console.error("No token found"),void m(!1);const n={headers:{Authorization:"Bearer ".concat(r)}};let a=[],s=[],i={totalProjects:0,totalTasks:0,completedTasks:0,overdueTasksCount:0};try{const[e,r,c]=await Promise.all([un.get("/api/tasks/user",n),un.get("/api/tasks/activity",n),un.get("/api/tasks/stats",n)]);if(e&&e.data&&(a=Array.isArray(e.data)?e.data:[],!c||!c.data)){i.totalTasks=a.length,i.completedTasks=a.filter((e=>"completed"===e.status)).length;const e=new Date;i.overdueTasksCount=a.filter((t=>{if(!t.dueDate||"completed"===t.status)return!1;return new Date(t.dueDate)<e})).length}r&&r.data&&r.data.activities&&(s=r.data.activities),c&&c.data&&(i=Vt(Vt({},i),c.data)),i.totalProjects=t.length||0,o(a),l(s),b(s,t),h(i)}catch(e){console.error("Error fetching dashboard data:",e),o([]),l([]),d(t.slice(0,3)),h({totalProjects:t.length||0,totalTasks:0,completedTasks:0,overdueTasksCount:0})}m(!1)}catch(e){console.error("Error in dashboard data fetch:",e),m(!1)}},b=(e,t)=>{if(!t||!Array.isArray(t)||0===t.length)return void d([]);const r=[...t].sort(((e,t)=>e.createdAt?t.createdAt?new Date(t.createdAt)-new Date(e.createdAt):-1:1));let n=r.slice(0,4);if(e&&Array.isArray(e)&&e.length>0){const a=new Set;e.forEach((e=>{e.projectId&&"project_created"===e.type&&a.add(e.projectId)})),e.forEach((e=>{!e.projectId||"project_updated"!==e.type&&"project_completed"!==e.type&&"task_created"!==e.type&&"task_completed"!==e.type||a.add(e.projectId)}));const s=[];if(a.forEach((e=>{const r=t.find((t=>t._id===e));r&&s.push(r)})),s.length>0){const e=[];s.forEach((t=>{e.some((e=>e._id===t._id))||e.push(t)})),n.forEach((t=>{e.some((e=>e._id===t._id))||e.push(t)})),r.forEach((t=>{e.some((e=>e._id===t._id))||e.push(t)})),n=e.slice(0,4)}}d(n)};(0,s.useEffect)((()=>{v();const e=setInterval((()=>{w()}),6e4);return()=>clearInterval(e)}),[t.length]),(0,s.useEffect)((()=>{const e=()=>{w()};return window.addEventListener("focus",e),()=>{window.removeEventListener("focus",e)}}),[]);const w=async()=>{try{const e=localStorage.getItem("token");if(!e)return void console.error("No token found");const r={headers:{Authorization:"Bearer ".concat(e)}},n=await un.get("/api/activity",r);n&&n.data&&n.data.activities&&(l(n.data.activities),b(n.data.activities,t))}catch(e){console.error("Error refreshing activity data:",e)}},k=e=>{switch(e){case"high":return"linear-badge-danger";case"medium":return"linear-badge-warning";case"low":return"linear-badge-success";default:return"linear-badge-primary"}},j=e=>{switch(e){case"completed":return"linear-badge-success";case"in_progress":return"linear-badge-warning";case"blocked":return"linear-badge-danger";default:return"linear-badge-primary"}};return p?(0,hn.jsx)("div",{className:"linear-loading flex items-center justify-center h-64",children:(0,hn.jsx)("div",{className:"linear-spinner"})}):(0,hn.jsxs)("div",{className:"linear-fade-in",children:[(0,hn.jsxs)("div",{className:"mb-8",children:[(0,hn.jsxs)("h2",{className:"text-2xl font-bold mb-3 text-gray-800 dark:text-gray-100",children:["Welcome back, ",e.displayName]}),(0,hn.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Here's what's happening in your projects today."})]}),(0,hn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5 mb-8",children:[(0,hn.jsx)("div",{className:"linear-card dark:bg-gray-800 dark:border-gray-700 hover:shadow-md dark:hover:shadow-gray-900/20 transition-all duration-200",children:(0,hn.jsxs)("div",{className:"linear-card-body flex items-center",children:[(0,hn.jsx)("div",{className:"rounded-full bg-primary-100 dark:bg-primary-900/30 p-3 mr-4",children:(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-primary-600 dark:text-primary-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}),(0,hn.jsxs)("div",{children:[(0,hn.jsx)("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Projects"}),(0,hn.jsx)("p",{className:"text-xl font-bold dark:text-white",children:u.totalProjects}),(0,hn.jsxs)("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:["Projects count: ",t.length]})]})]})}),(0,hn.jsx)("div",{className:"linear-card dark:bg-gray-800 dark:border-gray-700 hover:shadow-md dark:hover:shadow-gray-900/20 transition-all duration-200",children:(0,hn.jsxs)("div",{className:"linear-card-body flex items-center",children:[(0,hn.jsx)("div",{className:"rounded-full bg-info-100 dark:bg-blue-900/30 p-3 mr-4",children:(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-info-600 dark:text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})}),(0,hn.jsxs)("div",{children:[(0,hn.jsx)("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Total Tasks"}),(0,hn.jsx)("p",{className:"text-xl font-bold dark:text-white",children:u.totalTasks}),(0,hn.jsxs)("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:["User tasks: ",a.length]})]})]})}),(0,hn.jsx)("div",{className:"linear-card dark:bg-gray-800 dark:border-gray-700 hover:shadow-md dark:hover:shadow-gray-900/20 transition-all duration-200",children:(0,hn.jsxs)("div",{className:"linear-card-body flex items-center",children:[(0,hn.jsx)("div",{className:"rounded-full bg-success-100 dark:bg-green-900/30 p-3 mr-4",children:(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-success-600 dark:text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,hn.jsxs)("div",{children:[(0,hn.jsx)("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Completed"}),(0,hn.jsx)("p",{className:"text-xl font-bold dark:text-white",children:u.completedTasks}),(0,hn.jsx)("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:"Completed tasks count from server"})]})]})}),(0,hn.jsx)("div",{className:"linear-card dark:bg-gray-800 dark:border-gray-700 hover:shadow-md dark:hover:shadow-gray-900/20 transition-all duration-200",children:(0,hn.jsxs)("div",{className:"linear-card-body flex items-center",children:[(0,hn.jsx)("div",{className:"rounded-full bg-danger-100 dark:bg-red-900/30 p-3 mr-4",children:(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-danger-600 dark:text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,hn.jsxs)("div",{children:[(0,hn.jsx)("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Overdue"}),(0,hn.jsx)("p",{className:"text-xl font-bold dark:text-white",children:u.overdueTasksCount}),(0,hn.jsx)("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:"Overdue tasks (past due date)"})]})]})})]}),(0,hn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,hn.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,hn.jsxs)("div",{className:"linear-card dark:bg-gray-800 dark:border-gray-700 transition-all duration-200",children:[(0,hn.jsxs)("div",{className:"linear-card-header dark:border-gray-700 flex items-center justify-between",children:[(0,hn.jsx)("h3",{className:"text-lg font-semibold dark:text-white",children:"My Tasks"}),(0,hn.jsx)(_e,{to:"/tasks",className:"text-sm text-primary-600 hover:text-primary-800 dark:text-primary-400 dark:hover:text-primary-300 transition-colors duration-200",children:"View all"})]}),(0,hn.jsx)("div",{className:"linear-card-body p-0",children:a.length>0?(0,hn.jsx)("div",{className:"linear-list divide-y divide-gray-200 dark:divide-gray-700",children:a.slice(0,5).map((e=>{var t,r,n;return(0,hn.jsxs)("div",{className:"linear-list-item flex items-center justify-between cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/70 p-4 transition-colors duration-200",onClick:()=>(e=>{g(e),x(!0)})(e),children:[(0,hn.jsxs)("div",{className:"flex items-center",children:[(0,hn.jsx)("input",{type:"checkbox",checked:"completed"===e.status,className:"mr-3 h-4 w-4 text-primary-600 dark:text-primary-500 dark:border-gray-600 dark:bg-gray-700 rounded focus:ring-primary-500 dark:focus:ring-primary-400 dark:focus:ring-offset-gray-800",onChange:e=>e.stopPropagation()}),(0,hn.jsxs)("div",{children:[(0,hn.jsx)("h4",{className:"text-sm font-medium dark:text-white",children:e.title}),(0,hn.jsxs)("div",{className:"flex items-center mt-1",children:[(0,hn.jsx)("span",{className:"linear-badge ".concat(k(e.priority||"medium")," mr-2 dark:bg-opacity-30 dark:text-opacity-90"),children:e.priority?e.priority.charAt(0).toUpperCase()+e.priority.slice(1):"Medium"}),(0,hn.jsx)("span",{className:"linear-badge ".concat(j(e.status||"to_do")," dark:bg-opacity-30 dark:text-opacity-90"),children:(n=e.status||"to_do",n.replace("_"," ").replace(/\b\w/g,(e=>e.toUpperCase())))}),e.dueDate&&(0,hn.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2",children:["Due: ",new Date(e.dueDate).toLocaleDateString()]})]})]})]}),(0,hn.jsx)("div",{children:(e.project||e.projectName)&&(0,hn.jsx)("span",{className:"text-xs inline-block py-1 px-2 rounded-full dark:bg-opacity-80 dark:border dark:border-opacity-20",style:{backgroundColor:e.projectColor||(null===(t=e.project)||void 0===t?void 0:t.color)||"#6366f1",color:"white"},children:e.projectName||(null===(r=e.project)||void 0===r?void 0:r.name)||"Project"})})]},e._id)}))}):(0,hn.jsx)("div",{className:"py-8 text-center",children:(0,hn.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No tasks assigned to you"})})})]}),(0,hn.jsxs)("div",{className:"linear-card dark:bg-gray-800 dark:border-gray-700 transition-all duration-200",children:[(0,hn.jsxs)("div",{className:"linear-card-header dark:border-gray-700 flex items-center justify-between",children:[(0,hn.jsx)("h3",{className:"text-lg font-semibold dark:text-white",children:"Recent Projects"}),(0,hn.jsx)(_e,{to:"/projects",className:"text-sm text-primary-600 hover:text-primary-800 dark:text-primary-400 dark:hover:text-primary-300 transition-colors duration-200",children:"View all"})]}),(0,hn.jsx)("div",{className:"linear-card-body",children:c.length>0?(0,hn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:c.slice(0,4).map((e=>(0,hn.jsx)(_e,{to:"/projects/".concat(e._id),children:(0,hn.jsx)("div",{className:"linear-card hover:shadow-md transition-shadow dark:bg-gray-700 dark:border-gray-600 dark:hover:shadow-lg dark:hover:shadow-gray-900/20",children:(0,hn.jsxs)("div",{className:"linear-card-body",children:[(0,hn.jsxs)("div",{className:"flex items-center",children:[(0,hn.jsx)("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:e.color||"#6366f1"}}),(0,hn.jsx)("h4",{className:"font-medium dark:text-white",children:e.name})]}),(0,hn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-2",children:e.description}),(0,hn.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,hn.jsx)("div",{className:"flex -space-x-2",children:e.members&&e.members.length>0?(0,hn.jsxs)(hn.Fragment,{children:[e.members.slice(0,3).map((e=>{var t;return(0,hn.jsx)("div",{className:"linear-avatar linear-avatar-sm dark:bg-gray-600 dark:text-gray-200",children:e.photo?(0,hn.jsx)("img",{src:e.photo,alt:e.displayName||"Member"}):(0,hn.jsx)("span",{children:(null===(t=e.displayName)||void 0===t?void 0:t.charAt(0))||"?"})},e._id)})),e.members.length>3&&(0,hn.jsxs)("div",{className:"linear-avatar linear-avatar-sm dark:bg-gray-600 dark:text-gray-200",children:["+",e.members.length-3]})]}):(0,hn.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"No members"})}),(0,hn.jsx)("div",{className:"text-xs",children:e.isCompleted?(0,hn.jsx)("span",{className:"text-green-500 dark:text-green-400 font-medium",children:"Completed"}):(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Progress: "}),(0,hn.jsxs)("span",{className:"font-medium dark:text-white",children:[e.progress||0,"%"]})]})})]})]})})},e._id)))}):(0,hn.jsxs)("div",{className:"py-6 text-center",children:[(0,hn.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No recent projects"}),(0,hn.jsx)(_e,{to:"/projects",className:"linear-btn linear-btn-primary mt-3 dark:bg-primary-600 dark:text-white",children:"Create a project"})]})})]})]}),(0,hn.jsxs)("div",{className:"space-y-6",children:[(0,hn.jsxs)("div",{className:"linear-card dark:bg-gray-800 dark:border-gray-700 transition-all duration-200",children:[(0,hn.jsx)("div",{className:"linear-card-header dark:border-gray-700 flex items-center justify-between",children:(0,hn.jsx)("h3",{className:"text-lg font-semibold dark:text-white",children:"Recent Activity"})}),(0,hn.jsx)("div",{className:"linear-card-body p-0",children:i.length>0?(0,hn.jsx)("div",{className:"linear-list divide-y divide-gray-200 dark:divide-gray-700",children:i.map((e=>{var t,r,n,a;return(0,hn.jsx)("div",{className:"linear-list-item p-4 dark:hover:bg-gray-700/60 hover:bg-gray-50 transition-colors duration-200",children:(0,hn.jsxs)("div",{className:"flex items-start",children:[(0,hn.jsx)("div",{className:"linear-avatar linear-avatar-sm mr-3 dark:bg-gray-700 dark:text-gray-300",children:null!==(t=e.user)&&void 0!==t&&t.photo?(0,hn.jsx)("img",{src:e.user.photo,alt:e.user.displayName||"User"}):(null===(r=e.user)||void 0===r||null===(n=r.displayName)||void 0===n?void 0:n.charAt(0))||"?"}),(0,hn.jsxs)("div",{children:[(0,hn.jsxs)("p",{className:"text-sm dark:text-gray-200",children:[(0,hn.jsx)("span",{className:"font-medium dark:text-white",children:(null===(a=e.user)||void 0===a?void 0:a.displayName)||"A user"})," ",e.description||"performed an action"]}),(0,hn.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:e.createdAt?new Date(e.createdAt).toLocaleString():"Recently"})]})]})},e._id)}))}):(0,hn.jsx)("div",{className:"py-8 text-center",children:(0,hn.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No recent activity"})})})]}),(0,hn.jsxs)("div",{className:"linear-card dark:bg-gray-800 dark:border-gray-700 transition-all duration-200",children:[(0,hn.jsxs)("div",{className:"linear-card-header dark:border-gray-700 flex items-center justify-between",children:[(0,hn.jsx)("h3",{className:"text-lg font-semibold dark:text-white",children:"Team"}),(0,hn.jsx)(_e,{to:"/team",className:"text-sm text-primary-600 hover:text-primary-800 dark:text-primary-400 dark:hover:text-primary-300 transition-colors duration-200",children:"View all"})]}),(0,hn.jsx)("div",{className:"linear-card-body p-0",children:(0,hn.jsx)("div",{className:"linear-member-list divide-y divide-gray-200 dark:divide-gray-700",children:t.length>0&&t[0].members&&t[0].members.length>0?t[0].members.slice(0,5).map((e=>{var t,r;return(0,hn.jsxs)("div",{className:"linear-member-card hover:bg-gray-50 dark:hover:bg-gray-700 p-3 transition-colors duration-200 flex items-center justify-between",children:[(0,hn.jsxs)("div",{className:"linear-member-info flex items-center",children:[(0,hn.jsx)("div",{className:"linear-avatar linear-avatar-sm dark:bg-gray-600 dark:text-gray-200",children:e.photo?(0,hn.jsx)("img",{src:e.photo,alt:e.displayName||e.email||"Member"}):(null===(t=e.displayName)||void 0===t?void 0:t.charAt(0))||(null===(r=e.email)||void 0===r?void 0:r.charAt(0))||"?"}),(0,hn.jsxs)("div",{className:"linear-member-details ml-3",children:[(0,hn.jsx)("div",{className:"linear-member-name text-sm font-medium dark:text-white",children:e.displayName||e.email||"Unknown Member"}),(0,hn.jsx)("div",{className:"linear-member-email text-xs text-gray-500 dark:text-gray-400",children:e.email||"No email provided"})]})]}),(0,hn.jsx)("div",{className:"linear-badge linear-badge-primary linear-member-role dark:bg-primary-900/70 dark:text-primary-300",children:e.role||"Member"})]},e._id)})):(0,hn.jsx)("div",{className:"p-4 text-center",children:(0,hn.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No team members found"})})})})]})]})]}),y&&f&&(0,hn.jsx)("div",{className:"linear-modal-overlay dark:bg-gray-900/80",children:(0,hn.jsx)("div",{className:"linear-modal dark:bg-gray-800",children:(0,hn.jsx)(An,{task:f,onClose:()=>x(!1),onUpdate:e=>{console.log("Task updated:",e),x(!1),v()},onDelete:()=>{console.log("Task deleted"),x(!1),v()},projectMembers:[]})})})]})},_n=e=>{let{onClose:t}=e;const{createProject:r,refreshProjects:n}=(0,s.useContext)(En),[a,o]=(0,s.useState)({name:"",description:"",color:"#6366f1",dueDate:""}),[i,l]=(0,s.useState)(!1),[c,d]=(0,s.useState)(""),u=e=>{o(Vt(Vt({},a),{},{[e.target.name]:e.target.value}))};return(0,hn.jsx)("div",{className:"modal",children:(0,hn.jsxs)("div",{className:"modal-content",children:[(0,hn.jsxs)("div",{className:"modal-header",children:[(0,hn.jsx)("h2",{className:"modal-title",children:"Create New Project"}),(0,hn.jsx)("button",{onClick:t,className:"btn-close",children:(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c&&(0,hn.jsx)("div",{className:"alert-error",children:c}),(0,hn.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),l(!0),d("");try{if(!localStorage.getItem("token"))return d("You need to be logged in to create a project"),void l(!1);if(!a.name||""===a.name.trim())return d("Project name is required"),void l(!1);console.log("Creating project with data:",a);const e=await r(a);console.log("Create project result:",e),e.success?(n(),t()):d(e.message||"Failed to create project")}catch(o){var s;if(console.error("Error creating project:",o),o.response)console.error("Response status:",o.response.status),console.error("Response data:",o.response.data),d((null===(s=o.response.data)||void 0===s?void 0:s.message)||"Failed to create project");else d("Network error. Please try again.")}finally{l(!1)}},children:[(0,hn.jsxs)("div",{className:"form-group",children:[(0,hn.jsx)("label",{htmlFor:"name",children:"Project Name"}),(0,hn.jsx)("input",{id:"name",type:"text",name:"name",placeholder:"Enter project name",value:a.name,onChange:u,required:!0,className:"input"})]}),(0,hn.jsxs)("div",{className:"form-group",children:[(0,hn.jsx)("label",{htmlFor:"description",children:"Description"}),(0,hn.jsx)("textarea",{id:"description",name:"description",placeholder:"Enter project description",value:a.description,onChange:u,rows:"3",className:"input"})]}),(0,hn.jsxs)("div",{className:"form-row",children:[(0,hn.jsxs)("div",{className:"form-group",children:[(0,hn.jsx)("label",{htmlFor:"color",children:"Project Color"}),(0,hn.jsxs)("div",{className:"color-picker",children:[(0,hn.jsx)("input",{id:"color",type:"color",name:"color",value:a.color,onChange:u,className:"input-color"}),(0,hn.jsx)("span",{className:"color-value",children:a.color})]})]}),(0,hn.jsxs)("div",{className:"form-group",children:[(0,hn.jsx)("label",{htmlFor:"dueDate",children:"Due Date"}),(0,hn.jsx)("input",{id:"dueDate",type:"date",name:"dueDate",value:a.dueDate,onChange:u,className:"input"})]})]}),(0,hn.jsxs)("div",{className:"modal-footer",children:[(0,hn.jsx)("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Cancel"}),(0,hn.jsx)("button",{type:"submit",disabled:i,className:"btn btn-primary",children:i?"Creating...":"Create Project"})]})]})]})})},Dn=()=>{const{projects:e,loading:t,error:r,refreshProjects:n}=(0,s.useContext)(En),[a,o]=(0,s.useState)(!1),[i,l]=(0,s.useState)(""),[c,d]=(0,s.useState)("all"),[u,h]=(0,s.useState)("");(0,s.useEffect)((()=>{n(),h("")}),[]);const p=Array.isArray(e)?e.filter((e=>{var t,r;if(!e)return!1;const n=(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(i.toLowerCase()))||(null===(r=e.description)||void 0===r?void 0:r.toLowerCase().includes(i.toLowerCase()));return"all"===c?n:"active"===c?n&&!e.isCompleted:"completed"===c?n&&e.isCompleted:n})):[];return t?(0,hn.jsxs)("div",{className:"flex flex-col items-center justify-center h-64",children:[(0,hn.jsx)("div",{className:"linear-spinner"}),(0,hn.jsx)("p",{className:"text-gray-600 mt-4",children:"Loading projects..."})]}):(0,hn.jsxs)("div",{className:"linear-fade-in",children:[(0,hn.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,hn.jsx)("h1",{className:"text-2xl font-bold",children:"Projects"}),(0,hn.jsxs)("button",{onClick:()=>o(!0),className:"linear-btn linear-btn-primary flex items-center",children:[(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:(0,hn.jsx)("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"New Project"]})]}),(r||u)&&(0,hn.jsx)("div",{className:"linear-card mb-6 bg-red-50 border-red-200 text-red-700",children:(0,hn.jsxs)("div",{className:"linear-card-body flex justify-between items-center",children:[(0,hn.jsx)("p",{children:r||u}),(0,hn.jsx)("button",{onClick:()=>{h(""),n()},className:"linear-btn linear-btn-sm linear-btn-danger",children:"Retry"})]})}),(0,hn.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-6 space-y-4 md:space-y-0",children:[(0,hn.jsxs)("div",{className:"relative w-full md:w-64 lg:w-80",children:[(0,hn.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,hn.jsx)("input",{type:"text",placeholder:"Search projects...",value:i,onChange:e=>l(e.target.value),className:"linear-input pl-10 w-full"})]}),(0,hn.jsxs)("div",{className:"inline-flex rounded-md shadow-sm",children:[(0,hn.jsx)("button",{onClick:()=>d("all"),className:"linear-btn ".concat("all"===c?"linear-btn-primary":"linear-btn-secondary"," rounded-r-none"),children:"All"}),(0,hn.jsx)("button",{onClick:()=>d("active"),className:"linear-btn ".concat("active"===c?"linear-btn-primary":"linear-btn-secondary"," rounded-none border-l-0 border-r-0"),children:"Active"}),(0,hn.jsx)("button",{onClick:()=>d("completed"),className:"linear-btn ".concat("completed"===c?"linear-btn-primary":"linear-btn-secondary"," rounded-l-none"),children:"Completed"})]})]}),p.length>0?(0,hn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map((e=>{var t,r;return(0,hn.jsx)(_e,{to:"/projects/".concat(e._id),className:"linear-card hover:shadow-md transition-all duration-200",children:(0,hn.jsxs)("div",{className:"linear-card-body p-0",children:[(0,hn.jsx)("div",{className:"h-2 w-full rounded-t-lg",style:{backgroundColor:e.color||"#6366f1"}}),(0,hn.jsxs)("div",{className:"p-5",children:[(0,hn.jsx)("h3",{className:"text-lg font-semibold mb-2",children:e.name}),e.description&&(0,hn.jsx)("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:e.description}),(0,hn.jsxs)("div",{className:"flex flex-wrap items-center gap-4 mt-4",children:[(0,hn.jsxs)("div",{className:"flex items-center text-xs text-gray-500",children:[(0,hn.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:[(0,hn.jsx)("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),(0,hn.jsx)("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]}),(0,hn.jsxs)("span",{children:[(null===(t=e.tasks)||void 0===t?void 0:t.length)||0," Tasks"]})]}),(0,hn.jsxs)("div",{className:"flex items-center text-xs text-gray-500",children:[(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,hn.jsx)("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"})}),(0,hn.jsxs)("span",{children:[(null===(r=e.members)||void 0===r?void 0:r.length)||0," Members"]})]})]}),(0,hn.jsxs)("div",{className:"flex items-center justify-between mt-5",children:[e.dueDate&&(0,hn.jsxs)("div",{className:"flex items-center text-xs",children:[(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,hn.jsx)("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),(0,hn.jsxs)("span",{className:"text-gray-600",children:["Due ",new Date(e.dueDate).toLocaleDateString()]})]}),e.isCompleted&&(0,hn.jsxs)("span",{className:"linear-badge linear-badge-success flex items-center",children:[(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:(0,hn.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,hn.jsx)("span",{children:"Completed"})]}),!e.dueDate&&!e.isCompleted&&(0,hn.jsx)("div",{className:"h-4"}),(0,hn.jsxs)("div",{className:"flex -space-x-2",children:[e.members&&e.members.slice(0,3).map(((e,t)=>(0,hn.jsx)("div",{className:"linear-avatar linear-avatar-sm",children:e.photo?(0,hn.jsx)("img",{src:e.photo,alt:e.displayName}):(0,hn.jsx)("span",{children:e.displayName?e.displayName.charAt(0):"?"})},e._id||t))),e.members&&e.members.length>3&&(0,hn.jsxs)("div",{className:"linear-avatar linear-avatar-sm bg-gray-200 text-gray-600",children:["+",e.members.length-3]})]})]}),void 0!==e.progress&&(0,hn.jsxs)("div",{className:"mt-4",children:[(0,hn.jsxs)("div",{className:"flex items-center justify-between text-xs mb-1",children:[(0,hn.jsx)("span",{className:"text-gray-600",children:"Progress"}),(0,hn.jsxs)("span",{className:"font-medium",children:[e.progress,"%"]})]}),(0,hn.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:(0,hn.jsx)("div",{className:"bg-primary-500 h-1.5 rounded-full",style:{width:"".concat(e.progress,"%")}})})]})]})]})},e._id)}))}):(0,hn.jsx)("div",{className:"linear-card",children:(0,hn.jsxs)("div",{className:"linear-card-body flex flex-col items-center justify-center py-12",children:[(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 text-gray-300 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),(0,hn.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"No projects found"}),(0,hn.jsx)("p",{className:"text-gray-500 text-center mt-2 max-w-md",children:i||"all"!==c?"Try adjusting your search or filter criteria":"Get started by creating your first project"}),(0,hn.jsxs)("button",{onClick:()=>o(!0),className:"linear-btn linear-btn-primary mt-6 flex items-center",children:[(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:(0,hn.jsx)("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Create Project"]})]})}),a&&(0,hn.jsx)("div",{className:"linear-modal-overlay",children:(0,hn.jsx)("div",{className:"linear-modal",children:(0,hn.jsx)(_n,{onClose:()=>{o(!1),n()}})})})]})};function Rn(e){return"Minified Redux error #".concat(e,"; visit https://redux.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}var Ln=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),In=()=>Math.random().toString(36).substring(7).split("").join("."),On={INIT:"@@redux/INIT".concat(In()),REPLACE:"@@redux/REPLACE".concat(In()),PROBE_UNKNOWN_ACTION:()=>"@@redux/PROBE_UNKNOWN_ACTION".concat(In())};function Mn(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function Fn(e,t,r){if("function"!==typeof e)throw new Error(Rn(2));if("function"===typeof t&&"function"===typeof r||"function"===typeof r&&"function"===typeof arguments[3])throw new Error(Rn(0));if("function"===typeof t&&"undefined"===typeof r&&(r=t,t=void 0),"undefined"!==typeof r){if("function"!==typeof r)throw new Error(Rn(1));return r(Fn)(e,t)}let n=e,a=t,s=new Map,o=s,i=0,l=!1;function c(){o===s&&(o=new Map,s.forEach(((e,t)=>{o.set(t,e)})))}function d(){if(l)throw new Error(Rn(3));return a}function u(e){if("function"!==typeof e)throw new Error(Rn(4));if(l)throw new Error(Rn(5));let t=!0;c();const r=i++;return o.set(r,e),function(){if(t){if(l)throw new Error(Rn(6));t=!1,c(),o.delete(r),s=null}}}function h(e){if(!Mn(e))throw new Error(Rn(7));if("undefined"===typeof e.type)throw new Error(Rn(8));if("string"!==typeof e.type)throw new Error(Rn(17));if(l)throw new Error(Rn(9));try{l=!0,a=n(a,e)}finally{l=!1}return(s=o).forEach((e=>{e()})),e}h({type:On.INIT});return{dispatch:h,subscribe:u,getState:d,replaceReducer:function(e){if("function"!==typeof e)throw new Error(Rn(10));n=e,h({type:On.REPLACE})},[Ln]:function(){const e=u;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(Rn(11));function r(){const e=t;e.next&&e.next(d())}r();return{unsubscribe:e(r)}},[Ln](){return this}}}}}function Bn(e,t){return function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return t(e.apply(this,n))}}function Un(e,t){if("function"===typeof e)return Bn(e,t);if("object"!==typeof e||null===e)throw new Error(Rn(16));const r={};for(const n in e){const a=e[n];"function"===typeof a&&(r[n]=Bn(a,t))}return r}function zn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce(((e,t)=>function(){return e(t(...arguments))}))}function Vn(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}r(237);const Wn=["initMapStateToProps","initMapDispatchToProps","initMergeProps"],Hn=["reactReduxForwardedRef"];var qn=s.version.startsWith("19"),Gn=Symbol.for(qn?"react.transitional.element":"react.element"),Kn=Symbol.for("react.portal"),$n=Symbol.for("react.fragment"),Yn=Symbol.for("react.strict_mode"),Xn=Symbol.for("react.profiler"),Qn=Symbol.for("react.consumer"),Jn=Symbol.for("react.context"),Zn=Symbol.for("react.forward_ref"),ea=Symbol.for("react.suspense"),ta=Symbol.for("react.suspense_list"),ra=Symbol.for("react.memo"),na=Symbol.for("react.lazy"),aa=Zn,sa=ra;function oa(e){if("object"===typeof e&&null!==e){const{$$typeof:t}=e;switch(t){case Gn:switch(e=e.type){case $n:case Xn:case Yn:case ea:case ta:return e;default:switch(e=e&&e.$$typeof){case Jn:case Zn:case na:case ra:case Qn:return e;default:return t}}case Kn:return t}}}function ia(e,t,r,n,a){let s,o,i,l,c,{areStatesEqual:d,areOwnPropsEqual:u,areStatePropsEqual:h}=a,p=!1;function m(a,p){const m=!u(p,o),f=!d(a,s,p,o);return s=a,o=p,m&&f?(i=e(s,o),t.dependsOnOwnProps&&(l=t(n,o)),c=r(i,l,o),c):m?(e.dependsOnOwnProps&&(i=e(s,o)),t.dependsOnOwnProps&&(l=t(n,o)),c=r(i,l,o),c):f?function(){const t=e(s,o),n=!h(t,i);return i=t,n&&(c=r(i,l,o)),c}():c}return function(a,d){return p?m(a,d):(s=a,o=d,i=e(s,o),l=t(n,o),c=r(i,l,o),p=!0,c)}}function la(e){return function(t){const r=e(t);function n(){return r}return n.dependsOnOwnProps=!1,n}}function ca(e){return e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function da(e,t){return function(t,r){let{displayName:n}=r;const a=function(e,t){return a.dependsOnOwnProps?a.mapToProps(e,t):a.mapToProps(e,void 0)};return a.dependsOnOwnProps=!0,a.mapToProps=function(t,r){a.mapToProps=e,a.dependsOnOwnProps=ca(e);let n=a(t,r);return"function"===typeof n&&(a.mapToProps=n,a.dependsOnOwnProps=ca(n),n=a(t,r)),n},a}}function ua(e,t){return(r,n)=>{throw new Error("Invalid value of type ".concat(typeof e," for ").concat(t," argument when connecting component ").concat(n.wrappedComponentName,"."))}}function ha(e,t,r){return Vt(Vt(Vt({},r),e),t)}function pa(e){e()}var ma={notify(){},get:()=>[]};function fa(e,t){let r,n=ma,a=0,s=!1;function o(){c.onStateChange&&c.onStateChange()}function i(){a++,r||(r=t?t.addNestedSub(o):e.subscribe(o),n=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){pa((()=>{let t=e;for(;t;)t.callback(),t=t.next}))},get(){const t=[];let r=e;for(;r;)t.push(r),r=r.next;return t},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){n&&null!==e&&(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}())}function l(){a--,r&&0===a&&(r(),r=void 0,n.clear(),n=ma)}const c={addNestedSub:function(e){i();const t=n.subscribe(e);let r=!1;return()=>{r||(r=!0,t(),l())}},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:o,isSubscribed:function(){return s},trySubscribe:function(){s||(s=!0,i())},tryUnsubscribe:function(){s&&(s=!1,l())},getListeners:()=>n};return c}var ga=(()=>!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement))(),ya=(()=>"undefined"!==typeof navigator&&"ReactNative"===navigator.product)(),xa=(()=>ga||ya?s.useLayoutEffect:s.useEffect)();function va(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function ba(e,t){if(va(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!va(e[r[a]],t[r[a]]))return!1;return!0}var wa={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},ka={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},ja={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Na={[aa]:{$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},[sa]:ja};function Sa(e){return oa(e)===ra?ja:Na[e.$$typeof]||wa}var Ca=Object.defineProperty,Ea=Object.getOwnPropertyNames,Pa=Object.getOwnPropertySymbols,Aa=Object.getOwnPropertyDescriptor,Ta=Object.getPrototypeOf,_a=Object.prototype;function Da(e,t){if("string"!==typeof t){if(_a){const r=Ta(t);r&&r!==_a&&Da(e,r)}let r=Ea(t);Pa&&(r=r.concat(Pa(t)));const n=Sa(e),a=Sa(t);for(let s=0;s<r.length;++s){const o=r[s];if(!ka[o]&&(!a||!a[o])&&(!n||!n[o])){const r=Aa(t,o);try{Ca(e,o,r)}catch(Cx){}}}}return e}var Ra=Symbol.for("react-redux-context"),La="undefined"!==typeof globalThis?globalThis:{};function Ia(){var e;if(!s.createContext)return{};const t=null!==(e=La[Ra])&&void 0!==e?e:La[Ra]=new Map;let r=t.get(s.createContext);return r||(r=s.createContext(null),t.set(s.createContext,r)),r}var Oa=Ia(),Ma=[null,null];function Fa(e,t,r,n,a,s){e.current=n,r.current=!1,a.current&&(a.current=null,s())}function Ba(e,t){return e===t}var Ua=function(e,t,r){let{pure:n,areStatesEqual:a=Ba,areOwnPropsEqual:o=ba,areStatePropsEqual:i=ba,areMergedPropsEqual:l=ba,forwardRef:c=!1,context:d=Oa}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const u=d,h=function(e){return e?"function"===typeof e?da(e):ua(e,"mapStateToProps"):la((()=>({})))}(e),p=function(e){return e&&"object"===typeof e?la((t=>function(e,t){const r={};for(const n in e){const a=e[n];"function"===typeof a&&(r[n]=function(){return t(a(...arguments))})}return r}(e,t))):e?"function"===typeof e?da(e):ua(e,"mapDispatchToProps"):la((e=>({dispatch:e})))}(t),m=function(e){return e?"function"===typeof e?function(e){return function(t,r){let n,{displayName:a,areMergedPropsEqual:s}=r,o=!1;return function(t,r,a){const i=e(t,r,a);return o?s(i,n)||(n=i):(o=!0,n=i),n}}}(e):ua(e,"mergeProps"):()=>ha}(r),f=Boolean(e);return e=>{const t=e.displayName||e.name||"Component",r="Connect(".concat(t,")"),n={shouldHandleStateChanges:f,displayName:r,wrappedComponentName:t,WrappedComponent:e,initMapStateToProps:h,initMapDispatchToProps:p,initMergeProps:m,areStatesEqual:a,areStatePropsEqual:i,areOwnPropsEqual:o,areMergedPropsEqual:l};function d(t){const[r,a,o]=s.useMemo((()=>{const{reactReduxForwardedRef:e}=t,r=Vn(t,Hn);return[t.context,e,r]}),[t]),i=s.useMemo((()=>{let e=u;return null!==r&&void 0!==r&&r.Consumer,e}),[r,u]),l=s.useContext(i),c=Boolean(t.store)&&Boolean(t.store.getState)&&Boolean(t.store.dispatch),d=Boolean(l)&&Boolean(l.store);const h=c?t.store:l.store,p=d?l.getServerState:h.getState,m=s.useMemo((()=>function(e,t){let{initMapStateToProps:r,initMapDispatchToProps:n,initMergeProps:a}=t,s=Vn(t,Wn);return ia(r(e,s),n(e,s),a(e,s),e,s)}(h.dispatch,n)),[h]),[g,y]=s.useMemo((()=>{if(!f)return Ma;const e=fa(h,c?void 0:l.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[h,c,l]),x=s.useMemo((()=>c?l:Vt(Vt({},l),{},{subscription:g})),[c,l,g]),v=s.useRef(void 0),b=s.useRef(o),w=s.useRef(void 0),k=s.useRef(!1),j=s.useRef(!1),N=s.useRef(void 0);xa((()=>(j.current=!0,()=>{j.current=!1})),[]);const S=s.useMemo((()=>()=>w.current&&o===b.current?w.current:m(h.getState(),o)),[h,o]),C=s.useMemo((()=>e=>g?function(e,t,r,n,a,s,o,i,l,c,d){if(!e)return()=>{};let u=!1,h=null;const p=()=>{if(u||!i.current)return;const e=t.getState();let r,p;try{r=n(e,a.current)}catch(Cx){p=Cx,h=Cx}p||(h=null),r===s.current?o.current||c():(s.current=r,l.current=r,o.current=!0,d())};return r.onStateChange=p,r.trySubscribe(),p(),()=>{if(u=!0,r.tryUnsubscribe(),r.onStateChange=null,h)throw h}}(f,h,g,m,b,v,k,j,w,y,e):()=>{}),[g]);var E,P,A;let T;E=Fa,P=[b,v,k,o,w,y],xa((()=>E(...P)),A);try{T=s.useSyncExternalStore(C,S,p?()=>m(p(),o):S)}catch(D){throw N.current&&(D.message+="\nThe error may be correlated with this previous error:\n".concat(N.current.stack,"\n\n")),D}xa((()=>{N.current=void 0,w.current=void 0,v.current=T}));const _=s.useMemo((()=>s.createElement(e,Vt(Vt({},T),{},{ref:a}))),[a,e,T]);return s.useMemo((()=>f?s.createElement(i.Provider,{value:x},_):_),[i,_,x])}const g=s.memo(d);if(g.WrappedComponent=e,g.displayName=d.displayName=r,c){const t=s.forwardRef((function(e,t){return s.createElement(g,Vt(Vt({},e),{},{reactReduxForwardedRef:t}))}));return t.displayName=r,t.WrappedComponent=e,Da(t,e)}return Da(g,e)}};var za=function(e){const{children:t,context:r,serverState:n,store:a}=e,o=s.useMemo((()=>{const e=fa(a);return{store:a,subscription:e,getServerState:n?()=>n:void 0}}),[a,n]),i=s.useMemo((()=>a.getState()),[a]);xa((()=>{const{subscription:e}=o;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),i!==a.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,i]);const l=r||Oa;return s.createElement(l.Provider,{value:o},t)};var Va="Invariant failed";var Wa=function(e){var t=e.top,r=e.right,n=e.bottom,a=e.left;return{top:t,right:r,bottom:n,left:a,width:r-a,height:n-t,x:a,y:t,center:{x:(r+a)/2,y:(n+t)/2}}},Ha=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},qa=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},Ga={top:0,right:0,bottom:0,left:0},Ka=function(e){var t=e.borderBox,r=e.margin,n=void 0===r?Ga:r,a=e.border,s=void 0===a?Ga:a,o=e.padding,i=void 0===o?Ga:o,l=Wa(Ha(t,n)),c=Wa(qa(t,s)),d=Wa(qa(c,i));return{marginBox:l,borderBox:Wa(t),paddingBox:c,contentBox:d,margin:n,border:s,padding:i}},$a=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var r=Number(t);return isNaN(r)&&function(e){if(!e)throw new Error(Va)}(!1),r},Ya=function(e,t){var r,n,a=e.borderBox,s=e.border,o=e.margin,i=e.padding,l=(n=t,{top:(r=a).top+n.y,left:r.left+n.x,bottom:r.bottom+n.y,right:r.right+n.x});return Ka({borderBox:l,border:s,margin:o,padding:i})},Xa=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),Ya(e,t)},Qa=function(e,t){var r={top:$a(t.marginTop),right:$a(t.marginRight),bottom:$a(t.marginBottom),left:$a(t.marginLeft)},n={top:$a(t.paddingTop),right:$a(t.paddingRight),bottom:$a(t.paddingBottom),left:$a(t.paddingLeft)},a={top:$a(t.borderTopWidth),right:$a(t.borderRightWidth),bottom:$a(t.borderBottomWidth),left:$a(t.borderLeftWidth)};return Ka({borderBox:e,margin:r,padding:n,border:a})},Ja=function(e){var t=e.getBoundingClientRect(),r=window.getComputedStyle(e);return Qa(t,r)};const Za=function(e){var t=[],r=null,n=function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];t=a,r||(r=requestAnimationFrame((function(){r=null,e.apply(void 0,t)})))};return n.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},n};function es(){return es=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},es.apply(null,arguments)}function ts(e,t){}ts.bind(null,"warn"),ts.bind(null,"error");function rs(){}function ns(e,t,r){const n=t.map((t=>{const n=function(e,t){return Vt(Vt({},e),t)}(r,t.options);return e.addEventListener(t.eventName,t.fn,n),function(){e.removeEventListener(t.eventName,t.fn,n)}}));return function(){n.forEach((e=>{e()}))}}const as="Invariant failed";class ss extends Error{}function os(e,t){throw new ss(as)}ss.prototype.toString=function(){return this.message};class is extends s.Component{constructor(){super(...arguments),this.callbacks=null,this.unbind=rs,this.onWindowError=e=>{const t=this.getCallbacks();t.isDragging()&&t.tryAbort();e.error instanceof ss&&e.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=e=>{this.callbacks=e}}componentDidMount(){this.unbind=ns(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(!(e instanceof ss))throw e;this.setState({})}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const ls=e=>e+1,cs=(e,t)=>{const r=e.droppableId===t.droppableId,n=ls(e.index),a=ls(t.index);return r?"\n      You have moved the item from position ".concat(n,"\n      to position ").concat(a,"\n    "):"\n    You have moved the item from position ".concat(n,"\n    in list ").concat(e.droppableId,"\n    to list ").concat(t.droppableId,"\n    in position ").concat(a,"\n  ")},ds=(e,t,r)=>t.droppableId===r.droppableId?"\n      The item ".concat(e,"\n      has been combined with ").concat(r.draggableId):"\n      The item ".concat(e,"\n      in list ").concat(t.droppableId,"\n      has been combined with ").concat(r.draggableId,"\n      in list ").concat(r.droppableId,"\n    "),us=e=>"\n  The item has returned to its starting position\n  of ".concat(ls(e.index),"\n"),hs="\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",ps=e=>"\n  You have lifted an item in position ".concat(ls(e.source.index),"\n"),ms=e=>{const t=e.destination;if(t)return cs(e.source,t);const r=e.combine;return r?ds(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},fs=e=>{if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      ".concat(us(e.source),"\n    ");const t=e.destination,r=e.combine;return t?"\n      You have dropped the item.\n      ".concat(cs(e.source,t),"\n    "):r?"\n      You have dropped the item.\n      ".concat(ds(e.draggableId,e.source,r),"\n    "):"\n    The item has been dropped while not over a drop area.\n    ".concat(us(e.source),"\n  ")};function gs(e,t){if(e.length!==t.length)return!1;for(let a=0;a<e.length;a++)if(r=e[a],n=t[a],!(r===n||Number.isNaN(r)&&Number.isNaN(n)))return!1;var r,n;return!0}function ys(e,t){const r=(0,s.useState)((()=>({inputs:t,result:e()})))[0],n=(0,s.useRef)(!0),a=(0,s.useRef)(r),o=n.current||Boolean(t&&a.current.inputs&&gs(t,a.current.inputs))?a.current:{inputs:t,result:e()};return(0,s.useEffect)((()=>{n.current=!1,a.current=o}),[o]),o.result}function xs(e,t){return ys((()=>e),t)}const vs={x:0,y:0},bs=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),ws=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),ks=(e,t)=>e.x===t.x&&e.y===t.y,js=e=>({x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}),Ns=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return"x"===e?{x:t,y:r}:{x:r,y:t}},Ss=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),Cs=(e,t)=>Math.min(...t.map((t=>Ss(e,t)))),Es=e=>t=>({x:e(t.x),y:e(t.y)});const Ps=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),As=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],Ts=(e,t)=>t&&t.shouldClipSubject?((e,t)=>{const r=Wa({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r})(t.pageMarginBox,e):Wa(e);var _s=e=>{let{page:t,withPlaceholder:r,axis:n,frame:a}=e;const s=((e,t)=>t?Ps(e,t.scroll.diff.displacement):e)(t.marginBox,a),o=((e,t,r)=>r&&r.increasedBy?Vt(Vt({},e),{},{[t.end]:e[t.end]+r.increasedBy[t.line]}):e)(s,n,r);return{page:t,withPlaceholder:r,active:Ts(o,a)}},Ds=(e,t)=>{e.frame||os();const r=e.frame,n=ws(t,r.scroll.initial),a=js(n),s=Vt(Vt({},r),{},{scroll:{initial:r.scroll.initial,current:t,diff:{value:n,displacement:a},max:r.scroll.max}}),o=_s({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:s});return Vt(Vt({},e),{},{frame:s,subject:o})};function Rs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gs,r=null;function n(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];if(r&&r.lastThis===this&&t(a,r.lastArgs))return r.lastResult;const o=e.apply(this,a);return r={lastResult:o,lastArgs:a,lastThis:this},o}return n.clear=function(){r=null},n}const Ls=Rs((e=>e.reduce(((e,t)=>(e[t.descriptor.id]=t,e)),{}))),Is=Rs((e=>e.reduce(((e,t)=>(e[t.descriptor.id]=t,e)),{}))),Os=Rs((e=>Object.values(e))),Ms=Rs((e=>Object.values(e)));var Fs=Rs(((e,t)=>{const r=Ms(t).filter((t=>e===t.descriptor.droppableId)).sort(((e,t)=>e.descriptor.index-t.descriptor.index));return r}));function Bs(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function Us(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var zs=Rs(((e,t)=>t.filter((t=>t.descriptor.id!==e.descriptor.id)))),Vs=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const Ws={point:vs,value:0},Hs={invisible:{},visible:{},all:[]},qs={displaced:Hs,displacedBy:Ws,at:null};var Gs=(e,t)=>r=>e<=r&&r<=t,Ks=e=>{const t=Gs(e.top,e.bottom),r=Gs(e.left,e.right);return n=>{if(t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right))return!0;const a=t(n.top)||t(n.bottom),s=r(n.left)||r(n.right);if(a&&s)return!0;const o=n.top<e.top&&n.bottom>e.bottom,i=n.left<e.left&&n.right>e.right;if(o&&i)return!0;return o&&s||i&&a}},$s=e=>{const t=Gs(e.top,e.bottom),r=Gs(e.left,e.right);return e=>t(e.top)&&t(e.bottom)&&r(e.left)&&r(e.right)};const Ys={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Xs={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};const Qs=e=>{let{target:t,destination:r,viewport:n,withDroppableDisplacement:a,isVisibleThroughFrameFn:s}=e;const o=a?((e,t)=>{const r=t.frame?t.frame.scroll.diff.displacement:vs;return Ps(e,r)})(t,r):t;return((e,t,r)=>!!t.subject.active&&r(t.subject.active)(e))(o,r,s)&&((e,t,r)=>r(t)(e))(o,n,s)},Js=e=>Qs(Vt(Vt({},e),{},{isVisibleThroughFrameFn:$s}));function Zs(e){let{afterDragging:t,destination:r,displacedBy:n,viewport:a,forceShouldAnimate:s,last:o}=e;return t.reduce((function(e,t){const i=function(e,t){const r=e.page.marginBox,n={top:t.point.y,right:0,bottom:0,left:t.point.x};return Wa(Ha(r,n))}(t,n),l=t.descriptor.id;e.all.push(l);if(!Qs(Vt(Vt({},{target:i,destination:r,viewport:a,withDroppableDisplacement:!0}),{},{isVisibleThroughFrameFn:Ks})))return e.invisible[t.descriptor.id]=!0,e;const c=((e,t,r)=>{if("boolean"===typeof r)return r;if(!t)return!0;const{invisible:n,visible:a}=t;if(n[e])return!1;const s=a[e];return!s||s.shouldAnimate})(l,o,s),d={draggableId:l,shouldAnimate:c};return e.visible[l]=d,e}),{all:[],visible:{},invisible:{}})}function eo(e){let{insideDestination:t,inHomeList:r,displacedBy:n,destination:a}=e;const s=function(e,t){if(!e.length)return 0;const r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}(t,{inHomeList:r});return{displaced:Hs,displacedBy:n,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:s}}}}function to(e){let{draggable:t,insideDestination:r,destination:n,viewport:a,displacedBy:s,last:o,index:i,forceShouldAnimate:l}=e;const c=Vs(t,n);if(null==i)return eo({insideDestination:r,inHomeList:c,displacedBy:s,destination:n});const d=r.find((e=>e.descriptor.index===i));if(!d)return eo({insideDestination:r,inHomeList:c,displacedBy:s,destination:n});const u=zs(t,r),h=r.indexOf(d);return{displaced:Zs({afterDragging:u.slice(h),destination:n,displacedBy:s,last:o,viewport:a.frame,forceShouldAnimate:l}),displacedBy:s,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:i}}}}function ro(e,t){return Boolean(t.effected[e])}var no=e=>{let{isMovingForward:t,isInHomeList:r,draggable:n,draggables:a,destination:s,insideDestination:o,previousImpact:i,viewport:l,afterCritical:c}=e;const d=i.at;if(d||os(),"REORDER"===d.type){const e=(e=>{let{isMovingForward:t,isInHomeList:r,insideDestination:n,location:a}=e;if(!n.length)return null;const s=a.index,o=t?s+1:s-1,i=n[0].descriptor.index,l=n[n.length-1].descriptor.index;return o<i||o>(r?l:l+1)?null:o})({isMovingForward:t,isInHomeList:r,location:d.destination,insideDestination:o});return null==e?null:to({draggable:n,insideDestination:o,destination:s,viewport:l,last:i.displaced,displacedBy:i.displacedBy,index:e})}const u=(e=>{let{isMovingForward:t,destination:r,draggables:n,combine:a,afterCritical:s}=e;if(!r.isCombineEnabled)return null;const o=a.draggableId,i=n[o].descriptor.index;return ro(o,s)?t?i:i-1:t?i+1:i})({isMovingForward:t,destination:s,displaced:i.displaced,draggables:a,combine:d.combine,afterCritical:c});return null==u?null:to({draggable:n,insideDestination:o,destination:s,viewport:l,last:i.displaced,displacedBy:i.displacedBy,index:u})},ao=e=>{let{afterCritical:t,impact:r,draggables:n}=e;const a=Us(r);a||os();const s=a.draggableId,o=n[s].page.borderBox.center,i=(e=>{let{displaced:t,afterCritical:r,combineWith:n,displacedBy:a}=e;const s=Boolean(t.visible[n]||t.invisible[n]);return ro(n,r)?s?vs:js(a.point):s?a.point:vs})({displaced:r.displaced,afterCritical:t,combineWith:s,displacedBy:r.displacedBy});return bs(o,i)};const so=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,oo=(e,t,r)=>t[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2,io=e=>{let{axis:t,moveRelativeTo:r,isMoving:n}=e;return Ns(t.line,r.marginBox[t.end]+so(t,n),oo(t,r.marginBox,n))},lo=e=>{let{axis:t,moveRelativeTo:r,isMoving:n}=e;return Ns(t.line,r.marginBox[t.start]-((e,t)=>t.margin[e.end]+t.borderBox[e.size]/2)(t,n),oo(t,r.marginBox,n))};var co=e=>{let{impact:t,draggable:r,draggables:n,droppable:a,afterCritical:s}=e;const o=Fs(a.descriptor.id,n),i=r.page,l=a.axis;if(!o.length)return(e=>{let{axis:t,moveInto:r,isMoving:n}=e;return Ns(t.line,r.contentBox[t.start]+so(t,n),oo(t,r.contentBox,n))})({axis:l,moveInto:a.page,isMoving:i});const{displaced:c,displacedBy:d}=t,u=c.all[0];if(u){const e=n[u];if(ro(u,s))return lo({axis:l,moveRelativeTo:e.page,isMoving:i});const t=Ya(e.page,d.point);return lo({axis:l,moveRelativeTo:t,isMoving:i})}const h=o[o.length-1];if(h.descriptor.id===r.descriptor.id)return i.borderBox.center;if(ro(h.descriptor.id,s)){const e=Ya(h.page,js(s.displacedBy.point));return io({axis:l,moveRelativeTo:e,isMoving:i})}return io({axis:l,moveRelativeTo:h.page,isMoving:i})},uo=(e,t)=>{const r=e.frame;return r?bs(t,r.scroll.diff.displacement):t};var ho=e=>{const t=(e=>{let{impact:t,draggable:r,droppable:n,draggables:a,afterCritical:s}=e;const o=r.page.borderBox.center,i=t.at;return n&&i?"REORDER"===i.type?co({impact:t,draggable:r,draggables:a,droppable:n,afterCritical:s}):ao({impact:t,draggables:a,afterCritical:s}):o})(e),r=e.droppable;return r?uo(r,t):t},po=(e,t)=>{const r=ws(t,e.scroll.initial),n=js(r);return{frame:Wa({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:n}}}};function mo(e,t){return e.map((e=>t[e]))}var fo=e=>{let{pageBorderBoxCenter:t,draggable:r,viewport:n}=e;const a=((e,t)=>bs(e.scroll.diff.displacement,t))(n,t),s=ws(a,r.page.borderBox.center);return bs(r.client.borderBox.center,s)},go=e=>{let{draggable:t,destination:r,newPageBorderBoxCenter:n,viewport:a,withDroppableDisplacement:s,onlyOnMainAxis:o=!1}=e;const i=ws(n,t.page.borderBox.center),l={target:Ps(t.page.borderBox,i),destination:r,withDroppableDisplacement:s,viewport:a};return o?(e=>{return Qs(Vt(Vt({},e),{},{isVisibleThroughFrameFn:(t=e.destination.axis,e=>{const r=Gs(e.top,e.bottom),n=Gs(e.left,e.right);return e=>t===Ys?r(e.top)&&r(e.bottom):n(e.left)&&n(e.right)})}));var t})(l):Js(l)},yo=e=>{let{isMovingForward:t,draggable:r,destination:n,draggables:a,previousImpact:s,viewport:o,previousPageBorderBoxCenter:i,previousClientSelection:l,afterCritical:c}=e;if(!n.isEnabled)return null;const d=Fs(n.descriptor.id,a),u=Vs(r,n),h=(e=>{let{isMovingForward:t,draggable:r,destination:n,insideDestination:a,previousImpact:s}=e;if(!n.isCombineEnabled)return null;if(!Bs(s))return null;function o(e){const t={type:"COMBINE",combine:{draggableId:e,droppableId:n.descriptor.id}};return Vt(Vt({},s),{},{at:t})}const i=s.displaced.all,l=i.length?i[0]:null;if(t)return l?o(l):null;const c=zs(r,a);if(!l)return c.length?o(c[c.length-1].descriptor.id):null;const d=c.findIndex((e=>e.descriptor.id===l));-1===d&&os();const u=d-1;return u<0?null:o(c[u].descriptor.id)})({isMovingForward:t,draggable:r,destination:n,insideDestination:d,previousImpact:s})||no({isMovingForward:t,isInHomeList:u,draggable:r,draggables:a,destination:n,insideDestination:d,previousImpact:s,viewport:o,afterCritical:c});if(!h)return null;const p=ho({impact:h,draggable:r,droppable:n,draggables:a,afterCritical:c});if(go({draggable:r,destination:n,newPageBorderBoxCenter:p,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})){return{clientSelection:fo({pageBorderBoxCenter:p,draggable:r,viewport:o}),impact:h,scrollJumpRequest:null}}const m=ws(p,i),f=(e=>{let{impact:t,viewport:r,destination:n,draggables:a,maxScrollChange:s}=e;const o=po(r,bs(r.scroll.current,s)),i=n.frame?Ds(n,bs(n.frame.scroll.current,s)):n,l=t.displaced,c=Zs({afterDragging:mo(l.all,a),destination:n,displacedBy:t.displacedBy,viewport:o.frame,last:l,forceShouldAnimate:!1}),d=Zs({afterDragging:mo(l.all,a),destination:i,displacedBy:t.displacedBy,viewport:r.frame,last:l,forceShouldAnimate:!1}),u={},h={},p=[l,c,d];return l.all.forEach((e=>{const t=function(e,t){for(let r=0;r<t.length;r++){const n=t[r].visible[e];if(n)return n}return null}(e,p);t?h[e]=t:u[e]=!0})),Vt(Vt({},t),{},{displaced:{all:l.all,invisible:u,visible:h}})})({impact:h,viewport:o,destination:n,draggables:a,maxScrollChange:m});return{clientSelection:l,impact:f,scrollJumpRequest:m}};const xo=e=>{const t=e.subject.active;return t||os(),t};const vo=(e,t)=>{const r=e.page.borderBox.center;return ro(e.descriptor.id,t)?ws(r,t.displacedBy.point):r},bo=(e,t)=>{const r=e.page.borderBox;return ro(e.descriptor.id,t)?Ps(r,js(t.displacedBy.point)):r};var wo=Rs((function(e,t){const r=t[e.line];return{value:r,point:Ns(e.line,r)}}));const ko=(e,t)=>Vt(Vt({},e),{},{scroll:Vt(Vt({},e.scroll),{},{max:t})}),jo=(e,t,r)=>{const n=e.frame;Vs(t,e)&&os(),e.subject.withPlaceholder&&os();const a=wo(e.axis,t.displaceBy).point,s=((e,t,r)=>{const n=e.axis;if("virtual"===e.descriptor.mode)return Ns(n.line,t[n.line]);const a=e.subject.page.contentBox[n.size],s=Fs(e.descriptor.id,r).reduce(((e,t)=>e+t.client.marginBox[n.size]),0)+t[n.line]-a;return s<=0?null:Ns(n.line,s)})(e,a,r),o={placeholderSize:a,increasedBy:s,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!n){const t=_s({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:e.frame});return Vt(Vt({},e),{},{subject:t})}const i=s?bs(n.scroll.max,s):n.scroll.max,l=ko(n,i),c=_s({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:l});return Vt(Vt({},e),{},{subject:c,frame:l})};var No=e=>{let{isMovingForward:t,previousPageBorderBoxCenter:r,draggable:n,isOver:a,draggables:s,droppables:o,viewport:i,afterCritical:l}=e;const c=(e=>{let{isMovingForward:t,pageBorderBoxCenter:r,source:n,droppables:a,viewport:s}=e;const o=n.subject.active;if(!o)return null;const i=n.axis,l=Gs(o[i.start],o[i.end]),c=Os(a).filter((e=>e!==n)).filter((e=>e.isEnabled)).filter((e=>Boolean(e.subject.active))).filter((e=>Ks(s.frame)(xo(e)))).filter((e=>{const r=xo(e);return t?o[i.crossAxisEnd]<r[i.crossAxisEnd]:r[i.crossAxisStart]<o[i.crossAxisStart]})).filter((e=>{const t=xo(e),r=Gs(t[i.start],t[i.end]);return l(t[i.start])||l(t[i.end])||r(o[i.start])||r(o[i.end])})).sort(((e,r)=>{const n=xo(e)[i.crossAxisStart],a=xo(r)[i.crossAxisStart];return t?n-a:a-n})).filter(((e,t,r)=>xo(e)[i.crossAxisStart]===xo(r[0])[i.crossAxisStart]));if(!c.length)return null;if(1===c.length)return c[0];const d=c.filter((e=>Gs(xo(e)[i.start],xo(e)[i.end])(r[i.line])));return 1===d.length?d[0]:d.length>1?d.sort(((e,t)=>xo(e)[i.start]-xo(t)[i.start]))[0]:c.sort(((e,t)=>{const n=Cs(r,As(xo(e))),a=Cs(r,As(xo(t)));return n!==a?n-a:xo(e)[i.start]-xo(t)[i.start]}))[0]})({isMovingForward:t,pageBorderBoxCenter:r,source:a,droppables:o,viewport:i});if(!c)return null;const d=Fs(c.descriptor.id,s),u=(e=>{let{pageBorderBoxCenter:t,viewport:r,destination:n,insideDestination:a,afterCritical:s}=e;const o=a.filter((e=>Js({target:bo(e,s),destination:n,viewport:r.frame,withDroppableDisplacement:!0}))).sort(((e,r)=>{const a=Ss(t,uo(n,vo(e,s))),o=Ss(t,uo(n,vo(r,s)));return a<o?-1:o<a?1:e.descriptor.index-r.descriptor.index}));return o[0]||null})({pageBorderBoxCenter:r,viewport:i,destination:c,insideDestination:d,afterCritical:l}),h=(e=>{let{previousPageBorderBoxCenter:t,moveRelativeTo:r,insideDestination:n,draggable:a,draggables:s,destination:o,viewport:i,afterCritical:l}=e;if(!r){if(n.length)return null;const e={displaced:Hs,displacedBy:Ws,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},t=ho({impact:e,draggable:a,droppable:o,draggables:s,afterCritical:l}),r=Vs(a,o)?o:jo(o,a,s);return go({draggable:a,destination:r,newPageBorderBoxCenter:t,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?e:null}const c=Boolean(t[o.axis.line]<=r.page.borderBox.center[o.axis.line]),d=(()=>{const e=r.descriptor.index;return r.descriptor.id===a.descriptor.id||c?e:e+1})(),u=wo(o.axis,a.displaceBy);return to({draggable:a,insideDestination:n,destination:o,viewport:i,displacedBy:u,last:Hs,index:d})})({previousPageBorderBoxCenter:r,destination:c,draggable:n,draggables:s,moveRelativeTo:u,insideDestination:d,viewport:i,afterCritical:l});if(!h)return null;const p=ho({impact:h,draggable:n,droppable:c,draggables:s,afterCritical:l});return{clientSelection:fo({pageBorderBoxCenter:p,draggable:n,viewport:i}),impact:h,scrollJumpRequest:null}},So=e=>{const t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null};var Co=e=>{let{state:t,type:r}=e;const n=((e,t)=>{const r=So(e);return r?t[r]:null})(t.impact,t.dimensions.droppables),a=Boolean(n),s=t.dimensions.droppables[t.critical.droppable.id],o=n||s,i=o.axis.direction,l="vertical"===i&&("MOVE_UP"===r||"MOVE_DOWN"===r)||"horizontal"===i&&("MOVE_LEFT"===r||"MOVE_RIGHT"===r);if(l&&!a)return null;const c="MOVE_DOWN"===r||"MOVE_RIGHT"===r,d=t.dimensions.draggables[t.critical.draggable.id],u=t.current.page.borderBoxCenter,{draggables:h,droppables:p}=t.dimensions;return l?yo({isMovingForward:c,previousPageBorderBoxCenter:u,draggable:d,destination:o,draggables:h,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):No({isMovingForward:c,previousPageBorderBoxCenter:u,draggable:d,isOver:o,draggables:h,droppables:p,viewport:t.viewport,afterCritical:t.afterCritical})};function Eo(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function Po(e){const t=Gs(e.top,e.bottom),r=Gs(e.left,e.right);return function(e){return t(e.y)&&r(e.x)}}function Ao(e){let{pageBorderBox:t,draggable:r,droppables:n}=e;const a=Os(n).filter((e=>{if(!e.isEnabled)return!1;const r=e.subject.active;if(!r)return!1;if(a=r,!((n=t).left<a.right&&n.right>a.left&&n.top<a.bottom&&n.bottom>a.top))return!1;var n,a;if(Po(r)(t.center))return!0;const s=e.axis,o=r.center[s.crossAxisLine],i=t[s.crossAxisStart],l=t[s.crossAxisEnd],c=Gs(r[s.crossAxisStart],r[s.crossAxisEnd]),d=c(i),u=c(l);return!d&&!u||(d?i<o:l>o)}));return a.length?1===a.length?a[0].descriptor.id:function(e){let{pageBorderBox:t,draggable:r,candidates:n}=e;const a=r.page.borderBox.center,s=n.map((e=>{const r=e.axis,n=Ns(e.axis.line,t.center[r.line],e.page.borderBox.center[r.crossAxisLine]);return{id:e.descriptor.id,distance:Ss(a,n)}})).sort(((e,t)=>t.distance-e.distance));return s[0]?s[0].id:null}({pageBorderBox:t,draggable:r,candidates:a}):null}const To=(e,t)=>Wa(Ps(e,t));function _o(e){let{displaced:t,id:r}=e;return Boolean(t.visible[r]||t.invisible[r])}var Do=e=>{let{pageOffset:t,draggable:r,draggables:n,droppables:a,previousImpact:s,viewport:o,afterCritical:i}=e;const l=To(r.page.borderBox,t),c=Ao({pageBorderBox:l,draggable:r,droppables:a});if(!c)return qs;const d=a[c],u=Fs(d.descriptor.id,n),h=((e,t)=>{const r=e.frame;return r?To(t,r.scroll.diff.value):t})(d,l);return(e=>{let{draggable:t,pageBorderBoxWithDroppableScroll:r,previousImpact:n,destination:a,insideDestination:s,afterCritical:o}=e;if(!a.isCombineEnabled)return null;const i=a.axis,l=wo(a.axis,t.displaceBy),c=l.value,d=r[i.start],u=r[i.end],h=zs(t,s).find((e=>{const t=e.descriptor.id,r=e.page.borderBox,a=r[i.size]/4,s=ro(t,o),l=_o({displaced:n.displaced,id:t});return s?l?u>r[i.start]+a&&u<r[i.end]-a:d>r[i.start]-c+a&&d<r[i.end]-c-a:l?u>r[i.start]+c+a&&u<r[i.end]+c-a:d>r[i.start]+a&&d<r[i.end]-a}));return h?{displacedBy:l,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:h.descriptor.id,droppableId:a.descriptor.id}}}:null})({pageBorderBoxWithDroppableScroll:h,draggable:r,previousImpact:s,destination:d,insideDestination:u,afterCritical:i})||(e=>{let{pageBorderBoxWithDroppableScroll:t,draggable:r,destination:n,insideDestination:a,last:s,viewport:o,afterCritical:i}=e;const l=n.axis,c=wo(n.axis,r.displaceBy),d=c.value,u=t[l.start],h=t[l.end],p=zs(r,a).find((e=>{const t=e.descriptor.id,r=e.page.borderBox.center[l.line],n=ro(t,i),a=_o({displaced:s,id:t});return n?a?h<=r:u<r-d:a?h<=r+d:u<r}))||null,m=function(e){let{draggable:t,closest:r,inHomeList:n}=e;return r?n&&r.descriptor.index>t.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}({draggable:r,closest:p,inHomeList:Vs(r,n)});return to({draggable:r,insideDestination:a,destination:n,viewport:o,last:s,displacedBy:c,index:m})})({pageBorderBoxWithDroppableScroll:h,draggable:r,destination:d,insideDestination:u,last:s.displaced,viewport:o,afterCritical:i})},Ro=(e,t)=>Vt(Vt({},e),{},{[t.descriptor.id]:t});const Lo=e=>{let{previousImpact:t,impact:r,droppables:n}=e;const a=So(t),s=So(r);if(!a)return n;if(a===s)return n;const o=n[a];if(!o.subject.withPlaceholder)return n;const i=(e=>{const t=e.subject.withPlaceholder;t||os();const r=e.frame;if(!r){const t=_s({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return Vt(Vt({},e),{},{subject:t})}const n=t.oldFrameMaxScroll;n||os();const a=ko(r,n),s=_s({page:e.subject.page,axis:e.axis,frame:a,withPlaceholder:null});return Vt(Vt({},e),{},{subject:s,frame:a})})(o);return Ro(n,i)};var Io=e=>{let{state:t,clientSelection:r,dimensions:n,viewport:a,impact:s,scrollJumpRequest:o}=e;const i=a||t.viewport,l=n||t.dimensions,c=r||t.current.client.selection,d=ws(c,t.initial.client.selection),u={offset:d,selection:c,borderBoxCenter:bs(t.initial.client.borderBoxCenter,d)},h={selection:bs(u.selection,i.scroll.current),borderBoxCenter:bs(u.borderBoxCenter,i.scroll.current),offset:bs(u.offset,i.scroll.diff.value)},p={client:u,page:h};if("COLLECTING"===t.phase)return Vt(Vt({},t),{},{dimensions:l,viewport:i,current:p});const m=l.draggables[t.critical.draggable.id],f=s||Do({pageOffset:h.offset,draggable:m,draggables:l.draggables,droppables:l.droppables,previousImpact:t.impact,viewport:i,afterCritical:t.afterCritical}),g=(e=>{let{draggable:t,draggables:r,droppables:n,previousImpact:a,impact:s}=e;const o=Lo({previousImpact:a,impact:s,droppables:n}),i=So(s);if(!i)return o;const l=n[i];if(Vs(t,l))return o;if(l.subject.withPlaceholder)return o;const c=jo(l,t,r);return Ro(o,c)})({draggable:m,impact:f,previousImpact:t.impact,draggables:l.draggables,droppables:l.droppables});return Vt(Vt({},t),{},{current:p,dimensions:{draggables:l.draggables,droppables:g},impact:f,viewport:i,scrollJumpRequest:o||null,forceShouldAnimate:!o&&null})};var Oo=e=>{let{impact:t,viewport:r,draggables:n,destination:a,forceShouldAnimate:s}=e;const o=t.displaced,i=function(e,t){return e.map((e=>t[e]))}(o.all,n),l=Zs({afterDragging:i,destination:a,displacedBy:t.displacedBy,viewport:r.frame,forceShouldAnimate:s,last:o});return Vt(Vt({},t),{},{displaced:l})},Mo=e=>{let{impact:t,draggable:r,droppable:n,draggables:a,viewport:s,afterCritical:o}=e;const i=ho({impact:t,draggable:r,draggables:a,droppable:n,afterCritical:o});return fo({pageBorderBoxCenter:i,draggable:r,viewport:s})},Fo=e=>{let{state:t,dimensions:r,viewport:n}=e;"SNAP"!==t.movementMode&&os();const a=t.impact,s=n||t.viewport,o=r||t.dimensions,{draggables:i,droppables:l}=o,c=i[t.critical.draggable.id],d=So(a);d||os();const u=l[d],h=Oo({impact:a,viewport:s,destination:u,draggables:i}),p=Mo({impact:h,draggable:c,droppable:u,draggables:i,viewport:s,afterCritical:t.afterCritical});return Io({impact:h,clientSelection:p,state:t,dimensions:o,viewport:s})},Bo=e=>{let{draggable:t,home:r,draggables:n,viewport:a}=e;const s=wo(r.axis,t.displaceBy),o=Fs(r.descriptor.id,n),i=o.indexOf(t);-1===i&&os();const l=o.slice(i+1),c=l.reduce(((e,t)=>(e[t.descriptor.id]=!0,e)),{}),d={inVirtualList:"virtual"===r.descriptor.mode,displacedBy:s,effected:c};var u;return{impact:{displaced:Zs({afterDragging:l,destination:r,displacedBy:s,last:null,viewport:a.frame,forceShouldAnimate:!1}),displacedBy:s,at:{type:"REORDER",destination:(u=t.descriptor,{index:u.index,droppableId:u.droppableId})}},afterCritical:d}};const Uo=e=>{0},zo=e=>{0};var Vo=e=>{let{additions:t,updatedDroppables:r,viewport:n}=e;const a=n.scroll.diff.value;return t.map((e=>{const t=e.descriptor.droppableId,s=(e=>{const t=e.frame;return t||os(),t})(r[t]),o=s.scroll.diff.value,i=(e=>{let{draggable:t,offset:r,initialWindowScroll:n}=e;const a=Ya(t.client,r),s=Xa(a,n);return Vt(Vt({},t),{},{placeholder:Vt(Vt({},t.placeholder),{},{client:a}),client:a,page:s})})({draggable:e,offset:bs(a,o),initialWindowScroll:n.scroll.initial});return i}))};const Wo=e=>"SNAP"===e.movementMode,Ho=(e,t,r)=>{const n=((e,t)=>({draggables:e.draggables,droppables:Ro(e.droppables,t)}))(e.dimensions,t);return!Wo(e)||r?Io({state:e,dimensions:n}):Fo({state:e,dimensions:n})};function qo(e){return e.isDragging&&"SNAP"===e.movementMode?Vt(Vt({},e),{},{scrollJumpRequest:null}):e}const Go={phase:"IDLE",completed:null,shouldFlush:!1};var Ko=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Go,t=arguments.length>1?arguments[1]:void 0;if("FLUSH"===t.type)return Vt(Vt({},Go),{},{shouldFlush:!0});if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&os();const{critical:r,clientSelection:n,viewport:a,dimensions:s,movementMode:o}=t.payload,i=s.draggables[r.draggable.id],l=s.droppables[r.droppable.id],c={selection:n,borderBoxCenter:i.client.borderBox.center,offset:vs},d={client:c,page:{selection:bs(c.selection,a.scroll.initial),borderBoxCenter:bs(c.selection,a.scroll.initial),offset:bs(c.selection,a.scroll.diff.value)}},u=Os(s.droppables).every((e=>!e.isFixedOnPage)),{impact:h,afterCritical:p}=Bo({draggable:i,home:l,draggables:s.draggables,viewport:a});return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:o,dimensions:s,initial:d,current:d,isWindowScrollAllowed:u,impact:h,afterCritical:p,onLiftImpact:h,viewport:a,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&os();return Vt(Vt({},e),{},{phase:"COLLECTING"})}if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&os(),(e=>{let{state:t,published:r}=e;Uo();const n=r.modified.map((e=>{const r=t.dimensions.droppables[e.droppableId];return Ds(r,e.scroll)})),a=Vt(Vt({},t.dimensions.droppables),Ls(n)),s=Is(Vo({additions:r.additions,updatedDroppables:a,viewport:t.viewport})),o=Vt(Vt({},t.dimensions.draggables),s);r.removals.forEach((e=>{delete o[e]}));const i={droppables:a,draggables:o},l=So(t.impact),c=l?i.droppables[l]:null,d=i.draggables[t.critical.draggable.id],u=i.droppables[t.critical.droppable.id],{impact:h,afterCritical:p}=Bo({draggable:d,home:u,draggables:o,viewport:t.viewport}),m=c&&c.isCombineEnabled?t.impact:h,f=Do({pageOffset:t.current.page.offset,draggable:i.draggables[t.critical.draggable.id],draggables:i.draggables,droppables:i.droppables,previousImpact:m,viewport:t.viewport,afterCritical:p});zo();const g=Vt(Vt({},t),{},{phase:"DRAGGING",impact:f,onLiftImpact:h,dimensions:i,afterCritical:p,forceShouldAnimate:!1});return"COLLECTING"===t.phase?g:Vt(Vt({},g),{},{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1})})({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;Eo(e)||os();const{client:r}=t.payload;return ks(r,e.current.client.selection)?e:Io({state:e,clientSelection:r,impact:Wo(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return qo(e);if("COLLECTING"===e.phase)return qo(e);Eo(e)||os();const{id:r,newScroll:n}=t.payload,a=e.dimensions.droppables[r];if(!a)return e;const s=Ds(a,n);return Ho(e,s,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Eo(e)||os();const{id:r,isEnabled:n}=t.payload,a=e.dimensions.droppables[r];a||os(),a.isEnabled===n&&os();const s=Vt(Vt({},a),{},{isEnabled:n});return Ho(e,s,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Eo(e)||os();const{id:r,isCombineEnabled:n}=t.payload,a=e.dimensions.droppables[r];a||os(),a.isCombineEnabled===n&&os();const s=Vt(Vt({},a),{},{isCombineEnabled:n});return Ho(e,s,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;Eo(e)||os(),e.isWindowScrollAllowed||os();const r=t.payload.newScroll;if(ks(e.viewport.scroll.current,r))return qo(e);const n=po(e.viewport,r);return Wo(e)?Fo({state:e,viewport:n}):Io({state:e,viewport:n})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!Eo(e))return e;const r=t.payload.maxScroll;if(ks(r,e.viewport.scroll.max))return e;const n=Vt(Vt({},e.viewport),{},{scroll:Vt(Vt({},e.viewport.scroll),{},{max:r})});return Vt(Vt({},e),{},{viewport:n})}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&os();const r=Co({state:e,type:t.type});return r?Io({state:e,impact:r.impact,clientSelection:r.clientSelection,scrollJumpRequest:r.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){const r=t.payload.reason;"COLLECTING"!==e.phase&&os();return Vt(Vt({},e),{},{phase:"DROP_PENDING",isWaiting:!0,reason:r})}if("DROP_ANIMATE"===t.type){const{completed:r,dropDuration:n,newHomeClientOffset:a}=t.payload;"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&os();return{phase:"DROP_ANIMATING",completed:r,dropDuration:n,newHomeClientOffset:a,dimensions:e.dimensions}}if("DROP_COMPLETE"===t.type){const{completed:e}=t.payload;return{phase:"IDLE",completed:e,shouldFlush:!1}}return e};function $o(e,t){return e instanceof Object&&"type"in e&&e.type===t}const Yo=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),Xo=()=>({type:"COLLECTION_STARTING",payload:null}),Qo=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),Jo=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),Zo=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),ei=e=>({type:"MOVE",payload:e}),ti=()=>({type:"MOVE_UP",payload:null}),ri=()=>({type:"MOVE_DOWN",payload:null}),ni=()=>({type:"MOVE_RIGHT",payload:null}),ai=()=>({type:"MOVE_LEFT",payload:null}),si=e=>({type:"DROP_COMPLETE",payload:e}),oi=e=>({type:"DROP",payload:e}),ii=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});const li="cubic-bezier(0.2, 0, 0, 1)",ci="cubic-bezier(.2,1,.1,1)",di={drop:0,combining:.7},ui={drop:.75},hi={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},pi="".concat(hi.outOfTheWay,"s ").concat(li),mi={fluid:"opacity ".concat(pi),snap:"transform ".concat(pi,", opacity ").concat(pi),drop:e=>{const t="".concat(e,"s ").concat(ci);return"transform ".concat(t,", opacity ").concat(t)},outOfTheWay:"transform ".concat(pi),placeholder:"height ".concat(pi,", width ").concat(pi,", margin ").concat(pi)},fi=e=>ks(e,vs)?void 0:"translate(".concat(e.x,"px, ").concat(e.y,"px)"),gi=fi,yi=(e,t)=>{const r=fi(e);if(r)return t?"".concat(r," scale(").concat(ui.drop,")"):r},{minDropTime:xi,maxDropTime:vi}=hi,bi=vi-xi;const wi=e=>{let{getState:t,dispatch:r}=e;return e=>n=>{if(!$o(n,"DROP"))return void e(n);const a=t(),s=n.payload.reason;if("COLLECTING"===a.phase)return void r((e=>({type:"DROP_PENDING",payload:e}))({reason:s}));if("IDLE"===a.phase)return;"DROP_PENDING"===a.phase&&a.isWaiting&&os(),"DRAGGING"!==a.phase&&"DROP_PENDING"!==a.phase&&os();const o=a.critical,i=a.dimensions,l=i.draggables[a.critical.draggable.id],{impact:c,didDropInsideDroppable:d}=(e=>{let{draggables:t,reason:r,lastImpact:n,home:a,viewport:s,onLiftImpact:o}=e;if(!n.at||"DROP"!==r)return{impact:Oo({draggables:t,impact:o,destination:a,viewport:s,forceShouldAnimate:!0}),didDropInsideDroppable:!1};return"REORDER"===n.at.type?{impact:n,didDropInsideDroppable:!0}:{impact:Vt(Vt({},n),{},{displaced:Hs}),didDropInsideDroppable:!0}})({reason:s,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),u=d?Bs(c):null,h=d?Us(c):null,p={index:o.draggable.index,droppableId:o.droppable.id},m={draggableId:l.descriptor.id,type:l.descriptor.type,source:p,reason:s,mode:a.movementMode,destination:u,combine:h},f=(e=>{let{impact:t,draggable:r,dimensions:n,viewport:a,afterCritical:s}=e;const{draggables:o,droppables:i}=n,l=So(t),c=l?i[l]:null,d=i[r.descriptor.droppableId],u=Mo({impact:t,draggable:r,draggables:o,afterCritical:s,droppable:c||d,viewport:a});return ws(u,r.client.borderBox.center)})({impact:c,draggable:l,dimensions:i,viewport:a.viewport,afterCritical:a.afterCritical}),g={critical:a.critical,afterCritical:a.afterCritical,result:m,impact:c};if(!(!ks(a.current.client.offset,f)||Boolean(m.combine)))return void r(si({completed:g}));const y=(e=>{let{current:t,destination:r,reason:n}=e;const a=Ss(t,r);if(a<=0)return xi;if(a>=1500)return vi;const s=xi+bi*(a/1500);return Number(("CANCEL"===n?.6*s:s).toFixed(2))})({current:a.current.client.offset,destination:f,reason:s});r((e=>({type:"DROP_ANIMATE",payload:e}))({newHomeClientOffset:f,dropDuration:y,completed:g}))}};var ki=()=>({x:window.pageXOffset,y:window.pageYOffset});function ji(e){let{onWindowScroll:t}=e;const r=Za((function(){t(ki())})),n=function(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}(r);let a=rs;function s(){return a!==rs}return{start:function(){s()&&os(),a=ns(window,[n])},stop:function(){s()||os(),r.cancel(),a(),a=rs},isActive:s}}const Ni=e=>{const t=ji({onWindowScroll:t=>{e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return e=>r=>{!t.isActive()&&$o(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&(e=>$o(e,"DROP_COMPLETE")||$o(e,"DROP_ANIMATE")||$o(e,"FLUSH"))(r)&&t.stop(),e(r)}};var Si=()=>{const e=[];return{add:t=>{const r=setTimeout((()=>(t=>{const r=e.findIndex((e=>e.timerId===t));-1===r&&os();const[n]=e.splice(r,1);n.callback()})(r))),n={timerId:r,callback:t};e.push(n)},flush:()=>{if(!e.length)return;const t=[...e];e.length=0,t.forEach((e=>{clearTimeout(e.timerId),e.callback()}))}}};const Ci=(e,t)=>{Uo(),t(),zo()},Ei=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function Pi(e,t,r,n){if(!e)return void r(n(t));const a=(e=>{let t=!1,r=!1;const n=setTimeout((()=>{r=!0})),a=a=>{t||r||(t=!0,e(a),clearTimeout(n))};return a.wasCalled=()=>t,a})(r);e(t,{announce:a}),a.wasCalled()||r(n(t))}var Ai=(e,t)=>{const r=((e,t)=>{const r=Si();let n=null;const a=r=>{n||os(),n=null,Ci(0,(()=>Pi(e().onDragEnd,r,t,fs)))};return{beforeCapture:(t,r)=>{n&&os(),Ci(0,(()=>{const n=e().onBeforeCapture;n&&n({draggableId:t,mode:r})}))},beforeStart:(t,r)=>{n&&os(),Ci(0,(()=>{const n=e().onBeforeDragStart;n&&n(Ei(t,r))}))},start:(a,s)=>{n&&os();const o=Ei(a,s);n={mode:s,lastCritical:a,lastLocation:o.source,lastCombine:null},r.add((()=>{Ci(0,(()=>Pi(e().onDragStart,o,t,ps)))}))},update:(a,s)=>{const o=Bs(s),i=Us(s);n||os();const l=!((e,t)=>{if(e===t)return!0;const r=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,n=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return r&&n})(a,n.lastCritical);l&&(n.lastCritical=a);const c=(u=o,!(null==(d=n.lastLocation)&&null==u||null!=d&&null!=u&&d.droppableId===u.droppableId&&d.index===u.index));var d,u;c&&(n.lastLocation=o);const h=!((e,t)=>null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId)(n.lastCombine,i);if(h&&(n.lastCombine=i),!l&&!c&&!h)return;const p=Vt(Vt({},Ei(a,n.mode)),{},{combine:i,destination:o});r.add((()=>{Ci(0,(()=>Pi(e().onDragUpdate,p,t,ms)))}))},flush:()=>{n||os(),r.flush()},drop:a,abort:()=>{if(!n)return;const e=Vt(Vt({},Ei(n.lastCritical,n.mode)),{},{combine:null,destination:null,reason:"CANCEL"});a(e)}}})(e,t);return e=>t=>n=>{if($o(n,"BEFORE_INITIAL_CAPTURE"))return void r.beforeCapture(n.payload.draggableId,n.payload.movementMode);if($o(n,"INITIAL_PUBLISH")){const e=n.payload.critical;return r.beforeStart(e,n.payload.movementMode),t(n),void r.start(e,n.payload.movementMode)}if($o(n,"DROP_COMPLETE")){const e=n.payload.completed.result;return r.flush(),t(n),void r.drop(e)}if(t(n),$o(n,"FLUSH"))return void r.abort();const a=e.getState();"DRAGGING"===a.phase&&r.update(a.critical,a.impact)}};const Ti=e=>t=>r=>{if(!$o(r,"DROP_ANIMATION_FINISHED"))return void t(r);const n=e.getState();"DROP_ANIMATING"!==n.phase&&os(),e.dispatch(si({completed:n.completed}))},_i=e=>{let t=null,r=null;return n=>a=>{if(($o(a,"FLUSH")||$o(a,"DROP_COMPLETE")||$o(a,"DROP_ANIMATION_FINISHED"))&&(r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)),n(a),!$o(a,"DROP_ANIMATE"))return;const s={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};r=requestAnimationFrame((()=>{r=null,t=ns(window,[s])}))}};var Di=e=>t=>r=>n=>{if((e=>$o(e,"DROP_COMPLETE")||$o(e,"DROP_ANIMATE")||$o(e,"FLUSH"))(n))return e.stop(),void r(n);if($o(n,"INITIAL_PUBLISH")){r(n);const a=t.getState();return"DRAGGING"!==a.phase&&os(),void e.start(a)}r(n),e.scroll(t.getState())};const Ri=e=>t=>r=>{if(t(r),!$o(r,"PUBLISH_WHILE_DRAGGING"))return;const n=e.getState();"DROP_PENDING"===n.phase&&(n.isWaiting||e.dispatch(oi({reason:n.reason})))},Li=zn;var Ii=e=>{let{dimensionMarshal:t,focusMarshal:r,styleMarshal:n,getResponders:a,announce:s,autoScroller:o}=e;return Fn(Ko,Li(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>(r,n)=>{const a=e(r,n);let s=()=>{throw new Error(Rn(15))};const o={getState:a.getState,dispatch:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return s(e,...r)}},i=t.map((e=>e(o)));return s=zn(...i)(a.dispatch),Vt(Vt({},a),{},{dispatch:s})}}((i=n,()=>e=>t=>{$o(t,"INITIAL_PUBLISH")&&i.dragging(),$o(t,"DROP_ANIMATE")&&i.dropping(t.payload.completed.result.reason),($o(t,"FLUSH")||$o(t,"DROP_COMPLETE"))&&i.resting(),e(t)}),(e=>()=>t=>r=>{($o(r,"DROP_COMPLETE")||$o(r,"FLUSH")||$o(r,"DROP_ANIMATE"))&&e.stopPublishing(),t(r)})(t),(e=>t=>{let{getState:r,dispatch:n}=t;return t=>a=>{if(!$o(a,"LIFT"))return void t(a);const{id:s,clientSelection:o,movementMode:i}=a.payload,l=r();"DROP_ANIMATING"===l.phase&&n(si({completed:l.completed})),"IDLE"!==r().phase&&os(),n({type:"FLUSH",payload:null}),n({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:s,movementMode:i}});const c={draggableId:s,scrollOptions:{shouldPublishImmediately:"SNAP"===i}},{critical:d,dimensions:u,viewport:h}=e.startPublishing(c);n({type:"INITIAL_PUBLISH",payload:{critical:d,dimensions:u,clientSelection:o,movementMode:i,viewport:h}})}})(t),wi,Ti,_i,Ri,Di(o),Ni,(e=>{let t=!1;return()=>r=>n=>{if($o(n,"INITIAL_PUBLISH"))return t=!0,e.tryRecordFocus(n.payload.critical.draggable.id),r(n),void e.tryRestoreFocusRecorded();if(r(n),t){if($o(n,"FLUSH"))return t=!1,void e.tryRestoreFocusRecorded();if($o(n,"DROP_COMPLETE")){t=!1;const r=n.payload.completed.result;r.combine&&e.tryShiftRecord(r.draggableId,r.combine.draggableId),e.tryRestoreFocusRecorded()}}}})(r),Ai(a,s))));var i};var Oi=e=>{let{scrollHeight:t,scrollWidth:r,height:n,width:a}=e;const s=ws({x:r,y:t},{x:a,y:n});return{x:Math.max(0,s.x),y:Math.max(0,s.y)}},Mi=()=>{const e=document.documentElement;return e||os(),e},Fi=()=>{const e=Mi();return Oi({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},Bi=e=>{let{critical:t,scrollOptions:r,registry:n}=e;Uo();const a=(()=>{const e=ki(),t=Fi(),r=e.y,n=e.x,a=Mi(),s=a.clientWidth,o=a.clientHeight;return{frame:Wa({top:r,left:n,right:n+s,bottom:r+o}),scroll:{initial:e,current:e,max:t,diff:{value:vs,displacement:vs}}}})(),s=a.scroll.current,o=t.droppable,i=n.droppable.getAllByType(o.type).map((e=>e.callbacks.getDimensionAndWatchScroll(s,r))),l=n.draggable.getAllByType(t.draggable.type).map((e=>e.getDimension(s))),c={draggables:Is(l),droppables:Ls(i)};zo();return{dimensions:c,critical:t,viewport:a}};function Ui(e,t,r){if(r.descriptor.id===t.id)return!1;if(r.descriptor.type!==t.type)return!1;return"virtual"===e.droppable.getById(r.descriptor.droppableId).descriptor.mode}var zi=(e,t)=>{let r=null;const n=function(e){let{registry:t,callbacks:r}=e,n={additions:{},removals:{},modified:{}},a=null;const s=()=>{a||(r.collectionStarting(),a=requestAnimationFrame((()=>{a=null,Uo();const{additions:e,removals:s,modified:o}=n,i=Object.keys(e).map((e=>t.draggable.getById(e).getDimension(vs))).sort(((e,t)=>e.descriptor.index-t.descriptor.index)),l=Object.keys(o).map((e=>({droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}))),c={additions:i,removals:Object.keys(s),modified:l};n={additions:{},removals:{},modified:{}},zo(),r.publish(c)})))};return{add:e=>{const t=e.descriptor.id;n.additions[t]=e,n.modified[e.descriptor.droppableId]=!0,n.removals[t]&&delete n.removals[t],s()},remove:e=>{const t=e.descriptor;n.removals[t.id]=!0,n.modified[t.droppableId]=!0,n.additions[t.id]&&delete n.additions[t.id],s()},stop:()=>{a&&(cancelAnimationFrame(a),a=null,n={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),a=t=>{r||os();const a=r.critical.draggable;"ADDITION"===t.type&&Ui(e,a,t.value)&&n.add(t.value),"REMOVAL"===t.type&&Ui(e,a,t.value)&&n.remove(t.value)},s={updateDroppableIsEnabled:(n,a)=>{e.droppable.exists(n)||os(),r&&t.updateDroppableIsEnabled({id:n,isEnabled:a})},updateDroppableIsCombineEnabled:(n,a)=>{r&&(e.droppable.exists(n)||os(),t.updateDroppableIsCombineEnabled({id:n,isCombineEnabled:a}))},scrollDroppable:(t,n)=>{r&&e.droppable.getById(t).callbacks.scroll(n)},updateDroppableScroll:(n,a)=>{r&&(e.droppable.exists(n)||os(),t.updateDroppableScroll({id:n,newScroll:a}))},startPublishing:t=>{r&&os();const n=e.draggable.getById(t.draggableId),s=e.droppable.getById(n.descriptor.droppableId),o={draggable:n.descriptor,droppable:s.descriptor},i=e.subscribe(a);return r={critical:o,unsubscribe:i},Bi({critical:o,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:()=>{if(!r)return;n.stop();const t=r.critical.droppable;e.droppable.getAllByType(t.type).forEach((e=>e.callbacks.dragStopped())),r.unsubscribe(),r=null}};return s},Vi=(e,t)=>"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&(e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason),Wi=e=>{window.scrollBy(e.x,e.y)};const Hi=Rs((e=>Os(e).filter((e=>!!e.isEnabled&&!!e.frame))));var qi=e=>{let{center:t,destination:r,droppables:n}=e;if(r){const e=n[r];return e.frame?e:null}const a=((e,t)=>{const r=Hi(t).find((t=>(t.frame||os(),Po(t.frame.pageMarginBox)(e))))||null;return r})(t,n);return a};const Gi={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var Ki=e=>{let{startOfRange:t,endOfRange:r,current:n}=e;const a=r-t;if(0===a)return 0;return(n-t)/a},$i=e=>{let{distanceToEdge:t,thresholds:r,dragStartTime:n,shouldUseTimeDampening:a,getAutoScrollerOptions:s}=e;const o=function(e,t){const r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>Gi)();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return 1;const n=1-Ki({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),a=r.maxPixelScroll*r.ease(n);return Math.ceil(a)}(t,r,s);return 0===o?0:a?Math.max(((e,t,r)=>{const n=r(),a=n.durationDampening.accelerateAt,s=n.durationDampening.stopDampeningAt,o=t,i=s,l=Date.now()-o;if(l>=s)return e;if(l<a)return 1;const c=Ki({startOfRange:a,endOfRange:i,current:l}),d=e*n.ease(c);return Math.ceil(d)})(o,n,s),1):o},Yi=e=>{let{container:t,distanceToEdges:r,dragStartTime:n,axis:a,shouldUseTimeDampening:s,getAutoScrollerOptions:o}=e;const i=function(e,t){const r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>Gi)();return{startScrollingFrom:e[t.size]*r.startFromPercentage,maxScrollValueAt:e[t.size]*r.maxScrollAtPercentage}}(t,a,o);return r[a.end]<r[a.start]?$i({distanceToEdge:r[a.end],thresholds:i,dragStartTime:n,shouldUseTimeDampening:s,getAutoScrollerOptions:o}):-1*$i({distanceToEdge:r[a.start],thresholds:i,dragStartTime:n,shouldUseTimeDampening:s,getAutoScrollerOptions:o})};const Xi=Es((e=>0===e?0:e));var Qi=e=>{let{dragStartTime:t,container:r,subject:n,center:a,shouldUseTimeDampening:s,getAutoScrollerOptions:o}=e;const i={top:a.y-r.top,right:r.right-a.x,bottom:r.bottom-a.y,left:a.x-r.left},l=Yi({container:r,distanceToEdges:i,dragStartTime:t,axis:Ys,shouldUseTimeDampening:s,getAutoScrollerOptions:o}),c=Yi({container:r,distanceToEdges:i,dragStartTime:t,axis:Xs,shouldUseTimeDampening:s,getAutoScrollerOptions:o}),d=Xi({x:c,y:l});if(ks(d,vs))return null;const u=(e=>{let{container:t,subject:r,proposedScroll:n}=e;const a=r.height>t.height,s=r.width>t.width;return s||a?s&&a?null:{x:s?0:n.x,y:a?0:n.y}:n})({container:r,subject:n,proposedScroll:d});return u?ks(u,vs)?null:u:null};const Ji=Es((e=>0===e?0:e>0?1:-1)),Zi=(()=>{const e=(e,t)=>e<0?e:e>t?e-t:0;return t=>{let{current:r,max:n,change:a}=t;const s=bs(r,a),o={x:e(s.x,n.x),y:e(s.y,n.y)};return ks(o,vs)?null:o}})(),el=e=>{let{max:t,current:r,change:n}=e;const a={x:Math.max(r.x,t.x),y:Math.max(r.y,t.y)},s=Ji(n),o=Zi({max:a,current:r,change:s});return!o||(0!==s.x&&0===o.x||0!==s.y&&0===o.y)},tl=(e,t)=>el({current:e.scroll.current,max:e.scroll.max,change:t}),rl=(e,t)=>{const r=e.frame;return!!r&&el({current:r.scroll.current,max:r.scroll.max,change:t})};var nl=e=>{let{state:t,dragStartTime:r,shouldUseTimeDampening:n,scrollWindow:a,scrollDroppable:s,getAutoScrollerOptions:o}=e;const i=t.current.page.borderBoxCenter,l=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){const e=(e=>{let{viewport:t,subject:r,center:n,dragStartTime:a,shouldUseTimeDampening:s,getAutoScrollerOptions:o}=e;const i=Qi({dragStartTime:a,container:t.frame,subject:r,center:n,shouldUseTimeDampening:s,getAutoScrollerOptions:o});return i&&tl(t,i)?i:null})({dragStartTime:r,viewport:t.viewport,subject:l,center:i,shouldUseTimeDampening:n,getAutoScrollerOptions:o});if(e)return void a(e)}const c=qi({center:i,destination:So(t.impact),droppables:t.dimensions.droppables});if(!c)return;const d=(e=>{let{droppable:t,subject:r,center:n,dragStartTime:a,shouldUseTimeDampening:s,getAutoScrollerOptions:o}=e;const i=t.frame;if(!i)return null;const l=Qi({dragStartTime:a,container:i.pageMarginBox,subject:r,center:n,shouldUseTimeDampening:s,getAutoScrollerOptions:o});return l&&rl(t,l)?l:null})({dragStartTime:r,droppable:c,subject:l,center:i,shouldUseTimeDampening:n,getAutoScrollerOptions:o});d&&s(c.descriptor.id,d)},al=e=>{let{move:t,scrollDroppable:r,scrollWindow:n}=e;const a=(e,t)=>{if(!rl(e,t))return t;const n=((e,t)=>{const r=e.frame;return r&&rl(e,t)?Zi({current:r.scroll.current,max:r.scroll.max,change:t}):null})(e,t);if(!n)return r(e.descriptor.id,t),null;const a=ws(t,n);r(e.descriptor.id,a);return ws(t,a)},s=(e,t,r)=>{if(!e)return r;if(!tl(t,r))return r;const a=((e,t)=>{if(!tl(e,t))return null;const r=e.scroll.max,n=e.scroll.current;return Zi({current:n,max:r,change:t})})(t,r);if(!a)return n(r),null;const s=ws(r,a);n(s);return ws(r,s)};return e=>{const r=e.scrollJumpRequest;if(!r)return;const n=So(e.impact);n||os();const o=a(e.dimensions.droppables[n],r);if(!o)return;const i=e.viewport,l=s(e.isWindowScrollAllowed,i,o);l&&((e,r)=>{const n=bs(e.current.client.selection,r);t({client:n})})(e,l)}},sl=e=>{let{scrollDroppable:t,scrollWindow:r,move:n,getAutoScrollerOptions:a}=e;const s=(e=>{let{scrollWindow:t,scrollDroppable:r,getAutoScrollerOptions:n=()=>Gi}=e;const a=Za(t),s=Za(r);let o=null;const i=e=>{o||os();const{shouldUseTimeDampening:t,dragStartTime:r}=o;nl({state:e,scrollWindow:a,scrollDroppable:s,dragStartTime:r,shouldUseTimeDampening:t,getAutoScrollerOptions:n})};return{start:e=>{Uo(),o&&os();const t=Date.now();let r=!1;const a=()=>{r=!0};nl({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:a,scrollDroppable:a,getAutoScrollerOptions:n}),o={dragStartTime:t,shouldUseTimeDampening:r},zo(),r&&i(e)},stop:()=>{o&&(a.cancel(),s.cancel(),o=null)},scroll:i}})({scrollWindow:r,scrollDroppable:t,getAutoScrollerOptions:a}),o=al({move:n,scrollWindow:r,scrollDroppable:t});return{scroll:e=>{a().disabled||"DRAGGING"!==e.phase||("FLUID"!==e.movementMode?e.scrollJumpRequest&&o(e):s.scroll(e))},start:s.start,stop:s.stop}};const ol="data-rfd",il=(()=>{const e="".concat(ol,"-drag-handle");return{base:e,draggableId:"".concat(e,"-draggable-id"),contextId:"".concat(e,"-context-id")}})(),ll=(()=>{const e="".concat(ol,"-draggable");return{base:e,contextId:"".concat(e,"-context-id"),id:"".concat(e,"-id")}})(),cl=(()=>{const e="".concat(ol,"-droppable");return{base:e,contextId:"".concat(e,"-context-id"),id:"".concat(e,"-id")}})(),dl={contextId:"".concat(ol,"-scroll-container-context-id")},ul=(e,t)=>e.map((e=>{const r=e.styles[t];return r?"".concat(e.selector," { ").concat(r," }"):""})).join(" ");const hl="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?s.useLayoutEffect:s.useEffect,pl=()=>{const e=document.querySelector("head");return e||os(),e},ml=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function fl(e,t){const r=ys((()=>(e=>{const t=(r=e,e=>"[".concat(e,'="').concat(r,'"]'));var r;const n=(()=>{const e="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ";return{selector:t(il.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:e,dragging:"pointer-events: none;",dropAnimating:e}}})(),a=[(()=>{const e="\n      transition: ".concat(mi.outOfTheWay,";\n    ");return{selector:t(ll.contextId),styles:{dragging:e,dropAnimating:e,userCancel:e}}})(),n,{selector:t(cl.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:ul(a,"always"),resting:ul(a,"resting"),dragging:ul(a,"dragging"),dropAnimating:ul(a,"dropAnimating"),userCancel:ul(a,"userCancel")}})(e)),[e]),n=(0,s.useRef)(null),a=(0,s.useRef)(null),o=xs(Rs((e=>{const t=a.current;t||os(),t.textContent=e})),[]),i=xs((e=>{const t=n.current;t||os(),t.textContent=e}),[]);hl((()=>{(n.current||a.current)&&os();const s=ml(t),l=ml(t);return n.current=s,a.current=l,s.setAttribute("".concat(ol,"-always"),e),l.setAttribute("".concat(ol,"-dynamic"),e),pl().appendChild(s),pl().appendChild(l),i(r.always),o(r.resting),()=>{const e=e=>{const t=e.current;t||os(),pl().removeChild(t),e.current=null};e(n),e(a)}}),[t,i,o,r.always,r.resting,e]);const l=xs((()=>o(r.dragging)),[o,r.dragging]),c=xs((e=>{o("DROP"!==e?r.userCancel:r.dropAnimating)}),[o,r.dropAnimating,r.userCancel]),d=xs((()=>{a.current&&o(r.resting)}),[o,r.resting]);return ys((()=>({dragging:l,dropping:c,resting:d})),[l,c,d])}function gl(e,t){return Array.from(e.querySelectorAll(t))}var yl=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function xl(e){return e instanceof yl(e).HTMLElement}function vl(e,t){const r="[".concat(il.contextId,'="').concat(e,'"]'),n=gl(document,r);if(!n.length)return null;const a=n.find((e=>e.getAttribute(il.draggableId)===t));return a&&xl(a)?a:null}function bl(){const e={draggables:{},droppables:{}},t=[];function r(e){t.length&&t.forEach((t=>t(e)))}function n(t){return e.draggables[t]||null}const a={register:t=>{e.draggables[t.descriptor.id]=t,r({type:"ADDITION",value:t})},update:(t,r)=>{const n=e.draggables[r.descriptor.id];n&&n.uniqueId===t.uniqueId&&(delete e.draggables[r.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:t=>{const a=t.descriptor.id,s=n(a);s&&t.uniqueId===s.uniqueId&&(delete e.draggables[a],e.droppables[t.descriptor.droppableId]&&r({type:"REMOVAL",value:t}))},getById:function(e){const t=n(e);return t||os(),t},findById:n,exists:e=>Boolean(n(e)),getAllByType:t=>Object.values(e.draggables).filter((e=>e.descriptor.type===t))};function s(t){return e.droppables[t]||null}const o={register:t=>{e.droppables[t.descriptor.id]=t},unregister:t=>{const r=s(t.descriptor.id);r&&t.uniqueId===r.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){const t=s(e);return t||os(),t},findById:s,exists:e=>Boolean(s(e)),getAllByType:t=>Object.values(e.droppables).filter((e=>e.descriptor.type===t))};return{draggable:a,droppable:o,subscribe:function(e){return t.push(e),function(){const r=t.indexOf(e);-1!==r&&t.splice(r,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var wl=s.createContext(null),kl=()=>{const e=document.body;return e||os(),e};const jl={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};const Nl={separator:"::"};function Sl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nl;const r=s.useId();return ys((()=>"".concat(e).concat(t.separator).concat(r)),[t.separator,e,r])}var Cl=s.createContext(null);function El(e){0}function Pl(e,t){El()}function Al(){Pl()}function Tl(e){const t=(0,s.useRef)(e);return(0,s.useEffect)((()=>{t.current=e})),t}function _l(e){return"IDLE"!==e.phase&&"DROP_ANIMATING"!==e.phase&&e.isDragging}const Dl=9,Rl=13,Ll=33,Il=34,Ol=35,Ml=36,Fl={[Rl]:!0,[Dl]:!0};var Bl=e=>{Fl[e.keyCode]&&e.preventDefault()};const Ul=(()=>{const e="visibilitychange";if("undefined"===typeof document)return e;return[e,"ms".concat(e),"webkit".concat(e),"moz".concat(e),"o".concat(e)].find((e=>"on".concat(e)in document))||e})();const zl={type:"IDLE"};function Vl(e){let{cancel:t,completed:r,getPhase:n,setPhase:a}=e;return[{eventName:"mousemove",fn:e=>{const{button:t,clientX:r,clientY:s}=e;if(0!==t)return;const o={x:r,y:s},i=n();if("DRAGGING"===i.type)return e.preventDefault(),void i.actions.move(o);"PENDING"!==i.type&&os();const l=i.point;if(c=l,d=o,!(Math.abs(d.x-c.x)>=5||Math.abs(d.y-c.y)>=5))return;var c,d;e.preventDefault();const u=i.actions.fluidLift(o);a({type:"DRAGGING",actions:u})}},{eventName:"mouseup",fn:e=>{const a=n();"DRAGGING"===a.type?(e.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),r()):t()}},{eventName:"mousedown",fn:e=>{"DRAGGING"===n().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:e=>{if("PENDING"!==n().type)return 27===e.keyCode?(e.preventDefault(),void t()):void Bl(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{"PENDING"===n().type&&t()}},{eventName:"webkitmouseforcedown",fn:e=>{const r=n();"IDLE"===r.type&&os(),r.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:Ul,fn:t}]}function Wl(){}const Hl={[Il]:!0,[Ll]:!0,[Ml]:!0,[Ol]:!0};function ql(e,t){function r(){t(),e.cancel()}return[{eventName:"keydown",fn:n=>27===n.keyCode?(n.preventDefault(),void r()):32===n.keyCode?(n.preventDefault(),t(),void e.drop()):40===n.keyCode?(n.preventDefault(),void e.moveDown()):38===n.keyCode?(n.preventDefault(),void e.moveUp()):39===n.keyCode?(n.preventDefault(),void e.moveRight()):37===n.keyCode?(n.preventDefault(),void e.moveLeft()):void(Hl[n.keyCode]?n.preventDefault():Bl(n))},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:Ul,fn:r}]}const Gl={type:"IDLE"};const Kl=["input","button","textarea","select","option","optgroup","video","audio"];function $l(e,t){if(null==t)return!1;if(Kl.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return"true"===r||""===r||t!==e&&$l(e,t.parentElement)}function Yl(e,t){const r=t.target;return!!xl(r)&&$l(e,r)}var Xl=e=>Wa(e.getBoundingClientRect()).center;const Ql=(()=>{const e="matches";if("undefined"===typeof document)return e;return[e,"msMatchesSelector","webkitMatchesSelector"].find((e=>e in Element.prototype))||e})();function Jl(e,t){return null==e?null:e[Ql](t)?e:Jl(e.parentElement,t)}function Zl(e,t){return e.closest?e.closest(t):Jl(e,t)}function ec(e,t){const r=t.target;if(!((n=r)instanceof yl(n).Element))return null;var n;const a=function(e){return"[".concat(il.contextId,'="').concat(e,'"]')}(e),s=Zl(r,a);return s&&xl(s)?s:null}function tc(e){e.preventDefault()}function rc(e){let{expected:t,phase:r,isLockActive:n,shouldWarn:a}=e;return!!n()&&t===r}function nc(e){let{lockAPI:t,store:r,registry:n,draggableId:a}=e;if(t.isClaimed())return!1;const s=n.draggable.findById(a);return!!s&&(!!s.options.isEnabled&&!!Vi(r.getState(),a))}function ac(e){let{lockAPI:t,contextId:r,store:n,registry:a,draggableId:s,forceSensorStop:o,sourceEvent:i}=e;if(!nc({lockAPI:t,store:n,registry:a,draggableId:s}))return null;const l=a.draggable.getById(s),c=function(e,t){const r="[".concat(ll.contextId,'="').concat(e,'"]'),n=gl(document,r).find((e=>e.getAttribute(ll.id)===t));return n&&xl(n)?n:null}(r,l.descriptor.id);if(!c)return null;if(i&&!l.options.canDragInteractiveElements&&Yl(c,i))return null;const d=t.claim(o||rs);let u="PRE_DRAG";function h(){return l.options.shouldRespectForcePress}function p(){return t.isActive(d)}const m=function(e,t){rc({expected:e,phase:u,isLockActive:p,shouldWarn:!0})&&n.dispatch(t())}.bind(null,"DRAGGING");function f(e){function r(){t.release(),u="COMPLETED"}function a(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shouldBlockNextClick:!1};if(e.cleanup(),a.shouldBlockNextClick){const e=ns(window,[{eventName:"click",fn:tc,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(e)}r(),n.dispatch(oi({reason:t}))}return"PRE_DRAG"!==u&&(r(),os()),n.dispatch((e=>({type:"LIFT",payload:e}))(e.liftActionArgs)),u="DRAGGING",Vt({isActive:()=>rc({expected:"DRAGGING",phase:u,isLockActive:p,shouldWarn:!1}),shouldRespectForcePress:h,drop:e=>a("DROP",e),cancel:e=>a("CANCEL",e)},e.actions)}const g={isActive:()=>rc({expected:"PRE_DRAG",phase:u,isLockActive:p,shouldWarn:!1}),shouldRespectForcePress:h,fluidLift:function(e){const t=Za((e=>{m((()=>ei({client:e})))}));return Vt(Vt({},f({liftActionArgs:{id:s,clientSelection:e,movementMode:"FLUID"},cleanup:()=>t.cancel(),actions:{move:t}})),{},{move:t})},snapLift:function(){const e={moveUp:()=>m(ti),moveRight:()=>m(ni),moveDown:()=>m(ri),moveLeft:()=>m(ai)};return f({liftActionArgs:{id:s,clientSelection:Xl(c),movementMode:"SNAP"},cleanup:rs,actions:e})},abort:function(){rc({expected:"PRE_DRAG",phase:u,isLockActive:p,shouldWarn:!0})&&t.release()}};return g}const sc=[function(e){const t=(0,s.useRef)(zl),r=(0,s.useRef)(rs),n=ys((()=>({eventName:"mousedown",fn:function(t){if(t.defaultPrevented)return;if(0!==t.button)return;if(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)return;const n=e.findClosestDraggableId(t);if(!n)return;const a=e.tryGetLock(n,i,{sourceEvent:t});if(!a)return;t.preventDefault();const s={x:t.clientX,y:t.clientY};r.current(),d(a,s)}})),[e]),a=ys((()=>({eventName:"webkitmouseforcewillbegin",fn:t=>{if(t.defaultPrevented)return;const r=e.findClosestDraggableId(t);if(!r)return;const n=e.findOptionsForDraggable(r);n&&(n.shouldRespectForcePress||e.canGetLock(r)&&t.preventDefault())}})),[e]),o=xs((function(){r.current=ns(window,[a,n],{passive:!1,capture:!0})}),[a,n]),i=xs((()=>{"IDLE"!==t.current.type&&(t.current=zl,r.current(),o())}),[o]),l=xs((()=>{const e=t.current;i(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[i]),c=xs((function(){const e=Vl({cancel:l,completed:i,getPhase:()=>t.current,setPhase:e=>{t.current=e}});r.current=ns(window,e,{capture:!0,passive:!1})}),[l,i]),d=xs((function(e,r){"IDLE"!==t.current.type&&os(),t.current={type:"PENDING",point:r,actions:e},c()}),[c]);hl((function(){return o(),function(){r.current()}}),[o])},function(e){const t=(0,s.useRef)(Wl),r=ys((()=>({eventName:"keydown",fn:function(r){if(r.defaultPrevented)return;if(32!==r.keyCode)return;const a=e.findClosestDraggableId(r);if(!a)return;const s=e.tryGetLock(a,l,{sourceEvent:r});if(!s)return;r.preventDefault();let o=!0;const i=s.snapLift();function l(){o||os(),o=!1,t.current(),n()}t.current(),t.current=ns(window,ql(i,l),{capture:!0,passive:!1})}})),[e]),n=xs((function(){t.current=ns(window,[r],{passive:!1,capture:!0})}),[r]);hl((function(){return n(),function(){t.current()}}),[n])},function(e){const t=(0,s.useRef)(Gl),r=(0,s.useRef)(rs),n=xs((function(){return t.current}),[]),a=xs((function(e){t.current=e}),[]),o=ys((()=>({eventName:"touchstart",fn:function(t){if(t.defaultPrevented)return;const n=e.findClosestDraggableId(t);if(!n)return;const a=e.tryGetLock(n,l,{sourceEvent:t});if(!a)return;const s=t.touches[0],{clientX:o,clientY:i}=s,c={x:o,y:i};r.current(),h(a,c)}})),[e]),i=xs((function(){r.current=ns(window,[o],{capture:!0,passive:!1})}),[o]),l=xs((()=>{const e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),a(Gl),r.current(),i())}),[i,a]),c=xs((()=>{const e=t.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[l]),d=xs((function(){const e={capture:!0,passive:!1},t={cancel:c,completed:l,getPhase:n},a=ns(window,function(e){let{cancel:t,completed:r,getPhase:n}=e;return[{eventName:"touchmove",options:{capture:!1},fn:e=>{const r=n();if("DRAGGING"!==r.type)return void t();r.hasMoved=!0;const{clientX:a,clientY:s}=e.touches[0],o={x:a,y:s};e.preventDefault(),r.actions.move(o)}},{eventName:"touchend",fn:e=>{const a=n();"DRAGGING"===a.type?(e.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),r()):t()}},{eventName:"touchcancel",fn:e=>{"DRAGGING"===n().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:e=>{const r=n();"IDLE"===r.type&&os();const a=e.touches[0];if(!a)return;if(!(a.force>=.15))return;const s=r.actions.shouldRespectForcePress();if("PENDING"!==r.type)return s?r.hasMoved?void e.preventDefault():void t():void e.preventDefault();s&&t()}},{eventName:Ul,fn:t}]}(t),e),s=ns(window,function(e){let{cancel:t,getPhase:r}=e;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:e=>{e.preventDefault()}},{eventName:"keydown",fn:e=>{"DRAGGING"===r().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:Ul,fn:t}]}(t),e);r.current=function(){a(),s()}}),[c,n,l]),u=xs((function(){const e=n();"PENDING"!==e.type&&os();const t=e.actions.fluidLift(e.point);a({type:"DRAGGING",actions:t,hasMoved:!1})}),[n,a]),h=xs((function(e,t){"IDLE"!==n().type&&os();const r=setTimeout(u,120);a({type:"PENDING",point:t,actions:e,longPressTimerId:r}),d()}),[d,n,a,u]);hl((function(){return i(),function(){r.current();const e=n();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),a(Gl))}}),[n,i,a]),hl((function(){return ns(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])}),[])}];function oc(e){let{contextId:t,store:r,registry:n,customSensors:a,enableDefaultSensors:o}=e;const i=[...o?sc:[],...a||[]],l=(0,s.useState)((()=>function(){let e=null;function t(){e||os(),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&os();const r={abandon:t};return e=r,r},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()))[0],c=xs((function(e,t){_l(e)&&!_l(t)&&l.tryAbandon()}),[l]);hl((function(){let e=r.getState();return r.subscribe((()=>{const t=r.getState();c(e,t),e=t}))}),[l,r,c]),hl((()=>l.tryAbandon),[l.tryAbandon]);const d=xs((e=>nc({lockAPI:l,registry:n,store:r,draggableId:e})),[l,n,r]),u=xs(((e,a,s)=>ac({lockAPI:l,registry:n,contextId:t,store:r,draggableId:e,forceSensorStop:a||null,sourceEvent:s&&s.sourceEvent?s.sourceEvent:null})),[t,l,n,r]),h=xs((e=>function(e,t){const r=ec(e,t);return r?r.getAttribute(il.draggableId):null}(t,e)),[t]),p=xs((e=>{const t=n.draggable.findById(e);return t?t.options:null}),[n.draggable]),m=xs((function(){l.isClaimed()&&(l.tryAbandon(),"IDLE"!==r.getState().phase&&r.dispatch({type:"FLUSH",payload:null}))}),[l,r]),f=xs((()=>l.isClaimed()),[l]),g=ys((()=>({canGetLock:d,tryGetLock:u,findClosestDraggableId:h,findOptionsForDraggable:p,tryReleaseLock:m,isLockClaimed:f})),[d,u,h,p,m,f]);El();for(let s=0;s<i.length;s++)i[s](g)}function ic(e){return e.current||os(),e.current}function lc(e){const{contextId:t,setCallbacks:r,sensors:n,nonce:a,dragHandleUsageInstructions:o}=e,i=(0,s.useRef)(null);Al();const l=Tl(e),c=xs((()=>(e=>({onBeforeCapture:t=>{(0,we.flushSync)((()=>{e.onBeforeCapture&&e.onBeforeCapture(t)}))},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}))(l.current)),[l]),d=xs((()=>(e=>Vt(Vt(Vt({},Gi),e.autoScrollerOptions),{},{durationDampening:Vt(Vt({},Gi.durationDampening),e.autoScrollerOptions)}))(l.current)),[l]),u=function(e){const t=ys((()=>(e=>"rfd-announcement-".concat(e))(e)),[e]),r=(0,s.useRef)(null);return(0,s.useEffect)((function(){const e=document.createElement("div");return r.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),es(e.style,jl),kl().appendChild(e),function(){setTimeout((function(){const t=kl();t.contains(e)&&t.removeChild(e),e===r.current&&(r.current=null)}))}}),[t]),xs((e=>{const t=r.current;t&&(t.textContent=e)}),[])}(t),h=function(e){let{contextId:t,text:r}=e;const n=Sl("hidden-text",{separator:"-"}),a=ys((()=>function(e){let{contextId:t,uniqueId:r}=e;return"rfd-hidden-text-".concat(t,"-").concat(r)}({contextId:t,uniqueId:n})),[n,t]);return(0,s.useEffect)((function(){const e=document.createElement("div");return e.id=a,e.textContent=r,e.style.display="none",kl().appendChild(e),function(){const t=kl();t.contains(e)&&t.removeChild(e)}}),[a,r]),a}({contextId:t,text:o}),p=fl(t,a),m=xs((e=>{ic(i).dispatch(e)}),[]),f=ys((()=>Un({publishWhileDragging:Yo,updateDroppableScroll:Qo,updateDroppableIsEnabled:Jo,updateDroppableIsCombineEnabled:Zo,collectionStarting:Xo},m)),[m]),g=function(){const e=ys(bl,[]);return(0,s.useEffect)((()=>function(){e.clean()}),[e]),e}(),y=ys((()=>zi(g,f)),[g,f]),x=ys((()=>sl(Vt({scrollWindow:Wi,scrollDroppable:y.scrollDroppable,getAutoScrollerOptions:d},Un({move:ei},m)))),[y.scrollDroppable,m,d]),v=function(e){const t=(0,s.useRef)({}),r=(0,s.useRef)(null),n=(0,s.useRef)(null),a=(0,s.useRef)(!1),o=xs((function(e,r){const n={id:e,focus:r};return t.current[e]=n,function(){const r=t.current;r[e]!==n&&delete r[e]}}),[]),i=xs((function(t){const r=vl(e,t);r&&r!==document.activeElement&&r.focus()}),[e]),l=xs((function(e,t){r.current===e&&(r.current=t)}),[]),c=xs((function(){n.current||a.current&&(n.current=requestAnimationFrame((()=>{n.current=null;const e=r.current;e&&i(e)})))}),[i]),d=xs((function(e){r.current=null;const t=document.activeElement;t&&t.getAttribute(il.draggableId)===e&&(r.current=e)}),[]);return hl((()=>(a.current=!0,function(){a.current=!1;const e=n.current;e&&cancelAnimationFrame(e)})),[]),ys((()=>({register:o,tryRecordFocus:d,tryRestoreFocusRecorded:c,tryShiftRecord:l})),[o,d,c,l])}(t),b=ys((()=>Ii({announce:u,autoScroller:x,dimensionMarshal:y,focusMarshal:v,getResponders:c,styleMarshal:p})),[u,x,y,v,c,p]);i.current=b;const w=xs((()=>{const e=ic(i);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})}),[]),k=xs((()=>{const e=ic(i).getState();return"DROP_ANIMATING"===e.phase||"IDLE"!==e.phase&&e.isDragging}),[]);r(ys((()=>({isDragging:k,tryAbort:w})),[k,w]));const j=xs((e=>Vi(ic(i).getState(),e)),[]),N=xs((()=>Eo(ic(i).getState())),[]),S=ys((()=>({marshal:y,focus:v,contextId:t,canLift:j,isMovementAllowed:N,dragHandleUsageInstructionsId:h,registry:g})),[t,y,h,v,j,N,g]);return oc({contextId:t,store:b,registry:g,customSensors:n||null,enableDefaultSensors:!1!==e.enableDefaultSensors}),(0,s.useEffect)((()=>w),[w]),s.createElement(Cl.Provider,{value:S},s.createElement(za,{context:wl,store:b},e.children))}function cc(e){const t=s.useId(),r=e.dragHandleUsageInstructions||hs;return s.createElement(is,null,(n=>s.createElement(lc,{nonce:e.nonce,contextId:t,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children)))}const dc=5e3,uc=4500,hc=(e,t)=>t?mi.drop(t.duration):e?mi.snap:mi.fluid,pc=(e,t)=>{if(e)return t?di.drop:di.combining};function mc(e){return"DRAGGING"===e.type?function(e){const t=e.dimension.client,{offset:r,combineWith:n,dropping:a}=e,s=Boolean(n),o=(e=>null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode)(e),i=Boolean(a),l=i?yi(r,s):gi(r);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:hc(o,a),transform:l,opacity:pc(s,i),zIndex:i?uc:dc,pointerEvents:"none"}}(e):{transform:gi((t=e).offset),transition:t.shouldAnimateDisplacement?void 0:"none"};var t}function fc(e){const t=Sl("draggable"),{descriptor:r,registry:n,getDraggableRef:a,canDragInteractiveElements:o,shouldRespectForcePress:i,isEnabled:l}=e,c=ys((()=>({canDragInteractiveElements:o,shouldRespectForcePress:i,isEnabled:l})),[o,l,i]),d=xs((e=>{const t=a();return t||os(),function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vs;const n=window.getComputedStyle(t),a=t.getBoundingClientRect(),s=Qa(a,n),o=Xa(s,r);return{descriptor:e,placeholder:{client:s,tagName:t.tagName.toLowerCase(),display:n.display},displaceBy:{x:s.marginBox.width,y:s.marginBox.height},client:s,page:o}}(r,t,e)}),[r,a]),u=ys((()=>({uniqueId:t,descriptor:r,options:c,getDimension:d})),[r,d,c,t]),h=(0,s.useRef)(u),p=(0,s.useRef)(!0);hl((()=>(n.draggable.register(h.current),()=>n.draggable.unregister(h.current))),[n.draggable]),hl((()=>{if(p.current)return void(p.current=!1);const e=h.current;h.current=u,n.draggable.update(u,e)}),[u,n.draggable])}var gc=s.createContext(null);function yc(e){const t=(0,s.useContext)(e);return t||os(),t}function xc(e){e.preventDefault()}var vc=(e,t)=>e===t,bc=e=>{const{combine:t,destination:r}=e;return r?r.droppableId:t?t.droppableId:null};function wc(){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,combineWith:null}}const kc={mapped:{type:"SECONDARY",offset:vs,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:wc(null)}};const jc=Ua((()=>{const e=function(){const e=Rs(((e,t)=>({x:e,y:t}))),t=Rs((function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return{isDragging:!0,isClone:t,isDropAnimating:Boolean(a),dropAnimation:a,mode:e,draggingOver:r,combineWith:n,combineTargetFor:null}})),r=Rs((function(e,r,n,a){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;return{mapped:{type:"DRAGGING",dropping:null,draggingOver:s,combineWith:o,mode:r,offset:e,dimension:n,forceShouldAnimate:arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,snapshot:t(r,a,s,o,null)}}}));return(n,a)=>{if(_l(n)){if(n.critical.draggable.id!==a.draggableId)return null;const t=n.current.client.offset,o=n.dimensions.draggables[a.draggableId],i=So(n.impact),l=(s=n.impact).at&&"COMBINE"===s.at.type?s.at.combine.draggableId:null,c=n.forceShouldAnimate;return r(e(t.x,t.y),n.movementMode,o,a.isClone,i,l,c)}var s;if("DROP_ANIMATING"===n.phase){const e=n.completed;if(e.result.draggableId!==a.draggableId)return null;const r=a.isClone,s=n.dimensions.draggables[a.draggableId],o=e.result,i=o.mode,l=bc(o),c=(e=>e.combine?e.combine.draggableId:null)(o),d={duration:n.dropDuration,curve:ci,moveTo:n.newHomeClientOffset,opacity:c?di.drop:null,scale:c?ui.drop:null};return{mapped:{type:"DRAGGING",offset:n.newHomeClientOffset,dimension:s,dropping:d,draggingOver:l,combineWith:c,mode:i,forceShouldAnimate:null,snapshot:t(i,r,l,c,d)}}}return null}}(),t=function(){const e=Rs(((e,t)=>({x:e,y:t}))),t=Rs(wc),r=Rs((function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{mapped:{type:"SECONDARY",offset:e,combineTargetFor:r,shouldAnimateDisplacement:arguments.length>2?arguments[2]:void 0,snapshot:t(r)}}})),n=e=>e?r(vs,e,!0):null,a=(t,a,s,o)=>{const i=s.displaced.visible[t],l=Boolean(o.inVirtualList&&o.effected[t]),c=Us(s),d=c&&c.draggableId===t?a:null;if(!i){if(!l)return n(d);if(s.displaced.invisible[t])return null;const a=js(o.displacedBy.point),i=e(a.x,a.y);return r(i,d,!0)}if(l)return n(d);const u=s.displacedBy.point,h=e(u.x,u.y);return r(h,d,i.shouldAnimate)};return(e,t)=>{if(_l(e))return e.critical.draggable.id===t.draggableId?null:a(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){const r=e.completed;return r.result.draggableId===t.draggableId?null:a(t.draggableId,r.result.draggableId,r.impact,r.afterCritical)}return null}}();return(r,n)=>e(r,n)||t(r,n)||kc}),{dropAnimationFinished:ii},null,{context:wl,areStatePropsEqual:vc})((e=>{const t=(0,s.useRef)(null),r=xs((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t.current=e}),[]),n=xs((()=>t.current),[]),{contextId:a,dragHandleUsageInstructionsId:o,registry:i}=yc(Cl),{type:l,droppableId:c}=yc(gc),d=ys((()=>({id:e.draggableId,index:e.index,type:l,droppableId:c})),[e.draggableId,e.index,l,c]),{children:u,draggableId:h,isEnabled:p,shouldRespectForcePress:m,canDragInteractiveElements:f,isClone:g,mapped:y,dropAnimationFinished:x}=e;if(Pl(),El(),!g){fc(ys((()=>({descriptor:d,registry:i,getDraggableRef:n,canDragInteractiveElements:f,shouldRespectForcePress:m,isEnabled:p})),[d,i,n,f,m,p]))}const v=ys((()=>p?{tabIndex:0,role:"button","aria-describedby":o,"data-rfd-drag-handle-draggable-id":h,"data-rfd-drag-handle-context-id":a,draggable:!1,onDragStart:xc}:null),[a,o,h,p]),b=xs((e=>{"DRAGGING"===y.type&&y.dropping&&"transform"===e.propertyName&&(0,we.flushSync)(x)}),[x,y]),w=ys((()=>{const e=mc(y),t="DRAGGING"===y.type&&y.dropping?b:void 0;return{innerRef:r,draggableProps:{"data-rfd-draggable-context-id":a,"data-rfd-draggable-id":h,style:e,onTransitionEnd:t},dragHandleProps:v}}),[a,v,h,y,b,r]),k=ys((()=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}})),[d.droppableId,d.id,d.index,d.type]);return s.createElement(s.Fragment,null,u(w,y.snapshot,k))}));function Nc(e){return yc(gc).isUsingCloneFor!==e.draggableId||e.isClone?s.createElement(jc,e):null}function Sc(e){const t="boolean"!==typeof e.isDragDisabled||!e.isDragDisabled,r=Boolean(e.disableInteractiveElementBlocking),n=Boolean(e.shouldRespectForcePress);return s.createElement(Nc,es({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:n}))}const Cc=e=>t=>e===t,Ec=Cc("scroll"),Pc=Cc("auto"),Ac=(Cc("visible"),(e,t)=>t(e.overflowX)||t(e.overflowY)),Tc=e=>{const t=window.getComputedStyle(e),r={overflowX:t.overflowX,overflowY:t.overflowY};return Ac(r,Ec)||Ac(r,Pc)},_c=e=>null==e||e===document.body||e===document.documentElement?null:Tc(e)?e:_c(e.parentElement);var Dc=e=>({x:e.scrollLeft,y:e.scrollTop});const Rc=e=>{if(!e)return!1;return"fixed"===window.getComputedStyle(e).position||Rc(e.parentElement)};var Lc=e=>{let{ref:t,descriptor:r,env:n,windowScroll:a,direction:s,isDropDisabled:o,isCombineEnabled:i,shouldClipSubject:l}=e;const c=n.closestScrollable,d=((e,t)=>{const r=Ja(e);if(!t)return r;if(e!==t)return r;const n=r.paddingBox.top-t.scrollTop,a=r.paddingBox.left-t.scrollLeft,s=n+t.scrollHeight,o=a+t.scrollWidth,i=Ha({top:n,right:o,bottom:s,left:a},r.border);return Ka({borderBox:i,margin:r.margin,border:r.border,padding:r.padding})})(t,c),u=Xa(d,a),h=(()=>{if(!c)return null;const e=Ja(c),t={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:e,page:Xa(e,a),scroll:Dc(c),scrollSize:t,shouldClipSubject:l}})(),p=(e=>{let{descriptor:t,isEnabled:r,isCombineEnabled:n,isFixedOnPage:a,direction:s,client:o,page:i,closest:l}=e;const c=(()=>{if(!l)return null;const{scrollSize:e,client:t}=l,r=Oi({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:r,diff:{value:vs,displacement:vs}}}})(),d="vertical"===s?Ys:Xs;return{descriptor:t,isCombineEnabled:n,isFixedOnPage:a,axis:d,isEnabled:r,client:o,page:i,frame:c,subject:_s({page:i,withPlaceholder:null,axis:d,frame:c})}})({descriptor:r,isEnabled:!o,isCombineEnabled:i,isFixedOnPage:n.isFixedOnPage,direction:s,client:d,page:u,closest:h});return p};const Ic={passive:!1},Oc={passive:!0};var Mc=e=>e.shouldPublishImmediately?Ic:Oc;const Fc=e=>e&&e.env.closestScrollable||null;function Bc(e){const t=(0,s.useRef)(null),r=yc(Cl),n=Sl("droppable"),{registry:a,marshal:o}=r,i=Tl(e),l=ys((()=>({id:e.droppableId,type:e.type,mode:e.mode})),[e.droppableId,e.mode,e.type]),c=(0,s.useRef)(l),d=ys((()=>Rs(((e,r)=>{t.current||os();const n={x:e,y:r};o.updateDroppableScroll(l.id,n)}))),[l.id,o]),u=xs((()=>{const e=t.current;return e&&e.env.closestScrollable?Dc(e.env.closestScrollable):vs}),[]),h=xs((()=>{const e=u();d(e.x,e.y)}),[u,d]),p=ys((()=>Za(h)),[h]),m=xs((()=>{const e=t.current,r=Fc(e);e&&r||os();e.scrollOptions.shouldPublishImmediately?h():p()}),[p,h]),f=xs(((e,n)=>{t.current&&os();const a=i.current,s=a.getDroppableRef();s||os();const o=(e=>({closestScrollable:_c(e),isFixedOnPage:Rc(e)}))(s),c={ref:s,descriptor:l,env:o,scrollOptions:n};t.current=c;const d=Lc({ref:s,descriptor:l,env:o,windowScroll:e,direction:a.direction,isDropDisabled:a.isDropDisabled,isCombineEnabled:a.isCombineEnabled,shouldClipSubject:!a.ignoreContainerClipping}),u=o.closestScrollable;return u&&(u.setAttribute(dl.contextId,r.contextId),u.addEventListener("scroll",m,Mc(c.scrollOptions))),d}),[r.contextId,l,m,i]),g=xs((()=>{const e=t.current,r=Fc(e);return e&&r||os(),Dc(r)}),[]),y=xs((()=>{const e=t.current;e||os();const r=Fc(e);t.current=null,r&&(p.cancel(),r.removeAttribute(dl.contextId),r.removeEventListener("scroll",m,Mc(e.scrollOptions)))}),[m,p]),x=xs((e=>{const r=t.current;r||os();const n=Fc(r);n||os(),n.scrollTop+=e.y,n.scrollLeft+=e.x}),[]),v=ys((()=>({getDimensionAndWatchScroll:f,getScrollWhileDragging:g,dragStopped:y,scroll:x})),[y,f,g,x]),b=ys((()=>({uniqueId:n,descriptor:l,callbacks:v})),[v,l,n]);hl((()=>(c.current=b.descriptor,a.droppable.register(b),()=>{t.current&&y(),a.droppable.unregister(b)})),[v,l,y,b,o,a.droppable]),hl((()=>{t.current&&o.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)}),[e.isDropDisabled,o]),hl((()=>{t.current&&o.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)}),[e.isCombineEnabled,o])}function Uc(){}const zc={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},Vc=e=>{let{isAnimatingOpenOnMount:t,placeholder:r,animate:n}=e;const a=(e=>{let{isAnimatingOpenOnMount:t,placeholder:r,animate:n}=e;return t||"close"===n?zc:{height:r.client.borderBox.height,width:r.client.borderBox.width,margin:r.client.margin}})({isAnimatingOpenOnMount:t,placeholder:r,animate:n});return{display:r.display,boxSizing:"border-box",width:a.width,height:a.height,marginTop:a.margin.top,marginRight:a.margin.right,marginBottom:a.margin.bottom,marginLeft:a.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==n?mi.placeholder:null}};var Wc=s.memo((e=>{const t=(0,s.useRef)(null),r=xs((()=>{t.current&&(clearTimeout(t.current),t.current=null)}),[]),{animate:n,onTransitionEnd:a,onClose:o,contextId:i}=e,[l,c]=(0,s.useState)("open"===e.animate);(0,s.useEffect)((()=>l?"open"!==n?(r(),c(!1),Uc):t.current?Uc:(t.current=setTimeout((()=>{t.current=null,c(!1)})),r):Uc),[n,l,r]);const d=xs((e=>{"height"===e.propertyName&&(a(),"close"===n&&o())}),[n,o,a]),u=Vc({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return s.createElement(e.placeholder.tagName,{style:u,"data-rfd-placeholder-context-id":i,onTransitionEnd:d,ref:e.innerRef})}));class Hc extends s.PureComponent{constructor(){super(...arguments),this.state={isVisible:Boolean(this.props.on),data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{"close"===this.state.animate&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}const qc={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||os(),document.body}},Gc=e=>{let t,r=Vt({},e);for(t in qc)void 0===e[t]&&(r=Vt(Vt({},r),{},{[t]:qc[t]}));return r},Kc=(e,t)=>e===t.droppable.type,$c=(e,t)=>t.draggables[e.draggable.id],Yc=Ua((()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=Vt(Vt({},e),{},{shouldAnimatePlaceholder:!1}),r=Rs((e=>({draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}))),n=Rs(((n,a,s,o,i,l)=>{const c=i.descriptor.id;if(i.descriptor.droppableId===n){const e=l?{render:l,dragging:r(i.descriptor)}:null,t={isDraggingOver:s,draggingOverWith:s?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0};return{placeholder:i.placeholder,shouldAnimatePlaceholder:!1,snapshot:t,useClone:e}}if(!a)return t;if(!o)return e;const d={isDraggingOver:s,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:i.placeholder,shouldAnimatePlaceholder:!0,snapshot:d,useClone:null}}));return(r,a)=>{const s=Gc(a),o=s.droppableId,i=s.type,l=!s.isDropDisabled,c=s.renderClone;if(_l(r)){const e=r.critical;if(!Kc(i,e))return t;const a=$c(e,r.dimensions),s=So(r.impact)===o;return n(o,l,s,s,a,c)}if("DROP_ANIMATING"===r.phase){const e=r.completed;if(!Kc(i,e.critical))return t;const a=$c(e.critical,r.dimensions);return n(o,l,bc(e.result)===o,So(e.impact)===o,a,c)}if("IDLE"===r.phase&&r.completed&&!r.shouldFlush){const n=r.completed;if(!Kc(i,n.critical))return t;const a=So(n.impact)===o,s=Boolean(n.impact.at&&"COMBINE"===n.impact.at.type),l=n.critical.droppable.id===o;return a?s?e:t:l?e:t}return t}}),{updateViewportMaxScroll:e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e})},((e,t,r)=>Vt(Vt(Vt({},Gc(r)),e),t)),{context:wl,areStatePropsEqual:vc})((e=>{const t=(0,s.useContext)(Cl);t||os();const{contextId:r,isMovementAllowed:n}=t,a=(0,s.useRef)(null),o=(0,s.useRef)(null),{children:i,droppableId:l,type:c,mode:d,direction:u,ignoreContainerClipping:h,isDropDisabled:p,isCombineEnabled:m,snapshot:f,useClone:g,updateViewportMaxScroll:y,getContainerForClone:x}=e,v=xs((()=>a.current),[]),b=xs((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;a.current=e}),[]),w=(xs((()=>o.current),[]),xs((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;o.current=e}),[]));Pl();const k=xs((()=>{n()&&y({maxScroll:Fi()})}),[n,y]);Bc({droppableId:l,type:c,mode:d,direction:u,isDropDisabled:p,isCombineEnabled:m,ignoreContainerClipping:h,getDroppableRef:v});const j=ys((()=>s.createElement(Hc,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},(e=>{let{onClose:t,data:n,animate:a}=e;return s.createElement(Wc,{placeholder:n,onClose:t,innerRef:w,animate:a,contextId:r,onTransitionEnd:k})}))),[r,k,e.placeholder,e.shouldAnimatePlaceholder,w]),N=ys((()=>({innerRef:b,placeholder:j,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":r}})),[r,l,j,b]),S=g?g.dragging.draggableId:null,C=ys((()=>({droppableId:l,type:c,isUsingCloneFor:S})),[l,S,c]);return s.createElement(gc.Provider,{value:C},i(N,f),function(){if(!g)return null;const{dragging:e,render:t}=g,r=s.createElement(Nc,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},((r,n)=>t(r,n,e)));return we.createPortal(r,x())}())})),Xc=e=>{let{projectId:t,onClose:r,onSave:n,projectMembers:a}=e;const[o,i]=(0,s.useState)({title:"",description:"",status:"to_do",priority:"medium",assignedTo:"",dueDate:""}),[l,c]=(0,s.useState)(!1),[d,u]=(0,s.useState)(""),h=(0,s.useRef)(null),p=(0,s.useRef)(null);(0,s.useEffect)((()=>{p.current&&p.current.focus()}),[]),(0,s.useEffect)((()=>{const e=e=>{h.current&&!h.current.contains(e.target)&&e.target.classList.contains("linear-modal-overlay")&&r()};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[r]);const m=e=>{const{name:t,value:r}=e.target;i((e=>Vt(Vt({},e),{},{[t]:r})))};return(0,hn.jsxs)("div",{className:"linear-card-body pt-0",onClick:e=>{e.stopPropagation()},ref:h,children:[d&&(0,hn.jsx)("div",{className:"bg-red-50 border-red-200 p-3 rounded-md text-red-700 text-sm mb-4",children:d}),(0,hn.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),e.stopPropagation(),o.title.trim()){c(!0),u("");try{if(n)await n(o);else{await un.post("/api/projects/".concat(t,"/tasks"),o);r()}}catch(a){console.error("Error creating task:",a),u(a.message||"Failed to create task")}finally{c(!1)}}else u("Task title is required")},children:[(0,hn.jsxs)("div",{className:"mb-4",children:[(0,hn.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Title"}),(0,hn.jsx)("input",{ref:p,type:"text",name:"title",value:o.title,onChange:m,className:"linear-input w-full",placeholder:"Task title",disabled:l})]}),(0,hn.jsxs)("div",{className:"mb-4",children:[(0,hn.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Description"}),(0,hn.jsx)("textarea",{name:"description",value:o.description,onChange:m,className:"linear-input w-full",placeholder:"Task description",rows:"3",disabled:l})]}),(0,hn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,hn.jsxs)("div",{children:[(0,hn.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Status"}),(0,hn.jsxs)("select",{name:"status",value:o.status,onChange:m,className:"linear-input w-full",disabled:l,children:[(0,hn.jsx)("option",{value:"to_do",children:"To Do"}),(0,hn.jsx)("option",{value:"in_progress",children:"In Progress"}),(0,hn.jsx)("option",{value:"completed",children:"Completed"}),(0,hn.jsx)("option",{value:"backlog",children:"Backlog"})]})]}),(0,hn.jsxs)("div",{children:[(0,hn.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Priority"}),(0,hn.jsxs)("select",{name:"priority",value:o.priority,onChange:m,className:"linear-input w-full",disabled:l,children:[(0,hn.jsx)("option",{value:"low",children:"Low"}),(0,hn.jsx)("option",{value:"medium",children:"Medium"}),(0,hn.jsx)("option",{value:"high",children:"High"})]})]})]}),(0,hn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,hn.jsxs)("div",{children:[(0,hn.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Assigned To"}),(0,hn.jsxs)("select",{name:"assignedTo",value:o.assignedTo,onChange:m,className:"linear-input w-full",disabled:l,children:[(0,hn.jsx)("option",{value:"",children:"Unassigned"}),a.map((e=>(0,hn.jsx)("option",{value:e._id,children:e.displayName||e.email},e._id)))]})]}),(0,hn.jsxs)("div",{children:[(0,hn.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Due Date"}),(0,hn.jsx)("input",{type:"date",name:"dueDate",value:o.dueDate,onChange:m,className:"linear-input w-full",disabled:l})]})]}),(0,hn.jsxs)("div",{className:"linear-card-footer flex justify-end space-x-3",children:[(0,hn.jsx)("button",{type:"button",onClick:e=>{e.stopPropagation(),r()},className:"linear-btn linear-btn-secondary",disabled:l,children:"Cancel"}),(0,hn.jsx)("button",{type:"submit",className:"linear-btn linear-btn-primary",disabled:l,children:l?"Creating...":"Create Task"})]})]})]})},Qc=e=>{let{project:t,onTaskUpdate:n}=e;const{createTask:a,updateTask:o,deleteTask:i}=(0,s.useContext)(En),{user:l}=(0,s.useContext)(pn),[c,d]=(0,s.useState)(t.tasks||[]),[u,h]=(0,s.useState)(!1),[p,m]=(0,s.useState)(""),[f,g]=(0,s.useState)(null),[y,x]=(0,s.useState)(!1),[v,b]=(0,s.useState)("all"),[w,k]=(0,s.useState)(""),j=(0,s.useRef)(null),N=(0,s.useRef)(null),S=(0,s.useRef)(!1);(0,s.useEffect)((()=>{Promise.resolve().then(r.bind(r,104)).then((e=>{let{io:r}=e;const n=r({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:5000");N.current=n;const a=localStorage.getItem("token");if(a)try{const e=JSON.parse(atob(a.split(".")[1]));e&&e.id&&(n.emit("authenticate",{userId:e.id}),t&&t._id&&(n.emit("join:project",t._id),console.log("Joined project room: ".concat(t._id))))}catch(s){console.error("Error authenticating socket:",s)}return()=>{n&&t&&t._id&&n.emit("leave:project",t._id),n.disconnect()}}))}),[t._id]),(0,s.useEffect)((()=>{t&&t.tasks&&(d(t.tasks||[]),h(!1))}),[t]);const C=(0,s.useCallback)((()=>{j.current||(x(!0),j.current=!0,setTimeout((()=>{j.current=null}),500))}),[]);(0,s.useEffect)((()=>()=>{j.current=null}),[]);const E=c.filter((e=>{if(!e)return!1;if("all"!==v){if("completed"===v&&"completed"!==e.status)return!1;if("in_progress"===v&&"in_progress"!==e.status)return!1;if("to_do"===v&&"to_do"!==e.status)return!1}if(w){const t=w.toLowerCase();return e.title&&e.title.toLowerCase().includes(t)||e.description&&e.description.toLowerCase().includes(t)}return!0})),P=E.filter((e=>"to_do"===e.status||"backlog"===e.status)),A=E.filter((e=>"in_progress"===e.status)),T=E.filter((e=>"completed"===e.status));(0,s.useEffect)((()=>{if(N.current)return N.current.on("task:update",(e=>{var t;!S.current&&e?e.task?(d((t=>t.map((t=>t._id===e.task._id?Vt(Vt({},t),e.task):t)))),g((t=>t&&t._id===e.task._id?Vt(Vt({},t),e.task):t)),D({message:'Task "'.concat(e.task.title,'" was updated by ').concat((null===(t=e.updatedBy)||void 0===t?void 0:t.displayName)||"another user"),type:"info",duration:4e3})):e.taskId&&e.update&&(d((t=>t.map((t=>t._id===e.taskId?Vt(Vt({},t),e.update):t)))),g((t=>t&&t._id===e.taskId?Vt(Vt({},t),e.update):t)),e.automationTriggered&&e.message&&D({message:e.message,type:"info",duration:5e3})):S.current=!1})),N.current.on("task:create",(e=>{var t;e&&e.task&&(d((t=>[...t,e.task])),D({message:'New task "'.concat(e.task.title,'" was added by ').concat((null===(t=e.createdBy)||void 0===t?void 0:t.displayName)||"another user"),type:"info",duration:4e3}))})),N.current.on("task:delete",(e=>{var t;e&&e.taskId&&(d((t=>t.filter((t=>t._id!==e.taskId)))),f&&f._id===e.taskId&&g(null),D({message:"A task was deleted by ".concat((null===(t=e.deletedBy)||void 0===t?void 0:t.displayName)||"another user"),type:"info",duration:4e3}))})),N.current.on("project:automation",(e=>{e&&e.message&&D({message:e.message,type:"automation",duration:5e3})})),()=>{N.current&&(N.current.off("task:update"),N.current.off("task:create"),N.current.off("task:delete"),N.current.off("project:automation"))}}),[N.current]);const[_,D]=(0,s.useState)(null);return u?(0,hn.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,hn.jsx)("div",{className:"linear-spinner"})}):(0,hn.jsxs)("div",{className:"linear-fade-in",children:[p&&(0,hn.jsxs)("div",{className:"linear-card bg-red-50 border-red-200 mb-4 p-3 text-red-700 flex justify-between",children:[(0,hn.jsx)("p",{children:p}),(0,hn.jsx)("button",{onClick:()=>m(""),className:"text-red-500 hover:text-red-700",children:"\xd7"})]}),(0,hn.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[(0,hn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,hn.jsxs)("button",{onClick:C,className:"linear-btn linear-btn-primary flex items-center",children:[(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:(0,hn.jsx)("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Add Task"]}),(0,hn.jsxs)("div",{className:"inline-flex rounded-md shadow-sm",children:[(0,hn.jsx)("button",{onClick:()=>b("all"),className:"linear-btn ".concat("all"===v?"linear-btn-primary":"linear-btn-secondary"," rounded-r-none"),children:"All"}),(0,hn.jsx)("button",{onClick:()=>b("to_do"),className:"linear-btn ".concat("to_do"===v?"linear-btn-primary":"linear-btn-secondary"," rounded-none border-l-0 border-r-0"),children:"To Do"}),(0,hn.jsx)("button",{onClick:()=>b("in_progress"),className:"linear-btn ".concat("in_progress"===v?"linear-btn-primary":"linear-btn-secondary"," rounded-none border-r-0"),children:"In Progress"}),(0,hn.jsx)("button",{onClick:()=>b("completed"),className:"linear-btn ".concat("completed"===v?"linear-btn-primary":"linear-btn-secondary"," rounded-l-none"),children:"Completed"})]})]}),(0,hn.jsxs)("div",{className:"relative w-full md:w-64",children:[(0,hn.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-500 dark:text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,hn.jsx)("input",{type:"text",placeholder:"Search tasks...",className:"linear-input pl-9 pr-10 w-full focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:placeholder-gray-400",value:w,onChange:e=>k(e.target.value)}),w&&(0,hn.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:(0,hn.jsx)("button",{onClick:()=>k(""),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 focus:outline-none",children:(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})})]})]}),(0,hn.jsx)(cc,{onDragEnd:async e=>{const{destination:t,source:r,draggableId:a}=e;if(!t)return;if(t.droppableId===r.droppableId&&t.index===r.index)return;const s=c.find((e=>e._id===a));if(!s)return;const o=t.droppableId,i=[...c],l=c.map((e=>e._id===s._id?Vt(Vt({},e),{},{status:o}):e));d(l),S.current=!0;try{const e=localStorage.getItem("token");if(!e)return m("Authentication required. Please log in again."),d(i),void(S.current=!1);(await un.put("/api/tasks/".concat(s._id),{status:o},{headers:{Authorization:"Bearer ".concat(e)}})).data?n&&n():(m("Failed to update task status"),d(i),S.current=!1)}catch(p){var u,h;d(i),S.current=!1,console.error("Error updating task status:",p),m((null===(u=p.response)||void 0===u||null===(h=u.data)||void 0===h?void 0:h.message)||"Failed to update task status. Please try again.")}},children:(0,hn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,hn.jsxs)("div",{className:"linear-card",children:[(0,hn.jsxs)("div",{className:"linear-card-header flex items-center justify-between",children:[(0,hn.jsxs)("div",{className:"flex items-center",children:[(0,hn.jsx)("div",{className:"w-3 h-3 rounded-full bg-gray-400 mr-2"}),(0,hn.jsx)("h3",{className:"font-medium",children:"To Do"})]}),(0,hn.jsx)("span",{className:"linear-badge linear-badge-secondary",children:P.length})]}),(0,hn.jsx)(Yc,{droppableId:"to_do",children:e=>(0,hn.jsxs)("div",Vt(Vt({ref:e.innerRef},e.droppableProps),{},{className:"linear-card-body p-2 h-[calc(100vh-280px)] overflow-y-auto",children:[P.length>0?P.map(((e,t)=>(0,hn.jsx)(Sc,{draggableId:e._id,index:t,children:t=>{var r;return(0,hn.jsx)("div",Vt(Vt(Vt({ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{className:"linear-card mb-2 cursor-pointer hover:shadow-md transition-shadow",onClick:()=>g(e),children:(0,hn.jsxs)("div",{className:"linear-card-body p-3",children:[(0,hn.jsx)("h4",{className:"text-sm font-medium mb-1",children:e.title}),e.description&&(0,hn.jsx)("p",{className:"text-xs text-gray-500 line-clamp-2 mb-3",children:e.description}),(0,hn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,hn.jsx)("span",{className:"linear-badge ".concat("high"===e.priority?"linear-badge-danger":"medium"===e.priority?"linear-badge-warning":"linear-badge-success"),children:e.priority}),e.assignedTo&&(0,hn.jsx)("div",{className:"linear-avatar linear-avatar-xs",title:e.assignedTo.displayName||"User",children:e.assignedTo.photo?(0,hn.jsx)("img",{src:e.assignedTo.photo,alt:e.assignedTo.displayName||"User"}):(0,hn.jsx)("span",{children:(null===(r=e.assignedTo.displayName)||void 0===r?void 0:r.charAt(0))||"?"})})]})]})}))}},e._id))):(0,hn.jsx)("div",{className:"text-center py-6 text-gray-500 text-sm",children:"No tasks"}),e.placeholder]}))})]}),(0,hn.jsxs)("div",{className:"linear-card",children:[(0,hn.jsxs)("div",{className:"linear-card-header flex items-center justify-between",children:[(0,hn.jsxs)("div",{className:"flex items-center",children:[(0,hn.jsx)("div",{className:"w-3 h-3 rounded-full bg-blue-500 mr-2"}),(0,hn.jsx)("h3",{className:"font-medium",children:"In Progress"})]}),(0,hn.jsx)("span",{className:"linear-badge linear-badge-secondary",children:A.length})]}),(0,hn.jsx)(Yc,{droppableId:"in_progress",children:e=>(0,hn.jsxs)("div",Vt(Vt({ref:e.innerRef},e.droppableProps),{},{className:"linear-card-body p-2 h-[calc(100vh-280px)] overflow-y-auto",children:[A.length>0?A.map(((e,t)=>(0,hn.jsx)(Sc,{draggableId:e._id,index:t,children:t=>{var r;return(0,hn.jsx)("div",Vt(Vt(Vt({ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{className:"linear-card mb-2 cursor-pointer hover:shadow-md transition-shadow",onClick:()=>g(e),children:(0,hn.jsxs)("div",{className:"linear-card-body p-3",children:[(0,hn.jsx)("h4",{className:"text-sm font-medium mb-1",children:e.title}),e.description&&(0,hn.jsx)("p",{className:"text-xs text-gray-500 line-clamp-2 mb-3",children:e.description}),(0,hn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,hn.jsx)("span",{className:"linear-badge ".concat("high"===e.priority?"linear-badge-danger":"medium"===e.priority?"linear-badge-warning":"linear-badge-success"),children:e.priority}),e.assignedTo&&(0,hn.jsx)("div",{className:"linear-avatar linear-avatar-xs",title:e.assignedTo.displayName||"User",children:e.assignedTo.photo?(0,hn.jsx)("img",{src:e.assignedTo.photo,alt:e.assignedTo.displayName||"User"}):(0,hn.jsx)("span",{children:(null===(r=e.assignedTo.displayName)||void 0===r?void 0:r.charAt(0))||"?"})})]})]})}))}},e._id))):(0,hn.jsx)("div",{className:"text-center py-6 text-gray-500 text-sm",children:"No tasks"}),e.placeholder]}))})]}),(0,hn.jsxs)("div",{className:"linear-card",children:[(0,hn.jsxs)("div",{className:"linear-card-header flex items-center justify-between",children:[(0,hn.jsxs)("div",{className:"flex items-center",children:[(0,hn.jsx)("div",{className:"w-3 h-3 rounded-full bg-green-500 mr-2"}),(0,hn.jsx)("h3",{className:"font-medium",children:"Completed"})]}),(0,hn.jsx)("span",{className:"linear-badge linear-badge-secondary",children:T.length})]}),(0,hn.jsx)(Yc,{droppableId:"completed",children:e=>(0,hn.jsxs)("div",Vt(Vt({ref:e.innerRef},e.droppableProps),{},{className:"linear-card-body p-2 h-[calc(100vh-280px)] overflow-y-auto",children:[T.length>0?T.map(((e,t)=>(0,hn.jsx)(Sc,{draggableId:e._id,index:t,children:t=>{var r;return(0,hn.jsx)("div",Vt(Vt(Vt({ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{className:"linear-card mb-2 cursor-pointer hover:shadow-md transition-shadow",onClick:()=>g(e),children:(0,hn.jsxs)("div",{className:"linear-card-body p-3",children:[(0,hn.jsx)("h4",{className:"text-sm font-medium mb-1 line-through text-gray-500",children:e.title}),e.description&&(0,hn.jsx)("p",{className:"text-xs text-gray-400 line-clamp-2 mb-3",children:e.description}),(0,hn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,hn.jsx)("span",{className:"linear-badge linear-badge-success",children:"Completed"}),e.assignedTo&&(0,hn.jsx)("div",{className:"linear-avatar linear-avatar-xs",title:e.assignedTo.displayName||"User",children:e.assignedTo.photo?(0,hn.jsx)("img",{src:e.assignedTo.photo,alt:e.assignedTo.displayName||"User"}):(0,hn.jsx)("span",{children:(null===(r=e.assignedTo.displayName)||void 0===r?void 0:r.charAt(0))||"?"})})]})]})}))}},e._id))):(0,hn.jsx)("div",{className:"text-center py-6 text-gray-500 text-sm",children:"No completed tasks"}),e.placeholder]}))})]})]})}),y&&(0,hn.jsx)("div",{className:"linear-modal-overlay",children:(0,hn.jsx)("div",{className:"linear-modal",children:(0,hn.jsxs)("div",{className:"linear-card",children:[(0,hn.jsxs)("div",{className:"linear-card-header flex justify-between",children:[(0,hn.jsx)("h3",{className:"font-medium",children:"Create Task"}),(0,hn.jsx)("button",{onClick:()=>x(!1),className:"text-gray-500 hover:text-gray-700",children:(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,hn.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),(0,hn.jsx)(Xc,{projectId:t._id,onClose:()=>x(!1),onSave:async e=>{try{const r=await a(t._id,e);r.success?(d([...c,r.task]),x(!1),n&&n()):m(r.message||"Failed to create task")}catch(r){m("Failed to create task"),console.error("Error creating task:",r)}},projectMembers:t.members||[]})]})})}),f&&(0,hn.jsx)("div",{className:"linear-modal-overlay",children:(0,hn.jsx)("div",{className:"linear-modal",children:(0,hn.jsx)(An,{task:f,onClose:()=>g(null),onUpdate:e=>(async(e,r)=>{try{const a=[...c];if(!c.find((t=>t._id===e)))return void m("Task not found");S.current=!0;const s=c.map((t=>t._id===e?Vt(Vt({},t),r):t));d(s);const i=await o(t._id,e,r);i.success?(d(c.map((t=>t._id===e?i.task:t))),g(null),n&&n()):(m(i.message||"Failed to update task"),d(a))}catch(a){console.error("Error updating task:",a),a.response&&a.response.data&&a.response.data.message?m("Failed to update task: ".concat(a.response.data.message)):a.message?m("Failed to update task: ".concat(a.message)):m("Failed to update task. Please try again.");const e=[...c];d(e),S.current=!1}})(f._id,e),onDelete:()=>(async e=>{if(window.confirm("Are you sure you want to delete this task?"))try{const r=c.filter((t=>t._id!==e));d(r);const a=await i(t._id,e);f&&f._id===e&&g(null),a.success?n&&n():(m(a.message||"Failed to delete task"),d(c))}catch(r){m("Failed to delete task"),console.error("Error deleting task:",r)}})(f._id),projectMembers:t.members||[]})})}),_&&(0,hn.jsx)("div",{className:"fixed bottom-4 right-4 p-4 rounded-md shadow-lg z-50 max-w-md transition-opacity duration-300 ".concat("automation"===_.type?"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300":"success"===_.type?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300"),children:(0,hn.jsxs)("div",{className:"flex items-start",children:["automation"===_.type&&(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),(0,hn.jsx)("div",{children:(0,hn.jsx)("p",{className:"font-medium",children:_.message})}),(0,hn.jsx)("button",{className:"ml-4 text-sm font-medium focus:outline-none flex-shrink-0",onClick:()=>D(null),children:"\u2715"})]})})]})},Jc=e=>{let{chatId:t,title:r,height:n="500px",fullWidth:a=!1}=e;const{user:o}=(0,s.useContext)(pn),{darkMode:i}=(0,s.useContext)(xn),{getChatMessages:l,sendMessage:c,deleteMessage:d,fetchMessages:u,joinChatRoom:h,leaveChatRoom:p,connectionStatus:m,error:f,reconnect:g}=(0,s.useContext)(bn),[y,x]=(0,s.useState)(""),[v,b]=(0,s.useState)(!1),[w,k]=(0,s.useState)(!0),[j,N]=(0,s.useState)(""),[S,C]=(0,s.useState)(!1),E=(0,s.useRef)(null),P=(0,s.useRef)(null),A=(0,s.useRef)(null),T=l(t),_=(0,s.useRef)(t);(0,s.useEffect)((()=>{let e=!0;return(async()=>{if(e){k(!0),N("");try{t&&t!==_.current?(_.current&&p(_.current),h(t),_.current=t,await u(t)):t&&!T.length&&(h(t),await u(t))}catch(n){console.error("Error initializing chat:",n),e&&N("Failed to load chat. Please try reloading the page.")}finally{var r;if(e)k(!1),null===(r=P.current)||void 0===r||r.focus()}}})(),()=>{e=!1,t&&t===_.current&&p(t),A.current&&(clearTimeout(A.current),A.current=null)}}),[t]),(0,s.useEffect)((()=>{"connecting"===m?C(!0):"connected"===m?(C(!1),j&&j.includes("connection")&&N("")):"disconnected"!==m||S||C(!0)}),[m,j,S]),(0,s.useEffect)((()=>{f&&N(f)}),[f]),(0,s.useEffect)((()=>{D()}),[T]);const D=()=>{var e;null===(e=E.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},R=e=>{try{return new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch(t){return""}},L=e=>{var t;return(null===(t=e.userId)||void 0===t?void 0:t._id)===(null===o||void 0===o?void 0:o._id)},I=(0,s.useCallback)((()=>{C(!0),N(""),g()}),[g]);return(0,hn.jsxs)("div",{className:"flex flex-col rounded-lg shadow-md border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 overflow-hidden ".concat(a?"w-full":"max-w-3xl"),style:{height:n},children:[(0,hn.jsxs)("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700 flex justify-between items-center",children:[(0,hn.jsx)("h3",{className:"font-medium dark:text-white",children:r||"Chat"}),(()=>{switch(m){case"connected":return(0,hn.jsxs)("div",{className:"text-xs flex items-center text-green-600 dark:text-green-400",children:[(0,hn.jsx)("span",{className:"h-2 w-2 rounded-full bg-green-600 dark:bg-green-400 mr-1"}),"Connected"]});case"connecting":return(0,hn.jsxs)("div",{className:"text-xs flex items-center text-yellow-600 dark:text-yellow-400",children:[(0,hn.jsx)("span",{className:"h-2 w-2 rounded-full bg-yellow-600 dark:bg-yellow-400 mr-1 animate-pulse"}),"Connecting..."]});case"disconnected":return(0,hn.jsxs)("div",{className:"text-xs flex items-center text-red-600 dark:text-red-400",children:[(0,hn.jsx)("span",{className:"h-2 w-2 rounded-full bg-red-600 dark:bg-red-400 mr-1 ".concat(S?"animate-pulse":"")}),S?"Reconnecting...":"Disconnected"]});case"error":return(0,hn.jsxs)("div",{className:"text-xs flex items-center text-red-600 dark:text-red-400",children:[(0,hn.jsx)("span",{className:"h-2 w-2 rounded-full bg-red-600 dark:bg-red-400 mr-1"}),"Connection Error",(0,hn.jsx)("button",{onClick:I,className:"ml-2 underline text-primary-600 dark:text-primary-400 hover:text-primary-800 dark:hover:text-primary-300",children:"Retry"})]});default:return null}})()]}),(0,hn.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-50 dark:bg-gray-800",children:[w?(0,hn.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,hn.jsx)("div",{className:"linear-spinner dark:border-gray-600 dark:border-t-primary-400"})}):"error"===m?(0,hn.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-gray-600 dark:text-gray-400",children:[(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mb-3 text-red-500 dark:text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),(0,hn.jsx)("p",{className:"text-center mb-2",children:"Connection lost to the chat server"}),(0,hn.jsx)("button",{onClick:I,className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-md transition-colors duration-150 flex items-center",children:S?(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,hn.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,hn.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Reconnecting..."]}):"Reconnect"})]}):0===T.length?(0,hn.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-gray-500 dark:text-gray-400",children:[(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),(0,hn.jsx)("p",{children:"No messages yet"}),(0,hn.jsx)("p",{className:"text-sm mt-1",children:"Start the conversation!"})]}):(0,hn.jsxs)("div",{className:"space-y-4",children:[T.map((e=>{var r,n,a;return(0,hn.jsx)("div",{className:"flex ".concat(L(e)?"justify-end":"justify-start"),children:(0,hn.jsxs)("div",{className:"flex max-w-[80%] ".concat(L(e)?"flex-row-reverse":""),children:[(0,hn.jsx)("div",{className:"flex-shrink-0",children:(0,hn.jsx)("div",{className:"linear-avatar linear-avatar-sm dark:bg-gray-700",children:e.userId&&e.userId.photo?(0,hn.jsx)("img",{src:e.userId.photo,alt:e.userId.displayName||"User",className:"h-full w-full object-cover rounded-full"}):(0,hn.jsx)("span",{children:(null===(r=e.userId)||void 0===r||null===(n=r.displayName)||void 0===n?void 0:n.charAt(0))||"?"})})}),(0,hn.jsxs)("div",{className:"mx-2 ".concat(L(e)?"text-right":""),children:[(0,hn.jsxs)("div",{className:"flex items-center mb-1",children:[(0,hn.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 ".concat(L(e)?"mr-2":"ml-0 mr-2"),children:R(e.createdAt)}),(0,hn.jsx)("p",{className:"text-sm font-medium dark:text-white",children:(null===(a=e.userId)||void 0===a?void 0:a.displayName)||"Anonymous"})]}),(0,hn.jsx)("div",{className:"rounded-lg p-3 ".concat(L(e)?"bg-primary-100 dark:bg-primary-900/30 text-gray-900 dark:text-gray-100":"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-gray-100"," ").concat(e.isOptimistic?"opacity-70":""),children:(0,hn.jsx)("p",{className:"text-sm whitespace-pre-wrap break-words",children:e.message})}),L(e)&&!e.isOptimistic&&(0,hn.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this message?"))try{N(""),await d(t,e)}catch(r){console.error("Failed to delete message:",r),N(r.message||"Failed to delete message. Please try again.")}})(e._id),className:"text-xs text-gray-500 dark:text-gray-400 mt-1 hover:text-red-500 dark:hover:text-red-400",children:"Delete"})]})]})},e._id)})),(0,hn.jsx)("div",{ref:E})]}),j&&"error"!==m&&(0,hn.jsxs)("div",{className:"p-2 mt-2 text-center text-sm text-red-600 dark:text-red-400 bg-red-100 dark:bg-red-900/20 rounded-md flex justify-between items-center",children:[(0,hn.jsx)("span",{children:j}),j.includes("connection")&&(0,hn.jsx)("button",{onClick:I,className:"ml-2 text-xs bg-red-600 hover:bg-red-700 text-white px-2 py-1 rounded",children:"Retry"})]})]}),(0,hn.jsx)("div",{className:"p-3 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:(0,hn.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const r=y.trim();if(r&&!v&&"connected"===m)try{var n;b(!0),N(""),x(""),await c(t,r),null===(n=P.current)||void 0===n||n.focus()}catch(a){console.error("Failed to send message:",a),N(a.message||"Failed to send message. Please try again.")}finally{b(!1)}},className:"flex",children:[(0,hn.jsx)("input",{type:"text",value:y,onChange:e=>x(e.target.value),placeholder:"connected"===m?"Type a message...":"Connection lost...",className:"flex-1 rounded-l-md py-2 px-3 border-r-0 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:ring-primary-500 focus:border-primary-500 dark:focus:ring-primary-400 dark:focus:border-primary-400",disabled:v||w||"connected"!==m,ref:P}),(0,hn.jsx)("button",{type:"submit",className:"bg-primary-600 dark:bg-primary-700 hover:bg-primary-700 dark:hover:bg-primary-800 text-white font-medium py-2 px-4 rounded-r-md transition duration-150 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed",disabled:v||!y.trim()||w||"connected"!==m,children:v?(0,hn.jsxs)("svg",{className:"animate-spin -ml-1 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,hn.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,hn.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):(0,hn.jsx)("span",{children:"Send"})})]})}),S&&"connecting"===m&&(0,hn.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-30 dark:bg-opacity-50 flex items-center justify-center",children:(0,hn.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-lg flex flex-col items-center",children:[(0,hn.jsxs)("svg",{className:"animate-spin mb-3 h-8 w-8 text-primary-600 dark:text-primary-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,hn.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,hn.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,hn.jsx)("p",{className:"text-gray-800 dark:text-gray-200 font-medium",children:"Reconnecting to chat..."})]})})]})},Zc=e=>{let{onClose:t,projectId:r,currentMembers:n,setMembers:a}=e;const[o,i]=(0,s.useState)([]),[l,c]=(0,s.useState)([]),[d,u]=(0,s.useState)(!0),[h,p]=(0,s.useState)(!1),[m,f]=(0,s.useState)(""),[g,y]=(0,s.useState)(""),[x,v]=(0,s.useState)({});(0,s.useEffect)((()=>{(async()=>{try{u(!0),f("");const e=localStorage.getItem("token");if(!e)return f("Authentication required. Please log in again."),void u(!1);const t=await un.get("/api/users",{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},withCredentials:!0,timeout:1e4});if(!t.data||!Array.isArray(t.data.users))throw new Error("Invalid response format from server");{const e=n.map((e=>"object"===typeof e&&e._id?e._id:e)),r=t.data.users.filter((t=>!e.includes(t._id)));i(r)}}catch(r){var e,t;console.error("Error fetching users:",r),f((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to load users. Please try again."),i([])}finally{u(!1)}})()}),[n]);const b=()=>{f("");(async()=>{try{u(!0);const e=localStorage.getItem("token");if(!e)return f("Authentication required. Please log in again."),void u(!1);const t=await un.get("/api/users",{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},withCredentials:!0});if(!t.data||!Array.isArray(t.data.users))throw new Error("Invalid response format from server");{const e=n.map((e=>"object"===typeof e&&e._id?e._id:e)),r=t.data.users.filter((t=>!e.includes(t._id)));i(r)}}catch(r){var e,t;console.error("Error fetching users on retry:",r),f((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to load users. Please try again."),i([])}finally{u(!1)}})()},w=o.filter((e=>{if(!e)return!1;const t=g.toLowerCase().trim();if(!t)return!0;const r=e.displayName||"",n=e.email||"",a=e.role||"";return r.toLowerCase().includes(t)||n.toLowerCase().includes(t)||a.toLowerCase().includes(t)}));return(0,hn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,hn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg w-full max-w-lg overflow-hidden",children:[(0,hn.jsxs)("div",{className:"p-5 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[(0,hn.jsx)("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100",children:"Add Team Members"}),(0,hn.jsx)("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition",children:(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,hn.jsxs)("div",{className:"p-5",children:[m&&(0,hn.jsxs)("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400 rounded-md border border-red-200 dark:border-red-800 flex justify-between items-center",children:[(0,hn.jsxs)("div",{className:"flex items-center",children:[(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),m]}),(0,hn.jsx)("button",{onClick:b,className:"text-sm text-primary-600 hover:text-primary-800 dark:text-primary-400 dark:hover:text-primary-300 ml-4 font-medium",children:"Retry"})]}),(0,hn.jsx)("div",{className:"mb-5",children:(0,hn.jsxs)("div",{className:"relative",children:[(0,hn.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,hn.jsx)("input",{type:"text",placeholder:"Search by name or email",value:g,onChange:e=>y(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-gray-700 dark:text-white"}),g&&(0,hn.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",onClick:()=>y(""),children:(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),d?(0,hn.jsxs)("div",{className:"flex justify-center py-8",children:[(0,hn.jsx)("div",{className:"linear-spinner dark:border-gray-600 dark:border-t-primary-400"}),(0,hn.jsx)("span",{className:"ml-3 text-gray-600 dark:text-gray-400",children:"Loading users..."})]}):(0,hn.jsx)("div",{className:"max-h-80 overflow-y-auto",children:w.length>0?(0,hn.jsx)("ul",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:w.map((e=>{var t;return(0,hn.jsx)("li",{className:"p-3 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-md transition cursor-pointer ".concat(l.includes(e._id)?"bg-primary-50 dark:bg-primary-900/20":""),onClick:()=>(e=>{if(l.includes(e)){c(l.filter((t=>t!==e)));const t=Vt({},x);delete t[e],v(t)}else c([...l,e]),v(Vt(Vt({},x),{},{[e]:"member"}))})(e._id),children:(0,hn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,hn.jsxs)("div",{className:"flex items-center",children:[(0,hn.jsx)("input",{type:"checkbox",checked:l.includes(e._id),onChange:()=>{},className:"h-4 w-4 text-primary-600 focus:ring-primary-500 rounded-sm dark:bg-gray-700 dark:border-gray-600"}),(0,hn.jsx)("div",{className:"flex-shrink-0 h-10 w-10 mr-3 ml-3",children:e.photo?(0,hn.jsx)("img",{src:e.photo,alt:e.displayName,className:"h-10 w-10 rounded-full object-cover"}):(0,hn.jsx)("div",{className:"h-10 w-10 rounded-full bg-primary-500 text-white flex items-center justify-center",children:(null===(t=e.displayName)||void 0===t?void 0:t.charAt(0).toUpperCase())||"?"})}),(0,hn.jsxs)("div",{children:[(0,hn.jsx)("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.displayName||"Unnamed User"}),(0,hn.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.email||"No email"})]})]}),l.includes(e._id)&&(0,hn.jsxs)("select",{value:x[e._id]||"member",onChange:t=>{var r,n;t.stopPropagation(),r=e._id,n=t.target.value,v(Vt(Vt({},x),{},{[r]:n}))},onClick:e=>e.stopPropagation(),className:"ml-2 text-sm border-gray-300 dark:border-gray-600 rounded-md focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white",children:[(0,hn.jsx)("option",{value:"member",children:"Member"}),(0,hn.jsx)("option",{value:"editor",children:"Editor"}),(0,hn.jsx)("option",{value:"admin",children:"Admin"})]})]})},e._id)}))}):(0,hn.jsxs)("div",{className:"text-center py-8",children:[(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto text-gray-300 dark:text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),(0,hn.jsx)("p",{className:"mt-2 text-gray-500 dark:text-gray-400",children:m?"Error loading users. Please try again.":g?"No users found matching your search":"No available users to add"}),!g&&0===o.length&&!m&&(0,hn.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-500",children:"All team members have already been added to this project"}),m&&(0,hn.jsx)("button",{onClick:b,className:"mt-2 text-primary-600 hover:text-primary-800 dark:text-primary-400 dark:hover:text-primary-300 text-sm font-medium",children:"Refresh"})]})})]}),(0,hn.jsxs)("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 flex justify-end space-x-3",children:[(0,hn.jsx)("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-600",disabled:h,children:"Cancel"}),(0,hn.jsx)("button",{type:"button",onClick:async e=>{if(e.preventDefault(),0!==l.length){p(!0),f("");try{const e=localStorage.getItem("token"),s={userIds:l,roles:x},o=await un.post("/api/projects/".concat(r,"/members"),s,{headers:{Authorization:"Bearer ".concat(e)},withCredentials:!0});o.data&&o.data.addedMembers&&a([...n,...o.data.addedMembers]),t()}catch(i){var s,o;f((null===(s=i.response)||void 0===s||null===(o=s.data)||void 0===o?void 0:o.message)||"Failed to add members")}finally{p(!1)}}else f("Please select at least one user")},disabled:h||0===l.length,className:"px-4 py-2 text-sm font-medium text-white rounded-md ".concat(0===l.length?"bg-primary-400 cursor-not-allowed dark:bg-primary-700":"bg-primary-600 hover:bg-primary-700 dark:bg-primary-600 dark:hover:bg-primary-700"),children:h?"Adding...":"Add ".concat(l.length>0?"(".concat(l.length,")"):"")})]})]})})},ed=e=>{let{projectId:t,onSuccess:r,onCancel:n}=e;const[a,o]=(0,s.useState)(""),[i,l]=(0,s.useState)("member"),[c,d]=(0,s.useState)(!1),[u,h]=(0,s.useState)(""),[p,m]=(0,s.useState)("");return(0,hn.jsxs)("div",{className:"invite-member-form",children:[(0,hn.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Invite by Email"}),u&&(0,hn.jsx)("div",{className:"alert-error mb-4 p-3 rounded-md text-sm",children:u}),p&&(0,hn.jsx)("div",{className:"bg-green-50 border border-green-200 text-green-700 p-3 rounded-md mb-4 text-sm",children:p}),(0,hn.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),a&&a.includes("@")){d(!0),h(""),m("");try{const e=localStorage.getItem("token"),n=await un.post("/api/projects/".concat(t,"/members"),{email:a,role:i},{headers:{Authorization:"Bearer ".concat(e)},withCredentials:!0});m("Successfully invited ".concat(a," as ").concat(i)),o(""),r&&n.data&&r(n.data)}catch(c){var n,s,l;if(404===(null===(n=c.response)||void 0===n?void 0:n.status))h("No user found with email: ".concat(a));else h((null===(s=c.response)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.message)||"Failed to send invitation");console.error("Error sending invitation:",c)}finally{d(!1)}}else h("Please enter a valid email address")},children:[(0,hn.jsxs)("div",{className:"space-y-4",children:[(0,hn.jsxs)("div",{className:"form-group",children:[(0,hn.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),(0,hn.jsx)("input",{id:"email",type:"email",value:a,onChange:e=>o(e.target.value),placeholder:"colleague@example.com",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0})]}),(0,hn.jsxs)("div",{className:"form-group",children:[(0,hn.jsx)("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),(0,hn.jsx)("div",{className:"grid grid-cols-1 gap-2",children:[{value:"member",label:"Member",description:"Can view and comment"},{value:"editor",label:"Editor",description:"Can edit tasks and content"},{value:"admin",label:"Admin",description:"Can manage project settings"}].map((e=>(0,hn.jsxs)("label",{className:"flex items-center space-x-3 p-3 border rounded-md cursor-pointer transition ".concat(i===e.value?"border-indigo-500 bg-indigo-50":"border-gray-200 hover:bg-gray-50"),children:[(0,hn.jsx)("input",{type:"radio",name:"role",value:e.value,checked:i===e.value,onChange:()=>l(e.value),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300"}),(0,hn.jsxs)("div",{className:"flex-1",children:[(0,hn.jsx)("div",{className:"font-medium text-gray-900",children:e.label}),(0,hn.jsx)("div",{className:"text-sm text-gray-500",children:e.description})]})]},e.value)))})]})]}),(0,hn.jsxs)("div",{className:"mt-5 flex justify-between",children:[(0,hn.jsx)("p",{className:"text-xs text-gray-500",children:"The user will need to be registered in the system to join the project."}),(0,hn.jsxs)("div",{className:"flex space-x-3",children:[(0,hn.jsx)("button",{type:"button",onClick:n,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),(0,hn.jsx)("button",{type:"submit",disabled:c||!a,className:"px-4 py-2 text-sm font-medium text-white rounded-md ".concat(!a||c?"bg-indigo-300 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700"),children:c?"Sending...":"Send Invitation"})]})]})]})]})},td=e=>{let{project:t,currentUser:r}=e;const[n,a]=(0,s.useState)(!1),[o,i]=(0,s.useState)(!1),[l,c]=(0,s.useState)(t.members||[]),[d,u]=(0,s.useState)(""),[h,p]=(0,s.useState)(null),[m,f]=(0,s.useState)(!1),g=(0,s.useRef)(null);(0,s.useEffect)((()=>{function e(e){g.current&&!g.current.contains(e.target)&&i(!1)}return o&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[o]);const y=["member","editor","admin"],x=r&&t.owner&&(t.owner._id===r.id||t.owner._id===r._id),v=e=>{Array.isArray(e)?c([...l,...e]):e&&c([...l,e]),i(!1),a(!1)},b=e=>{switch(e){case"admin":return"linear-badge linear-badge-primary dark:bg-primary-900/30 dark:text-primary-400";case"editor":return"linear-badge linear-badge-success dark:bg-green-900/30 dark:text-green-400";default:return"linear-badge dark:bg-gray-700 dark:text-gray-300"}};return(0,hn.jsxs)("div",{className:"linear-card dark:bg-gray-800 dark:border-gray-700",children:[(0,hn.jsxs)("div",{className:"linear-card-header dark:border-gray-700",children:[(0,hn.jsx)("h3",{className:"linear-modal-title dark:text-white",children:"Team Members"}),x&&(0,hn.jsxs)("div",{className:"flex space-x-3 relative",children:[(0,hn.jsxs)("div",{className:"relative",children:[(0,hn.jsxs)("button",{onClick:()=>{i(!o),a(!1)},className:"linear-btn linear-btn-sm ".concat(o?"linear-btn-primary-active dark:bg-primary-700":"linear-btn-primary dark:bg-primary-600 dark:text-white dark:hover:bg-primary-700"),disabled:m,children:[(0,hn.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:[(0,hn.jsx)("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),(0,hn.jsx)("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]}),"Invite"]}),o&&(0,hn.jsx)("div",{ref:g,className:"absolute right-0 top-full mt-2 z-50 w-80 shadow-lg rounded-lg animate-fade-in",style:{animation:"fadeIn 0.3s ease-in-out"},children:(0,hn.jsxs)("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 shadow-lg",children:[(0,hn.jsx)("h4",{className:"text-sm font-medium mb-3 dark:text-white",children:"Invite Team Member"}),(0,hn.jsx)(ed,{projectId:t._id,onSuccess:v,onCancel:()=>i(!1)})]})})]}),(0,hn.jsxs)("button",{onClick:()=>{a(!n),i(!1)},className:"linear-btn linear-btn-sm ".concat(n?"linear-btn-secondary-active dark:bg-gray-600":"linear-btn-secondary dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 dark:hover:bg-gray-600"),disabled:m,children:[(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:(0,hn.jsx)("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Add"]}),n&&(0,hn.jsx)(Zc,{projectId:t._id,onClose:()=>a(!1),onSuccess:v,position:"right"})]})]}),d&&(0,hn.jsxs)("div",{className:"mx-5 mt-4 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-400 p-3 rounded-md text-sm linear-fade-in",children:[d,(0,hn.jsx)("button",{className:"float-right text-red-700 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300",onClick:()=>u(""),children:"\xd7"})]}),(0,hn.jsxs)("div",{className:"linear-card-body dark:bg-gray-800",children:[m&&(0,hn.jsx)("div",{className:"linear-loading my-4",children:(0,hn.jsx)("div",{className:"linear-pulse dark:border-t-gray-300"})}),l.length>0?(0,hn.jsx)("ul",{className:"linear-member-list dark:divide-gray-700",children:l.map((e=>(0,hn.jsxs)("li",{className:"linear-member-card dark:border-gray-700 dark:hover:bg-gray-700/50",children:[(0,hn.jsxs)("div",{className:"linear-member-info",children:[(0,hn.jsx)("div",{className:"linear-avatar linear-avatar-md dark:bg-gray-700 dark:text-gray-300 border-2 border-gray-200 dark:border-gray-600",children:e.photo?(0,hn.jsx)("img",{src:e.photo,alt:e.displayName,className:"w-full h-full object-cover"}):(0,hn.jsx)("div",{className:"linear-avatar-md",children:e.displayName.charAt(0).toUpperCase()})}),(0,hn.jsxs)("div",{className:"linear-member-details",children:[(0,hn.jsx)("span",{className:"linear-member-name dark:text-white",children:e.displayName}),(0,hn.jsx)("span",{className:"linear-member-email dark:text-gray-400",children:e.email}),t.owner&&e._id===t.owner._id?(0,hn.jsx)("span",{className:"linear-badge linear-badge-primary dark:bg-primary-900/30 dark:text-primary-400 mt-1",children:"Owner"}):(0,hn.jsx)("span",{className:"".concat(b(e.role)," mt-1"),children:e.role?e.role.charAt(0).toUpperCase()+e.role.slice(1):"Member"})]})]}),x&&t.owner&&e._id!==t.owner._id&&(0,hn.jsx)("div",{className:"linear-member-actions",children:h===e._id?(0,hn.jsxs)("div",{className:"flex items-center border rounded-md overflow-hidden shadow-sm dark:border-gray-600",children:[(0,hn.jsx)("select",{value:e.role||"member",onChange:r=>(async(e,r)=>{f(!0);try{const n=localStorage.getItem("token");await un.put("/api/projects/".concat(t._id,"/members/").concat(e,"/role"),{role:r},{headers:{Authorization:"Bearer ".concat(n)},withCredentials:!0}),c(l.map((t=>t._id===e?Vt(Vt({},t),{},{role:r}):t))),u("")}catch(s){var n,a;u((null===(n=s.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message)||"Error updating member role"),console.error("Error updating member role:",s)}finally{f(!1),p(null)}})(e._id,r.target.value),className:"py-1 px-2 text-sm border-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-50 focus:border-transparent dark:bg-gray-700 dark:text-gray-300",disabled:m,children:y.map((e=>(0,hn.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e)))}),(0,hn.jsx)("button",{onClick:()=>p(null),className:"bg-gray-200 dark:bg-gray-600 py-1 px-2 text-gray-600 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-500 transition",disabled:m,children:(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}):(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsx)("button",{onClick:()=>p(e._id),className:"linear-action-btn linear-action-edit dark:text-gray-400 dark:hover:text-primary-400 dark:hover:bg-gray-700",title:"Edit role",disabled:m,children:(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,hn.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to remove this member from the project?")){f(!0);try{const r=localStorage.getItem("token");await un.delete("/api/projects/".concat(t._id,"/members/").concat(e),{headers:{Authorization:"Bearer ".concat(r)},withCredentials:!0}),c(l.filter((t=>t._id!==e))),u("")}catch(a){var r,n;u((null===(r=a.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message)||"Error removing member"),console.error("Error removing member:",a)}finally{f(!1)}}})(e._id),className:"linear-action-btn linear-action-delete dark:text-gray-400 dark:hover:text-red-400 dark:hover:bg-gray-700",title:"Remove member",disabled:m,children:(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,hn.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})})]},e._id)))}):(0,hn.jsxs)("div",{className:"text-center py-12 px-4 border-2 border-dashed border-gray-200 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-700",children:[(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto text-gray-300 dark:text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),(0,hn.jsx)("p",{className:"text-gray-500 dark:text-gray-300 mt-4 text-lg",children:"No members in this project yet"}),(0,hn.jsx)("p",{className:"text-gray-400 dark:text-gray-400 mt-1",children:"Start building your team by inviting members"}),x&&(0,hn.jsxs)("div",{className:"flex justify-center mt-6 space-x-4",children:[(0,hn.jsx)("button",{onClick:()=>i(!0),className:"linear-btn linear-btn-primary dark:bg-primary-600 dark:text-white",children:"Invite by Email"}),(0,hn.jsx)("button",{onClick:()=>a(!0),className:"linear-btn linear-btn-secondary dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600",children:"Add Existing Users"})]})]})]})]})};function rd(e){if("undefined"===typeof Proxy)return e;const t=new Map;return new Proxy((function(){return e(...arguments)}),{get:(r,n)=>"create"===n?e:(t.has(n)||t.set(n,e(n)),t.get(n))})}function nd(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}function ad(e){const t=[{},{}];return null===e||void 0===e||e.values.forEach(((e,r)=>{t[0][r]=e.get(),t[1][r]=e.getVelocity()})),t}function sd(e,t,r,n){if("function"===typeof t){const[a,s]=ad(n);t=t(void 0!==r?r:e.custom,a,s)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[a,s]=ad(n);t=t(void 0!==r?r:e.custom,a,s)}return t}function od(e,t,r){const n=e.getProps();return sd(n,t,void 0!==r?r:n.custom,e)}function id(e,t){var r,n;return null!==(r=null!==(n=null===e||void 0===e?void 0:e[t])&&void 0!==n?n:null===e||void 0===e?void 0:e.default)&&void 0!==r?r:e}const ld=e=>e,cd={},dd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],ud={value:null,addProjectionMetrics:null};function hd(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,o=dd.reduce(((e,r)=>(e[r]=function(e,t){let r=new Set,n=new Set,a=!1,s=!1;const o=new WeakSet;let i={delta:0,timestamp:0,isProcessing:!1},l=0;function c(t){o.has(t)&&(d.schedule(t),e()),l++,t(i)}const d={schedule:function(e){const t=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&a?r:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&o.add(e),t.has(e)||t.add(e),e},cancel:e=>{n.delete(e),o.delete(e)},process:e=>{i=e,a?s=!0:(a=!0,[r,n]=[n,r],r.forEach(c),t&&ud.value&&ud.value.frameloop[t].push(l),l=0,r.clear(),a=!1,s&&(s=!1,d.process(e)))}};return d}(s,t?r:void 0),e)),{}),{setup:i,read:l,resolveKeyframes:c,preUpdate:d,update:u,preRender:h,render:p,postRender:m}=o,f=()=>{const s=cd.useManualTiming?a.timestamp:performance.now();r=!1,cd.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(s-a.timestamp,40),1)),a.timestamp=s,a.isProcessing=!0,i.process(a),l.process(a),c.process(a),d.process(a),u.process(a),h.process(a),p.process(a),m.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(f))},g=dd.reduce(((t,s)=>{const i=o[s];return t[s]=function(t){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r||(r=!0,n=!0,a.isProcessing||e(f)),i.schedule(t,s,o)},t}),{});return{schedule:g,cancel:e=>{for(let t=0;t<dd.length;t++)o[dd[t]].cancel(e)},state:a,steps:o}}const{schedule:pd,cancel:md,state:fd,steps:gd}=hd("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:ld,!0),yd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],xd=(()=>new Set(yd))(),vd=new Set(["width","height","top","left","right","bottom",...yd]);function bd(e,t){-1===e.indexOf(t)&&e.push(t)}function wd(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class kd{constructor(){this.subscriptions=[]}add(e){return bd(this.subscriptions,e),()=>wd(this.subscriptions,e)}notify(e,t,r){const n=this.subscriptions.length;if(n)if(1===n)this.subscriptions[0](e,t,r);else for(let a=0;a<n;a++){const n=this.subscriptions[a];n&&n(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function jd(e,t){return t?e*(1e3/t):0}let Nd;function Sd(){Nd=void 0}const Cd={now:()=>(void 0===Nd&&Cd.set(fd.isProcessing||cd.useManualTiming?fd.timestamp:performance.now()),Nd),set:e=>{Nd=e,queueMicrotask(Sd)}},Ed={current:void 0};class Pd{constructor(e){var t=this;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.canTrackVelocity=null,this.events={},this.updateAndNotify=function(e){let r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=Cd.now();var a,s;if((t.updatedAt!==n&&t.setPrevFrameValue(),t.prev=t.current,t.setCurrent(e),t.current!==t.prev)&&(null===(a=t.events.change)||void 0===a||a.notify(t.current),t.dependents))for(const o of t.dependents)o.dirty();r&&(null===(s=t.events.renderRequest)||void 0===s||s.notify(t.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){var t;this.current=e,this.updatedAt=Cd.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new kd);const r=this.events[e].add(t);return"change"===e?()=>{r(),pd.read((()=>{this.events.change.getSize()||this.stop()}))}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;null===(e=this.events.change)||void 0===e||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return Ed.current&&Ed.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Cd.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return jd(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;null===(e=this.dependents)||void 0===e||e.clear(),null===(t=this.events.destroy)||void 0===t||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ad(e,t){return new Pd(e,t)}const Td=e=>Array.isArray(e),_d=["transitionEnd","transition"];function Dd(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Ad(r))}const Rd=e=>Boolean(e&&e.getVelocity);function Ld(e,t){const r=e.getValue("willChange");if(n=r,Boolean(Rd(n)&&n.add))return r.add(t);if(!r&&cd.WillChange){const r=new cd.WillChange("auto");e.addValue("willChange",r),r.add(t)}var n}const Id=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Od="data-"+Id("framerAppearId");function Md(e){return e.props[Od]}const Fd=(e,t)=>r=>t(e(r)),Bd=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(Fd)},Ud=(e,t,r)=>r>t?t:r<e?e:r,zd=e=>1e3*e,Vd=e=>e/1e3,Wd={layout:0,mainThread:0,waapi:0};const Hd=e=>t=>"string"===typeof t&&t.startsWith(e),qd=Hd("--"),Gd=Hd("var(--"),Kd=e=>!!Gd(e)&&$d.test(e.split("/*")[0].trim()),$d=/var\(--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)$/i,Yd={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},Xd=Vt(Vt({},Yd),{},{transform:e=>Ud(0,1,e)}),Qd=Vt(Vt({},Yd),{},{default:1}),Jd=e=>Math.round(1e5*e)/1e5,Zd=/-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/g;const eu=/^(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))$/i,tu=(e,t)=>r=>Boolean("string"===typeof r&&eu.test(r)&&r.startsWith(e)||t&&!function(e){return null==e}(r)&&Object.prototype.hasOwnProperty.call(r,t)),ru=(e,t,r)=>n=>{if("string"!==typeof n)return n;const[a,s,o,i]=n.match(Zd);return{[e]:parseFloat(a),[t]:parseFloat(s),[r]:parseFloat(o),alpha:void 0!==i?parseFloat(i):1}},nu=Vt(Vt({},Yd),{},{transform:e=>Math.round((e=>Ud(0,255,e))(e))}),au={test:tu("rgb","red"),parse:ru("red","green","blue"),transform:e=>{let{red:t,green:r,blue:n,alpha:a=1}=e;return"rgba("+nu.transform(t)+", "+nu.transform(r)+", "+nu.transform(n)+", "+Jd(Xd.transform(a))+")"}};const su={test:tu("#"),parse:function(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}},transform:au.transform},ou=e=>({test:t=>"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),iu=ou("deg"),lu=ou("%"),cu=ou("px"),du=ou("vh"),uu=ou("vw"),hu=(()=>Vt(Vt({},lu),{},{parse:e=>lu.parse(e)/100,transform:e=>lu.transform(100*e)}))(),pu={test:tu("hsl","hue"),parse:ru("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:r,lightness:n,alpha:a=1}=e;return"hsla("+Math.round(t)+", "+lu.transform(Jd(r))+", "+lu.transform(Jd(n))+", "+Jd(Xd.transform(a))+")"}},mu={test:e=>au.test(e)||su.test(e)||pu.test(e),parse:e=>au.test(e)?au.parse(e):pu.test(e)?pu.parse(e):su.parse(e),transform:e=>"string"===typeof e?e:e.hasOwnProperty("red")?au.transform(e):pu.transform(e)},fu=/(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))/gi;const gu="number",yu="color",xu=/var[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)|#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\)|-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/gi;function vu(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let s=0;const o=t.replace(xu,(e=>(mu.test(e)?(n.color.push(s),a.push(yu),r.push(mu.parse(e))):e.startsWith("var(")?(n.var.push(s),a.push("var"),r.push(e)):(n.number.push(s),a.push(gu),r.push(parseFloat(e))),++s,"${}"))).split("${}");return{values:r,split:o,indexes:n,types:a}}function bu(e){return vu(e).values}function wu(e){const{split:t,types:r}=vu(e),n=t.length;return e=>{let a="";for(let s=0;s<n;s++)if(a+=t[s],void 0!==e[s]){const t=r[s];a+=t===gu?Jd(e[s]):t===yu?mu.transform(e[s]):e[s]}return a}}const ku=e=>"number"===typeof e?0:e;const ju={test:function(e){var t,r;return isNaN(e)&&"string"===typeof e&&((null===(t=e.match(Zd))||void 0===t?void 0:t.length)||0)+((null===(r=e.match(fu))||void 0===r?void 0:r.length)||0)>0},parse:bu,createTransformer:wu,getAnimatableNone:function(e){const t=bu(e);return wu(e)(t.map(ku))}};function Nu(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function Su(e,t){return r=>r>0?t:e}const Cu=(e,t,r)=>e+(t-e)*r,Eu=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},Pu=[su,au,pu];function Au(e){const t=(r=e,Pu.find((e=>e.test(r))));var r;if(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."),!Boolean(t))return!1;let n=t.parse(e);return t===pu&&(n=function(e){let{hue:t,saturation:r,lightness:n,alpha:a}=e;t/=360,r/=100,n/=100;let s=0,o=0,i=0;if(r){const e=n<.5?n*(1+r):n+r-n*r,a=2*n-e;s=Nu(a,e,t+1/3),o=Nu(a,e,t),i=Nu(a,e,t-1/3)}else s=o=i=n;return{red:Math.round(255*s),green:Math.round(255*o),blue:Math.round(255*i),alpha:a}}(n)),n}const Tu=(e,t)=>{const r=Au(e),n=Au(t);if(!r||!n)return Su(e,t);const a=Vt({},r);return e=>(a.red=Eu(r.red,n.red,e),a.green=Eu(r.green,n.green,e),a.blue=Eu(r.blue,n.blue,e),a.alpha=Cu(r.alpha,n.alpha,e),au.transform(a))},_u=new Set(["none","hidden"]);function Du(e,t){return r=>Cu(e,t,r)}function Ru(e){return"number"===typeof e?Du:"string"===typeof e?Kd(e)?Su:mu.test(e)?Tu:Ou:Array.isArray(e)?Lu:"object"===typeof e?mu.test(e)?Tu:Iu:Su}function Lu(e,t){const r=[...e],n=r.length,a=e.map(((e,r)=>Ru(e)(e,t[r])));return e=>{for(let t=0;t<n;t++)r[t]=a[t](e);return r}}function Iu(e,t){const r=Vt(Vt({},e),t),n={};for(const a in r)void 0!==e[a]&&void 0!==t[a]&&(n[a]=Ru(e[a])(e[a],t[a]));return e=>{for(const t in n)r[t]=n[t](e);return r}}const Ou=(e,t)=>{const r=ju.createTransformer(t),n=vu(e),a=vu(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?_u.has(e)&&!a.values.length||_u.has(t)&&!n.values.length?function(e,t){return _u.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}(e,t):Bd(Lu(function(e,t){const r=[],n={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){var a;const o=t.types[s],i=e.indexes[o][n[o]],l=null!==(a=e.values[i])&&void 0!==a?a:0;r[s]=l,n[o]++}return r}(n,a),a.values),r):("Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition."),Su(e,t))};function Mu(e,t,r){if("number"===typeof e&&"number"===typeof t&&"number"===typeof r)return Cu(e,t,r);return Ru(e)(e,t)}const Fu=e=>{const t=t=>{let{timestamp:r}=t;return e(r)};return{start:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return pd.update(t,e)},stop:()=>md(t),now:()=>fd.isProcessing?fd.timestamp:Cd.now()}},Bu=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,n="";const a=Math.max(Math.round(t/r),2);for(let s=0;s<a;s++)n+=e(s/(a-1))+", ";return"linear(".concat(n.substring(0,n.length-2),")")},Uu=2e4;function zu(e){let t=0;let r=e.next(t);for(;!r.done&&t<Uu;)t+=50,r=e.next(t);return t>=Uu?1/0:t}function Vu(e,t,r){const n=Math.max(t-5,0);return jd(r-e(n),t-n)}const Wu={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Hu=.001;function qu(e){let t,r,{duration:n=Wu.duration,bounce:a=Wu.bounce,velocity:s=Wu.velocity,mass:o=Wu.mass}=e;zd(Wu.maxDuration);let i=1-a;i=Ud(Wu.minDamping,Wu.maxDamping,i),n=Ud(Wu.minDuration,Wu.maxDuration,Vd(n)),i<1?(t=e=>{const t=e*i,r=t*n,a=t-s,o=Ku(e,i),l=Math.exp(-r);return Hu-a/o*l},r=e=>{const r=e*i*n,a=r*s+s,o=Math.pow(i,2)*Math.pow(e,2)*n,l=Math.exp(-r),c=Ku(Math.pow(e,2),i);return(-t(e)+Hu>0?-1:1)*((a-o)*l)/c}):(t=e=>Math.exp(-e*n)*((e-s)*n+1)-.001,r=e=>Math.exp(-e*n)*(n*n*(s-e)));const l=function(e,t,r){let n=r;for(let a=1;a<Gu;a++)n-=e(n)/t(n);return n}(t,r,5/n);if(n=zd(n),isNaN(l))return{stiffness:Wu.stiffness,damping:Wu.damping,duration:n};{const e=Math.pow(l,2)*o;return{stiffness:e,damping:2*i*Math.sqrt(o*e),duration:n}}}const Gu=12;function Ku(e,t){return e*Math.sqrt(1-t*t)}const $u=["duration","bounce"],Yu=["stiffness","damping","mass"];function Xu(e,t){return t.some((t=>void 0!==e[t]))}function Qu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wu.visualDuration,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wu.bounce;const r="object"!==typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const s=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],i={done:!1,value:s},{stiffness:l,damping:c,mass:d,duration:u,velocity:h,isResolvedFromDuration:p}=function(e){let t=Vt({velocity:Wu.velocity,stiffness:Wu.stiffness,damping:Wu.damping,mass:Wu.mass,isResolvedFromDuration:!1},e);if(!Xu(e,Yu)&&Xu(e,$u))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(1.2*r),a=n*n,s=2*Ud(.05,1,1-(e.bounce||0))*Math.sqrt(a);t=Vt(Vt({},t),{},{mass:Wu.mass,stiffness:a,damping:s})}else{const r=qu(e);t=Vt(Vt(Vt({},t),r),{},{mass:Wu.mass}),t.isResolvedFromDuration=!0}return t}(Vt(Vt({},r),{},{velocity:-Vd(r.velocity||0)})),m=h||0,f=c/(2*Math.sqrt(l*d)),g=o-s,y=Vd(Math.sqrt(l/d)),x=Math.abs(g)<5;let v;if(n||(n=x?Wu.restSpeed.granular:Wu.restSpeed.default),a||(a=x?Wu.restDelta.granular:Wu.restDelta.default),f<1){const e=Ku(y,f);v=t=>{const r=Math.exp(-f*y*t);return o-r*((m+f*y*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===f)v=e=>o-Math.exp(-y*e)*(g+(m+y*g)*e);else{const e=y*Math.sqrt(f*f-1);v=t=>{const r=Math.exp(-f*y*t),n=Math.min(e*t,300);return o-r*((m+f*y*g)*Math.sinh(n)+e*g*Math.cosh(n))/e}}const b={calculatedDuration:p&&u||null,next:e=>{const t=v(e);if(p)i.done=e>=u;else{let r=0===e?m:0;f<1&&(r=0===e?zd(m):Vu(v,e,t));const s=Math.abs(r)<=n,l=Math.abs(o-t)<=a;i.done=s&&l}return i.value=i.done?o:t,i},toString:()=>{const e=Math.min(zu(b),Uu),t=Bu((t=>b.next(e*t).value),e,30);return e+"ms "+t},toTransition:()=>{}};return b}function Ju(e){let{keyframes:t,velocity:r=0,power:n=.8,timeConstant:a=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:i,min:l,max:c,restDelta:d=.5,restSpeed:u}=e;const h=t[0],p={done:!1,value:h},m=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let f=n*r;const g=h+f,y=void 0===i?g:i(g);y!==g&&(f=y-h);const x=e=>-f*Math.exp(-e/a),v=e=>y+x(e),b=e=>{const t=x(e),r=v(e);p.done=Math.abs(t)<=d,p.value=p.done?y:r};let w,k;const j=e=>{var t;(t=p.value,void 0!==l&&t<l||void 0!==c&&t>c)&&(w=e,k=Qu({keyframes:[p.value,m(p.value)],velocity:Vu(v,e,p.value),damping:s,stiffness:o,restDelta:d,restSpeed:u}))};return j(0),{calculatedDuration:null,next:e=>{let t=!1;return k||void 0!==w||(t=!0,b(e),j(e)),void 0!==w&&e>=w?k.next(e-w):(!t&&b(e),p)}}}Qu.applyToOptions=e=>{const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;const r=(arguments.length>2?arguments[2]:void 0)(Vt(Vt({},e),{},{keyframes:[0,t]})),n=Math.min(zu(r),Uu);return{type:"keyframes",ease:e=>r.next(n*e).value/t,duration:Vd(n)}}(e,100,Qu);return e.ease=t.ease,e.duration=zd(t.duration),e.type="keyframes",e};const Zu=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e;function eh(e,t,r,n){if(e===t&&r===n)return ld;const a=t=>function(e,t,r,n,a){let s,o,i=0;do{o=t+(r-t)/2,s=Zu(o,n,a)-e,s>0?r=o:t=o}while(Math.abs(s)>1e-7&&++i<12);return o}(t,0,1,e,r);return e=>0===e||1===e?e:Zu(a(e),t,n)}const th=eh(.42,0,1,1),rh=eh(0,0,.58,1),nh=eh(.42,0,.58,1),ah=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,sh=e=>t=>1-e(1-t),oh=eh(.33,1.53,.69,.99),ih=sh(oh),lh=ah(ih),ch=e=>(e*=2)<1?.5*ih(e):.5*(2-Math.pow(2,-10*(e-1))),dh=e=>1-Math.sin(Math.acos(e)),uh=sh(dh),hh=ah(dh),ph=e=>Array.isArray(e)&&"number"===typeof e[0],mh={linear:ld,easeIn:th,easeInOut:nh,easeOut:rh,circIn:dh,circInOut:hh,circOut:uh,backIn:ih,backInOut:lh,backOut:oh,anticipate:ch},fh=e=>{if(ph(e)){e.length;const[t,r,n,a]=e;return eh(t,r,n,a)}return"string"===typeof e?("Invalid easing type '".concat(e,"'"),mh[e]):e},gh=(e,t,r)=>{const n=t-e;return 0===n?1:(r-e)/n};function yh(e,t){let{clamp:r=!0,ease:n,mixer:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=e.length;if(t.length,1===s)return()=>t[0];if(2===s&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const i=function(e,t,r){const n=[],a=r||cd.mix||Mu,s=e.length-1;for(let o=0;o<s;o++){let r=a(e[o],e[o+1]);if(t){const e=Array.isArray(t)?t[o]||ld:t;r=Bd(e,r)}n.push(r)}return n}(t,n,a),l=i.length,c=r=>{if(o&&r<e[0])return t[0];let n=0;if(l>1)for(;n<e.length-2&&!(r<e[n+1]);n++);const a=gh(e[n],e[n+1],r);return i[n](a)};return r?t=>c(Ud(e[0],e[s-1],t)):c}function xh(e){const t=[0];return function(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=gh(0,t,n);e.push(Cu(r,1,a))}}(t,e.length-1),t}function vh(e){let{duration:t=300,keyframes:r,times:n,ease:a="easeInOut"}=e;const s=(e=>Array.isArray(e)&&"number"!==typeof e[0])(a)?a.map(fh):fh(a),o={done:!1,value:r[0]},i=function(e,t){return e.map((e=>e*t))}(n&&n.length===r.length?n:xh(r),t),l=yh(i,r,{ease:Array.isArray(s)?s:(c=r,d=s,c.map((()=>d||nh)).splice(0,c.length-1))});var c,d;return{calculatedDuration:t,next:e=>(o.value=l(e),o.done=e>=t,o)}}const bh=e=>null!==e;function wh(e,t,r){let{repeat:n,repeatType:a="loop"}=t,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const o=e.filter(bh),i=s<0||n&&"loop"!==a&&n%2===1?0:o.length-1;return i&&void 0!==r?r:o[i]}const kh={decay:Ju,inertia:Ju,tween:vh,keyframes:vh,spring:Qu};function jh(e){"string"===typeof e.type&&(e.type=kh[e.type])}class Nh{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise((e=>{this.resolve=e}))}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const Sh=e=>e/100;class Ch extends Nh{constructor(e){var t;super(),t=this,this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=function(){var e,r;if(!(arguments.length>0&&void 0!==arguments[0])||arguments[0]){const{motionValue:e}=t.options;e&&e.updatedAt!==Cd.now()&&t.tick(Cd.now())}t.isStopped=!0,"idle"!==t.state&&(t.teardown(),null===(e=(r=t.options).onStop)||void 0===e||e.call(r))},Wd.mainThread++,this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){const{options:e}=this;jh(e);const{type:t=vh,repeat:r=0,repeatDelay:n=0,repeatType:a,velocity:s=0}=e;let{keyframes:o}=e;const i=t||vh;i!==vh&&"number"!==typeof o[0]&&(this.mixKeyframes=Bd(Sh,Mu(o[0],o[1])),o=[0,100]);const l=i(Vt(Vt({},e),{},{keyframes:o}));"mirror"===a&&(this.mirroredGenerator=i(Vt(Vt({},e),{},{keyframes:[...o].reverse(),velocity:-s}))),null===l.calculatedDuration&&(l.calculatedDuration=zu(l));const{calculatedDuration:c}=l;this.calculatedDuration=c,this.resolvedDuration=c+n,this.totalDuration=this.resolvedDuration*(r+1)-n,this.generator=l}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{generator:r,totalDuration:n,mixKeyframes:a,mirroredGenerator:s,resolvedDuration:o,calculatedDuration:i}=this;if(null===this.startTime)return r.next(0);const{delay:l=0,keyframes:c,repeat:d,repeatType:u,repeatDelay:h,type:p,onUpdate:m,finalKeyframe:f}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-n/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?g<0:g>n;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=n);let x=this.currentTime,v=r;if(d){const e=Math.min(this.currentTime,n)/o;let t=Math.floor(e),r=e%1;!r&&e>=1&&(r=1),1===r&&t--,t=Math.min(t,d+1);Boolean(t%2)&&("reverse"===u?(r=1-r,h&&(r-=h/o)):"mirror"===u&&(v=s)),x=Ud(0,1,r)*o}const b=y?{done:!1,value:c[0]}:v.next(x);a&&(b.value=a(b.value));let{done:w}=b;y||null===i||(w=this.playbackSpeed>=0?this.currentTime>=n:this.currentTime<=0);const k=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return k&&p!==Ju&&(b.value=wh(c,this.options,f,this.speed)),m&&m(b.value),k&&this.finish(),b}then(e,t){return this.finished.then(e,t)}get duration(){return Vd(this.calculatedDuration)}get time(){return Vd(this.currentTime)}set time(e){var t;e=zd(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),null===(t=this.driver)||void 0===t||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Cd.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Vd(this.currentTime))}play(){var e,t;if(this.isStopped)return;const{driver:r=Fu,startTime:n}=this.options;this.driver||(this.driver=r((e=>this.tick(e)))),null===(e=(t=this.options).onPlay)||void 0===e||e.call(t);const a=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=a):null!==this.holdTime?this.startTime=a-this.holdTime:this.startTime||(this.startTime=null!==n&&void 0!==n?n:a),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Cd.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",null===(e=(t=this.options).onComplete)||void 0===e||e.call(t)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),null===(e=(t=this.options).onCancel)||void 0===e||e.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,Wd.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),null===(t=this.driver)||void 0===t||t.stop(),e.observe(this)}}const Eh=e=>180*e/Math.PI,Ph=e=>{const t=Eh(Math.atan2(e[1],e[0]));return Th(t)},Ah={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Ph,rotateZ:Ph,skewX:e=>Eh(Math.atan(e[1])),skewY:e=>Eh(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Th=e=>((e%=360)<0&&(e+=360),e),_h=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Dh=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Rh={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:_h,scaleY:Dh,scale:e=>(_h(e)+Dh(e))/2,rotateX:e=>Th(Eh(Math.atan2(e[6],e[5]))),rotateY:e=>Th(Eh(Math.atan2(-e[2],e[0]))),rotateZ:Ph,rotate:Ph,skewX:e=>Eh(Math.atan(e[4])),skewY:e=>Eh(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Lh(e){return e.includes("scale")?1:0}function Ih(e,t){if(!e||"none"===e)return Lh(t);const r=e.match(/^matrix3d\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);let n,a;if(r)n=Rh,a=r;else{const t=e.match(/^matrix\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);n=Ah,a=t}if(!a)return Lh(t);const s=n[t],o=a[1].split(",").map(Oh);return"function"===typeof s?s(o):o[s]}function Oh(e){return parseFloat(e.trim())}const Mh=e=>e===Yd||e===cu,Fh=new Set(["x","y","z"]),Bh=yd.filter((e=>!Fh.has(e)));const Uh={width:(e,t)=>{let{x:r}=e,{paddingLeft:n="0",paddingRight:a="0"}=t;return r.max-r.min-parseFloat(n)-parseFloat(a)},height:(e,t)=>{let{y:r}=e,{paddingTop:n="0",paddingBottom:a="0"}=t;return r.max-r.min-parseFloat(n)-parseFloat(a)},top:(e,t)=>{let{top:r}=t;return parseFloat(r)},left:(e,t)=>{let{left:r}=t;return parseFloat(r)},bottom:(e,t)=>{let{y:r}=e,{top:n}=t;return parseFloat(n)+(r.max-r.min)},right:(e,t)=>{let{x:r}=e,{left:n}=t;return parseFloat(n)+(r.max-r.min)},x:(e,t)=>{let{transform:r}=t;return Ih(r,"x")},y:(e,t)=>{let{transform:r}=t;return Ih(r,"y")}};Uh.translateX=Uh.x,Uh.translateY=Uh.y;const zh=new Set;let Vh=!1,Wh=!1,Hh=!1;function qh(){if(Wh){const e=Array.from(zh).filter((e=>e.needsMeasurement)),t=new Set(e.map((e=>e.element))),r=new Map;t.forEach((e=>{const t=function(e){const t=[];return Bh.forEach((r=>{const n=e.getValue(r);void 0!==n&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))})),t}(e);t.length&&(r.set(e,t),e.render())})),e.forEach((e=>e.measureInitialState())),t.forEach((e=>{e.render();const t=r.get(e);t&&t.forEach((t=>{var r;let[n,a]=t;null===(r=e.getValue(n))||void 0===r||r.set(a)}))})),e.forEach((e=>e.measureEndState())),e.forEach((e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)}))}Wh=!1,Vh=!1,zh.forEach((e=>e.complete(Hh))),zh.clear()}function Gh(){zh.forEach((e=>{e.readKeyframes(),e.needsMeasurement&&(Wh=!0)}))}class Kh{constructor(e,t,r,n,a){let s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=n,this.element=a,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(zh.add(this),Vh||(Vh=!0,pd.read(Gh),pd.resolveKeyframes(qh))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:n}=this;if(null===e[0]){const a=null===n||void 0===n?void 0:n.get(),s=e[e.length-1];if(void 0!==a)e[0]=a;else if(r&&t){const n=r.readValue(t,s);void 0!==n&&null!==n&&(e[0]=n)}void 0===e[0]&&(e[0]=s),n&&void 0===a&&n.set(e[0])}!function(e){for(let r=1;r<e.length;r++){var t;null!==(t=e[r])&&void 0!==t||(e[r]=e[r-1])}}(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),zh.delete(this)}cancel(){"scheduled"===this.state&&(zh.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}function $h(e){let t;return()=>(void 0===t&&(t=e()),t)}const Yh=$h((()=>void 0!==window.ScrollTimeline)),Xh={};function Qh(e,t){const r=$h(e);return()=>{var e;return null!==(e=Xh[t])&&void 0!==e?e:r()}}const Jh=Qh((()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(Cx){return!1}return!0}),"linearEasing"),Zh=e=>{let[t,r,n,a]=e;return"cubic-bezier(".concat(t,", ").concat(r,", ").concat(n,", ").concat(a,")")},ep={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Zh([0,.65,.55,1]),circOut:Zh([.55,0,1,.45]),backIn:Zh([.31,.01,.66,-.59]),backOut:Zh([.33,1.53,.69,.99])};function tp(e,t){return e?"function"===typeof e?Jh()?Bu(e,t):"ease-out":ph(e)?Zh(e):Array.isArray(e)?e.map((e=>tp(e,t)||ep.easeOut)):ep[e]:void 0}function rp(e,t,r){let{delay:n=0,duration:a=300,repeat:s=0,repeatType:o="loop",ease:i="easeOut",times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const d={[t]:r};l&&(d.offset=l);const u=tp(i,a);Array.isArray(u)&&(d.easing=u),ud.value&&Wd.waapi++;const h={delay:n,duration:a,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:"reverse"===o?"alternate":"normal"};c&&(h.pseudoElement=c);const p=e.animate(d,h);return ud.value&&p.finished.finally((()=>{Wd.waapi--})),p}function np(e){return"function"===typeof e&&"applyToOptions"in e}const ap=["type"];class sp extends Nh{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:r,keyframes:n,pseudoElement:a,allowFlatten:s=!1,finalKeyframe:o,onComplete:i}=e;this.isPseudoElement=Boolean(a),this.allowFlatten=s,this.options=e,e.type;const l=function(e){let{type:t}=e,r=Vn(e,ap);return np(t)&&Jh()?t.applyToOptions(r):(null!==(n=r.duration)&&void 0!==n||(r.duration=300),null!==(a=r.ease)&&void 0!==a||(r.ease="easeOut"),r);var n,a}(e);this.animation=rp(t,r,n,l,a),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const e=wh(n,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(e):function(e,t,r){(e=>e.startsWith("--"))(t)?e.style.setProperty(t,r):e.style[t]=r}(t,r,e),this.animation.cancel()}null===i||void 0===i||i(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;null===(e=(t=this.animation).finish)||void 0===e||e.call(t)}cancel(){try{this.animation.cancel()}catch(Cx){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(null===(e=(t=this.animation).commitStyles)||void 0===e||e.call(t))}get duration(){var e,t;const r=(null===(e=this.animation.effect)||void 0===e||null===(t=e.getComputedTiming)||void 0===t?void 0:t.call(e).duration)||0;return Vd(Number(r))}get time(){return Vd(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=zd(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline(e){let{timeline:t,observe:r}=e;var n;this.allowFlatten&&(null===(n=this.animation.effect)||void 0===n||n.updateTiming({easing:"linear"}));return this.animation.onfinish=null,t&&Yh()?(this.animation.timeline=t,ld):r(this)}}const op={anticipate:ch,backInOut:lh,circInOut:hh};function ip(e){"string"===typeof e.ease&&e.ease in op&&(e.ease=op[e.ease])}const lp=["motionValue","onUpdate","onComplete","element"];class cp extends sp{constructor(e){ip(e),jh(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){var t;const r=this.options,{motionValue:n,onUpdate:a,onComplete:s,element:o}=r,i=Vn(r,lp);if(!n)return;if(void 0!==e)return void n.set(e);const l=new Ch(Vt(Vt({},i),{},{autoplay:!1})),c=zd(null!==(t=this.finishedTime)&&void 0!==t?t:this.time);n.setWithVelocity(l.sample(c-10).value,l.sample(c).value,10),l.stop()}}const dp=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!ju.test(e)&&"0"!==e||e.startsWith("url(")));function up(e){return"object"===typeof e&&null!==e}function hp(e){return up(e)&&"offsetHeight"in e}const pp=new Set(["opacity","clipPath","filter","transform"]),mp=$h((()=>Object.hasOwnProperty.call(Element.prototype,"animate")));const fp=["autoplay","delay","type","repeat","repeatDelay","repeatType","keyframes","name","motionValue","element"];class gp extends Nh{constructor(e){var t;let{autoplay:r=!0,delay:n=0,type:a="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:i="loop",keyframes:l,name:c,motionValue:d,element:u}=e,h=Vn(e,fp);super(),this.stop=()=>{var e,t;this._animation&&(this._animation.stop(),null===(t=this.stopTimeline)||void 0===t||t.call(this));null===(e=this.keyframeResolver)||void 0===e||e.cancel()},this.createdAt=Cd.now();const p=Vt({autoplay:r,delay:n,type:a,repeat:s,repeatDelay:o,repeatType:i,name:c,motionValue:d,element:u},h),m=(null===u||void 0===u?void 0:u.KeyframeResolver)||Kh;this.keyframeResolver=new m(l,((e,t,r)=>this.onKeyframesResolved(e,t,p,!r)),c,d,u),null===(t=this.keyframeResolver)||void 0===t||t.scheduleResolve()}onKeyframesResolved(e,t,r,n){this.keyframeResolver=void 0;const{name:a,type:s,velocity:o,delay:i,isHandoff:l,onUpdate:c}=r;this.resolvedAt=Cd.now(),function(e,t,r,n){const a=e[0];if(null===a)return!1;if("display"===t||"visibility"===t)return!0;const s=e[e.length-1],o=dp(a,t),i=dp(s,t);return"You are trying to animate ".concat(t,' from "').concat(a,'" to "').concat(s,'". ').concat(a," is not an animatable value - to enable this animation set ").concat(a," to a value animatable to ").concat(s," via the `style` property."),!(!o||!i)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}(e)||("spring"===r||np(r))&&n)}(e,a,s,o)||(!cd.instantAnimations&&i||null===c||void 0===c||c(wh(e,r,t)),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const d=Vt(Vt({startTime:n?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t},r),{},{keyframes:e}),u=!l&&function(e){var t;const{motionValue:r,name:n,repeatDelay:a,repeatType:s,damping:o,type:i}=e;if(!hp(null===r||void 0===r||null===(t=r.owner)||void 0===t?void 0:t.current))return!1;const{onUpdate:l,transformTemplate:c}=r.owner.getProps();return mp()&&n&&pp.has(n)&&("transform"!==n||!c)&&!l&&!a&&"mirror"!==s&&0!==o&&"inertia"!==i}(d)?new cp(Vt(Vt({},d),{},{element:d.motionValue.owner.current})):new Ch(d);u.finished.then((()=>this.notifyFinished())).catch(ld),this.pendingTimeline&&(this.stopTimeline=u.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=u}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then((()=>{}))}get animation(){var e;this._animation||(null===(e=this.keyframeResolver)||void 0===e||e.resume(),Hh=!0,Gh(),qh(),Hh=!1);return this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),null===(e=this.keyframeResolver)||void 0===e||e.cancel()}}const yp=e=>null!==e;const xp={type:"spring",stiffness:500,damping:25,restSpeed:10},vp={type:"keyframes",duration:.8},bp={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},wp=(e,t)=>{let{keyframes:r}=t;return r.length>2?vp:xd.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===r[1]?2*Math.sqrt(550):30,restSpeed:10}:xp:bp},kp=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];const jp=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0;return o=>{const i=id(n,e)||{},l=i.delay||n.delay||0;let{elapsed:c=0}=n;c-=zd(l);const d=Vt(Vt({keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity()},i),{},{delay:-c,onUpdate:e=>{t.set(e),i.onUpdate&&i.onUpdate(e)},onComplete:()=>{o(),i.onComplete&&i.onComplete()},name:e,motionValue:t,element:s?void 0:a});(function(e){let{when:t,delay:r,delayChildren:n,staggerChildren:a,staggerDirection:s,repeat:o,repeatType:i,repeatDelay:l,from:c,elapsed:d}=e,u=Vn(e,kp);return!!Object.keys(u).length})(i)||Object.assign(d,wp(e,d)),d.duration&&(d.duration=zd(d.duration)),d.repeatDelay&&(d.repeatDelay=zd(d.repeatDelay)),void 0!==d.from&&(d.keyframes[0]=d.from);let u=!1;if((!1===d.type||0===d.duration&&!d.repeatDelay)&&(d.duration=0,0===d.delay&&(u=!0)),(cd.instantAnimations||cd.skipAnimations)&&(u=!0,d.duration=0,d.delay=0),d.allowFlatten=!i.type&&!i.ease,u&&!s&&void 0!==t.get()){const e=function(e,t,r){let{repeat:n,repeatType:a="loop"}=t;const s=e.filter(yp),o=n&&"loop"!==a&&n%2===1?0:s.length-1;return o&&void 0!==r?r:s[o]}(d.keyframes,i);if(void 0!==e)return void pd.update((()=>{d.onUpdate(e),d.onComplete()}))}return i.isSync?new Ch(d):new gp(d)}},Np=["transition","transitionEnd"];function Sp(e,t){let{protectedKeys:r,needsAnimating:n}=e;const a=r.hasOwnProperty(t)&&!0!==n[t];return n[t]=!1,a}function Cp(e,t){let{delay:r=0,transitionOverride:n,type:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:s=e.getDefaultTransition(),transitionEnd:o}=t,i=Vn(t,Np);n&&(s=n);const l=[],c=a&&e.animationState&&e.animationState.getState()[a];for(const u in i){var d;const t=e.getValue(u,null!==(d=e.latestValues[u])&&void 0!==d?d:null),n=i[u];if(void 0===n||c&&Sp(c,u))continue;const a=Vt({delay:r},id(s||{},u)),o=t.get();if(void 0!==o&&!t.isAnimating&&!Array.isArray(n)&&n===o&&!a.velocity)continue;let h=!1;if(window.MotionHandoffAnimation){const t=Md(e);if(t){const e=window.MotionHandoffAnimation(t,u,pd);null!==e&&(a.startTime=e,h=!0)}}Ld(e,u),t.start(jp(u,t,n,e.shouldReduceMotion&&vd.has(u)?{type:!1}:a,e,h));const p=t.animation;p&&l.push(p)}return o&&Promise.all(l).then((()=>{pd.update((()=>{o&&function(e,t){let r=od(e,t)||{},{transitionEnd:n={},transition:a={}}=r,s=Vn(r,_d);s=Vt(Vt({},s),n);for(const i in s)Dd(e,i,(o=s[i],Td(o)?o[o.length-1]||0:o));var o}(e,o)}))})),l}function Ep(e,t){var r;let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=od(e,t,"exit"===n.type?null===(r=e.presenceContext)||void 0===r?void 0:r.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(s=n.transitionOverride);const o=a?()=>Promise.all(Cp(e,a,n)):()=>Promise.resolve(),i=e.variantChildren&&e.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:a=0,staggerChildren:o,staggerDirection:i}=s;return function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5?arguments[5]:void 0;const o=[],i=(e.variantChildren.size-1)*n,l=1===a?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*n}:function(){return i-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*n};return Array.from(e.variantChildren).sort(Pp).forEach(((e,n)=>{e.notify("AnimationStart",t),o.push(Ep(e,t,Vt(Vt({},s),{},{delay:r+l(n)})).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(o)}(e,t,a+r,o,i,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[e,t]="beforeChildren"===l?[o,i]:[i,o];return e().then((()=>t()))}return Promise.all([o(),i(n.delay)])}function Pp(e,t){return e.sortNodePosition(t)}function Ap(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Tp(e){return"string"===typeof e||Array.isArray(e)}const _p=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Dp=["initial",..._p],Rp=Dp.length;function Lp(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&Lp(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let r=0;r<Rp;r++){const n=Dp[r],a=e.props[n];(Tp(a)||!1===a)&&(t[n]=a)}return t}const Ip=["transition","transitionEnd"],Op=[..._p].reverse(),Mp=_p.length;function Fp(e){return t=>Promise.all(t.map((t=>{let{animation:r,options:n}=t;return function(e,t){let r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const a=t.map((t=>Ep(e,t,n)));r=Promise.all(a)}else if("string"===typeof t)r=Ep(e,t,n);else{const a="function"===typeof t?od(e,t,n.custom):t;r=Promise.all(Cp(e,a,n))}return r.then((()=>{e.notify("AnimationComplete",t)}))}(e,r,n)})))}function Bp(e){let t=Fp(e),r=Vp(),n=!0;const a=t=>(r,n)=>{var a;const s=od(e,n,"exit"===t?null===(a=e.presenceContext)||void 0===a?void 0:a.custom:void 0);if(s){const{transition:e,transitionEnd:t}=s,n=Vn(s,Ip);r=Vt(Vt(Vt({},r),n),t)}return r};function s(s){const{props:o}=e,i=Lp(e.parent)||{},l=[],c=new Set;let d={},u=1/0;for(let t=0;t<Mp;t++){const h=Op[t],p=r[h],m=void 0!==o[h]?o[h]:i[h],f=Tp(m),g=h===s?p.isActive:null;!1===g&&(u=t);let y=m===i[h]&&m!==o[h]&&f;if(y&&n&&e.manuallyAnimateOnMount&&(y=!1),p.protectedKeys=Vt({},d),!p.isActive&&null===g||!m&&!p.prevProp||nd(m)||"boolean"===typeof m)continue;const x=Up(p.prevProp,m);let v=x||h===s&&p.isActive&&!y&&f||t>u&&f,b=!1;const w=Array.isArray(m)?m:[m];let k=w.reduce(a(h),{});!1===g&&(k={});const{prevResolvedValues:j={}}=p,N=Vt(Vt({},j),k),S=t=>{v=!0,c.has(t)&&(b=!0,c.delete(t)),p.needsAnimating[t]=!0;const r=e.getValue(t);r&&(r.liveStyle=!1)};for(const e in N){const t=k[e],r=j[e];if(d.hasOwnProperty(e))continue;let n=!1;n=Td(t)&&Td(r)?!Ap(t,r):t!==r,n?void 0!==t&&null!==t?S(e):c.add(e):void 0!==t&&c.has(e)?S(e):p.protectedKeys[e]=!0}p.prevProp=m,p.prevResolvedValues=k,p.isActive&&(d=Vt(Vt({},d),k)),n&&e.blockInitialAnimation&&(v=!1);v&&(!(y&&x)||b)&&l.push(...w.map((e=>({animation:e,options:{type:h}}))))}if(c.size){const t={};if("boolean"!==typeof o.initial){const r=od(e,Array.isArray(o.initial)?o.initial[0]:o.initial);r&&r.transition&&(t.transition=r.transition)}c.forEach((r=>{const n=e.getBaseTarget(r),a=e.getValue(r);a&&(a.liveStyle=!0),t[r]=null!==n&&void 0!==n?n:null})),l.push({animation:t})}let h=Boolean(l.length);return!n||!1!==o.initial&&o.initial!==o.animate||e.manuallyAnimateOnMount||(h=!1),n=!1,h?t(l):Promise.resolve()}return{animateChanges:s,setActive:function(t,n){var a;if(r[t].isActive===n)return Promise.resolve();null===(a=e.variantChildren)||void 0===a||a.forEach((e=>{var r;return null===(r=e.animationState)||void 0===r?void 0:r.setActive(t,n)})),r[t].isActive=n;const o=s(t);for(const e in r)r[e].protectedKeys={};return o},setAnimateFunction:function(r){t=r(e)},getState:()=>r,reset:()=>{r=Vp(),n=!0}}}function Up(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!Ap(t,e)}function zp(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Vp(){return{animate:zp(!0),whileInView:zp(),whileHover:zp(),whileTap:zp(),whileDrag:zp(),whileFocus:zp(),exit:zp()}}class Wp{constructor(e){this.isMounted=!1,this.node=e}update(){}}let Hp=0;const qp={animation:{Feature:class extends Wp{constructor(e){super(e),e.animationState||(e.animationState=Bp(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();nd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends Wp{constructor(){super(...arguments),this.id=Hp++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const n=this.node.animationState.setActive("exit",!e);t&&!e&&n.then((()=>{t(this.id)}))}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}},Gp={x:!1,y:!1};function Kp(){return Gp.x||Gp.y}function $p(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}const Yp=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function Xp(e){return{point:{x:e.pageX,y:e.pageY}}}function Qp(e,t,r,n){return $p(e,t,(e=>t=>Yp(t)&&e(t,Xp(t)))(r),n)}function Jp(e){let{top:t,left:r,right:n,bottom:a}=e;return{x:{min:r,max:n},y:{min:t,max:a}}}function Zp(e){return e.max-e.min}function em(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=n,e.originPoint=Cu(t.min,t.max,e.origin),e.scale=Zp(r)/Zp(t),e.translate=Cu(r.min,r.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function tm(e,t,r,n){em(e.x,t.x,r.x,n?n.originX:void 0),em(e.y,t.y,r.y,n?n.originY:void 0)}function rm(e,t,r){e.min=r.min+t.min,e.max=e.min+Zp(t)}function nm(e,t,r){e.min=t.min-r.min,e.max=e.min+Zp(t)}function am(e,t,r){nm(e.x,t.x,r.x),nm(e.y,t.y,r.y)}const sm=()=>({x:{min:0,max:0},y:{min:0,max:0}});function om(e){return[e("x"),e("y")]}function im(e){return void 0===e||1===e}function lm(e){let{scale:t,scaleX:r,scaleY:n}=e;return!im(t)||!im(r)||!im(n)}function cm(e){return lm(e)||dm(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function dm(e){return um(e.x)||um(e.y)}function um(e){return e&&"0%"!==e}function hm(e,t,r){return r+t*(e-r)}function pm(e,t,r,n,a){return void 0!==a&&(e=hm(e,a,n)),hm(e,r,n)+t}function mm(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;e.min=pm(e.min,t,r,n,a),e.max=pm(e.max,t,r,n,a)}function fm(e,t){let{x:r,y:n}=t;mm(e.x,r.translate,r.scale,r.originPoint),mm(e.y,n.translate,n.scale,n.originPoint)}const gm=.999999999999,ym=1.0000000000001;function xm(e,t){e.min=e.min+t,e.max=e.max+t}function vm(e,t,r,n){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;mm(e,t,r,Cu(e.min,e.max,a),n)}function bm(e,t){vm(e.x,t.x,t.scaleX,t.scale,t.originX),vm(e.y,t.y,t.scaleY,t.scale,t.originY)}function wm(e,t){return Jp(function(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}(e.getBoundingClientRect(),t))}const km=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null};function jm(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}const Nm=(e,t)=>Math.abs(e-t);class Sm{constructor(e,t){let{transformPagePoint:r,contextWindow:n,dragSnapToOrigin:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=Pm(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,r=function(e,t){const r=Nm(e.x,t.x),n=Nm(e.y,t.y);return Math.sqrt(r**2+n**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!r)return;const{point:n}=e,{timestamp:a}=fd;this.history.push(Vt(Vt({},n),{},{timestamp:a}));const{onStart:s,onMove:o}=this.handlers;t||(s&&s(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),o&&o(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=Cm(t,this.transformPagePoint),pd.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:r,onSessionEnd:n,resumeAnimation:a}=this.handlers;if(this.dragSnapToOrigin&&a&&a(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const s=Pm("pointercancel"===e.type?this.lastMoveEventInfo:Cm(t,this.transformPagePoint),this.history);this.startEvent&&r&&r(e,s),n&&n(e,s)},!Yp(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=r,this.contextWindow=n||window;const s=Cm(Xp(e),this.transformPagePoint),{point:o}=s,{timestamp:i}=fd;this.history=[Vt(Vt({},o),{},{timestamp:i})];const{onSessionStart:l}=t;l&&l(e,Pm(s,this.history)),this.removeListeners=Bd(Qp(this.contextWindow,"pointermove",this.handlePointerMove),Qp(this.contextWindow,"pointerup",this.handlePointerUp),Qp(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),md(this.updatePoint)}}function Cm(e,t){return t?{point:t(e.point)}:e}function Em(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Pm(e,t){let{point:r}=e;return{point:r,delta:Em(r,Tm(t)),offset:Em(r,Am(t)),velocity:_m(t,.1)}}function Am(e){return e[0]}function Tm(e){return e[e.length-1]}function _m(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=Tm(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>zd(t)));)r--;if(!n)return{x:0,y:0};const s=Vd(a.timestamp-n.timestamp);if(0===s)return{x:0,y:0};const o={x:(a.x-n.x)/s,y:(a.y-n.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Dm(e,t,r){return{min:void 0!==t?e.min+t:void 0,max:void 0!==r?e.max+r-(e.max-e.min):void 0}}function Rm(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}const Lm=.35;function Im(e,t,r){return{min:Om(e,t),max:Om(e,r)}}function Om(e,t){return"number"===typeof e?e:e[t]||0}const Mm=new WeakMap;class Fm{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:r}=this.visualElement;if(r&&!1===r.isPresent)return;const{dragSnapToOrigin:n}=this.getProps();this.panSession=new Sm(e,{onSessionStart:e=>{const{dragSnapToOrigin:r}=this.getProps();r?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Xp(e).point)},onStart:(e,t)=>{const{drag:r,dragPropagation:n,onDragStart:a}=this.getProps();if(r&&!n&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(s=r)||"y"===s?Gp[s]?null:(Gp[s]=!0,()=>{Gp[s]=!1}):Gp.x||Gp.y?null:(Gp.x=Gp.y=!0,()=>{Gp.x=Gp.y=!1}),!this.openDragLock))return;var s;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),om((e=>{let t=this.getAxisMotionValue(e).get()||0;if(lu.test(t)){const{projection:r}=this.visualElement;if(r&&r.layout){const n=r.layout.layoutBox[e];if(n){t=Zp(n)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),a&&pd.postRender((()=>a(e,t))),Ld(this.visualElement,"transform");const{animationState:o}=this.visualElement;o&&o.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:r,dragDirectionLock:n,onDirectionLock:a,onDrag:s}=this.getProps();if(!r&&!this.openDragLock)return;const{offset:o}=t;if(n&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=null;Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x");return r}(o),void(null!==this.currentDirection&&a&&a(this.currentDirection));this.updateAxis("x",t.point,o),this.updateAxis("y",t.point,o),this.visualElement.render(),s&&s(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>om((e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())}))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:n,contextWindow:km(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:n}=t;this.startAnimation(n);const{onDragEnd:a}=this.getProps();a&&pd.postRender((()=>a(e,t)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:n}=this.getProps();if(!r||!Bm(e,n,this.currentDirection))return;const a=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=function(e,t,r){let{min:n,max:a}=t;return void 0!==n&&e<n?e=r?Cu(n,e,r.min):Math.max(e,n):void 0!==a&&e>a&&(e=r?Cu(a,e,r.max):Math.min(e,a)),e}(s,this.constraints[e],this.elastic[e])),a.set(s)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,a=this.constraints;t&&jm(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!n)&&function(e,t){let{top:r,left:n,bottom:a,right:s}=t;return{x:Dm(e.x,n,s),y:Dm(e.y,r,a)}}(n.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lm;return!1===e?e=0:!0===e&&(e=Lm),{x:Im(e,"left","right"),y:Im(e,"top","bottom")}}(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&om((e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const r={};return void 0!==t.min&&(r.min=t.min-e.min),void 0!==t.max&&(r.max=t.max-e.min),r}(n.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!jm(e))return!1;const r=e.current,{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const a=function(e,t,r){const n=wm(e,r),{scroll:a}=t;return a&&(xm(n.x,a.offset.x),xm(n.y,a.offset.y)),n}(r,n.root,this.visualElement.getTransformPagePoint());let s=function(e,t){return{x:Rm(e.x,t.x),y:Rm(e.y,t.y)}}(n.layout.layoutBox,a);if(t){const e=t(function(e){let{x:t,y:r}=e;return{top:r.min,right:t.max,bottom:r.max,left:t.min}}(s));this.hasMutatedConstraints=!!e,e&&(s=Jp(e))}return s}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:n,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),i=this.constraints||{},l=om((o=>{if(!Bm(o,t,this.currentDirection))return;let l=i&&i[o]||{};s&&(l={min:0,max:0});const c=n?200:1e6,d=n?40:1e7,u=Vt(Vt({type:"inertia",velocity:r?e[o]:0,bounceStiffness:c,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10},a),l);return this.startAxisValueAnimation(o,u)}));return Promise.all(l).then(o)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return Ld(this.visualElement,e),r.start(jp(e,r,0,t,this.visualElement,!1))}stopAnimation(){om((e=>this.getAxisMotionValue(e).stop()))}pauseAnimation(){om((e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()}))}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag".concat(e.toUpperCase()),r=this.visualElement.getProps(),n=r[t];return n||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){om((t=>{const{drag:r}=this.getProps();if(!Bm(t,r,this.currentDirection))return;const{projection:n}=this.visualElement,a=this.getAxisMotionValue(t);if(n&&n.layout){const{min:r,max:s}=n.layout.layoutBox[t];a.set(e[t]-Cu(r,s,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!jm(t)||!r||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};om((e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const r=t.get();n[e]=function(e,t){let r=.5;const n=Zp(e),a=Zp(t);return a>n?r=gh(t.min,t.max-n,e.min):n>a&&(r=gh(e.min,e.max-a,t.min)),Ud(0,1,r)}({min:r,max:r},this.constraints[e])}}));const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),om((t=>{if(!Bm(t,e,null))return;const r=this.getAxisMotionValue(t),{min:a,max:s}=this.constraints[t];r.set(Cu(a,s,n[t]))}))}addListeners(){if(!this.visualElement.current)return;Mm.set(this.visualElement,this);const e=Qp(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:r=!0}=this.getProps();t&&r&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();jm(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,n=r.addEventListener("measure",t);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),pd.read(t);const a=$p(window,"resize",(()=>this.scalePositionWithinConstraints())),s=r.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:r}=e;this.isDragging&&r&&(om((e=>{const r=this.getAxisMotionValue(e);r&&(this.originPoint[e]+=t[e].translate,r.set(r.get()+t[e].translate))})),this.visualElement.render())}));return()=>{a(),e(),n(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:n=!1,dragConstraints:a=!1,dragElastic:s=Lm,dragMomentum:o=!0}=e;return Vt(Vt({},e),{},{drag:t,dragDirectionLock:r,dragPropagation:n,dragConstraints:a,dragElastic:s,dragMomentum:o})}}function Bm(e,t,r){return(!0===t||t===e)&&(null===r||r===e)}const Um=e=>(t,r)=>{e&&pd.postRender((()=>e(t,r)))};const{schedule:zm,cancel:Vm}=hd(queueMicrotask,!1),Wm=(0,s.createContext)(null);const Hm=(0,s.createContext)({}),qm=(0,s.createContext)({}),Gm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Km(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const $m={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!cu.test(e))return e;e=parseFloat(e)}const r=Km(e,t.target.x),n=Km(e,t.target.y);return"".concat(r,"% ").concat(n,"%")}},Ym={correct:(e,t)=>{let{treeScale:r,projectionDelta:n}=t;const a=e,s=ju.parse(e);if(s.length>5)return a;const o=ju.createTransformer(e),i="number"!==typeof s[0]?1:0,l=n.x.scale*r.x,c=n.y.scale*r.y;s[0+i]/=l,s[1+i]/=c;const d=Cu(l,c,.5);return"number"===typeof s[2+i]&&(s[2+i]/=d),"number"===typeof s[3+i]&&(s[3+i]/=d),o(s)}},Xm={};class Qm extends s.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:n}=this.props,{projection:a}=e;!function(e){for(const t in e)Xm[t]=e[t],qd(t)&&(Xm[t].isCSSVariable=!0)}(Zm),a&&(t.group&&t.group.add(a),r&&r.register&&n&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",(()=>{this.safeToRemove()})),a.setOptions(Vt(Vt({},a.options),{},{onExitComplete:()=>this.safeToRemove()}))),Gm.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:n,isPresent:a}=this.props,{projection:s}=r;return s?(s.isPresent=a,n||e.layoutDependency!==t||void 0===t||e.isPresent!==a?s.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?s.promote():s.relegate()||pd.postRender((()=>{const e=s.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),zm.postRender((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:n}=e;n&&(n.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(n),r&&r.deregister&&r.deregister(n))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Jm(e){const[t,r]=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=(0,s.useContext)(Wm);if(null===t)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,o=(0,s.useId)();(0,s.useEffect)((()=>{if(e)return a(o)}),[e]);const i=(0,s.useCallback)((()=>e&&n&&n(o)),[o,n,e]);return!r&&n?[!1,i]:[!0]}(),n=(0,s.useContext)(Hm);return(0,hn.jsx)(Qm,Vt(Vt({},e),{},{layoutGroup:n,switchLayoutGroup:(0,s.useContext)(qm),isPresent:t,safeToRemove:r}))}const Zm={borderRadius:Vt(Vt({},$m),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:$m,borderTopRightRadius:$m,borderBottomLeftRadius:$m,borderBottomRightRadius:$m,boxShadow:Ym};function ef(e){return up(e)&&"ownerSVGElement"in e}const tf=(e,t)=>e.depth-t.depth;class rf{constructor(){this.children=[],this.isDirty=!1}add(e){bd(this.children,e),this.isDirty=!0}remove(e){wd(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(tf),this.isDirty=!1,this.children.forEach(e)}}function nf(e,t){const r=Cd.now(),n=a=>{let{timestamp:s}=a;const o=s-r;o>=t&&(md(n),e(o-t))};return pd.setup(n,!0),()=>md(n)}function af(e){return Rd(e)?e.get():e}const sf=["TopLeft","TopRight","BottomLeft","BottomRight"],of=sf.length,lf=e=>"string"===typeof e?parseFloat(e):e,cf=e=>"number"===typeof e||cu.test(e);function df(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const uf=pf(0,.5,uh),hf=pf(.5,.95,ld);function pf(e,t,r){return n=>n<e?0:n>t?1:r(gh(e,t,n))}function mf(e,t){e.min=t.min,e.max=t.max}function ff(e,t){mf(e.x,t.x),mf(e.y,t.y)}function gf(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function yf(e,t,r,n,a){return e=hm(e-=t,1/r,n),void 0!==a&&(e=hm(e,1/a,n)),e}function xf(e,t,r,n,a){let[s,o,i]=r;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;lu.test(t)&&(t=parseFloat(t),t=Cu(o.min,o.max,t/100)-o.min);if("number"!==typeof t)return;let i=Cu(s.min,s.max,n);e===s&&(i-=t),e.min=yf(e.min,t,r,i,a),e.max=yf(e.max,t,r,i,a)}(e,t[s],t[o],t[i],t.scale,n,a)}const vf=["x","scaleX","originX"],bf=["y","scaleY","originY"];function wf(e,t,r,n){xf(e.x,t,vf,r?r.x:void 0,n?n.x:void 0),xf(e.y,t,bf,r?r.y:void 0,n?n.y:void 0)}function kf(e){return 0===e.translate&&1===e.scale}function jf(e){return kf(e.x)&&kf(e.y)}function Nf(e,t){return e.min===t.min&&e.max===t.max}function Sf(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Cf(e,t){return Sf(e.x,t.x)&&Sf(e.y,t.y)}function Ef(e){return Zp(e.x)/Zp(e.y)}function Pf(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Af{constructor(){this.members=[]}add(e){bd(this.members,e),e.scheduleRender()}remove(e){if(wd(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let r;for(let n=t;n>=0;n--){const e=this.members[n];if(!1!==e.isPresent){r=e;break}}return!!r&&(this.promote(r),!0)}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:n}=e.options;!1===n&&r.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Tf={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},_f=["","X","Y","Z"],Df={visibility:"hidden"};let Rf=0;function Lf(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function If(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=Md(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:t,layoutId:n}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",pd,!(t||n))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&If(n)}function Of(e){let{attachResizeListener:t,defaultParent:r,measureScroll:n,checkIsScrollRoot:a,resetTransform:s}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===r||void 0===r?void 0:r();this.id=Rf++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ud.value&&(Tf.nodes=Tf.calculatedTargetDeltas=Tf.calculatedProjections=0),this.nodes.forEach(Bf),this.nodes.forEach(Gf),this.nodes.forEach(Kf),this.nodes.forEach(Uf),ud.addProjectionMetrics&&ud.addProjectionMetrics(Tf)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let r=0;r<this.path.length;r++)this.path[r].shouldResetTransform=!0;this.root===this&&(this.nodes=new rf)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new kd),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];t&&t.notify(...n)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){if(this.instance)return;var r;this.isSVG=ef(e)&&!(ef(r=e)&&"svg"===r.tagName),this.instance=e;const{layoutId:n,layout:a,visualElement:s}=this.options;if(s&&!s.current&&s.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(a||n)&&(this.isLayoutDirty=!0),t){let r;const n=()=>this.root.updateBlockedByResize=!1;t(e,(()=>{this.root.updateBlockedByResize=!0,r&&r(),r=nf(n,250),Gm.hasAnimatedSinceResize&&(Gm.hasAnimatedSinceResize=!1,this.nodes.forEach(qf))}))}n&&this.root.registerSharedNode(n,this),!1!==this.options.animate&&s&&(n||a)&&this.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:r,hasRelativeLayoutChanged:n,layout:a}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const o=this.options.transition||s.getDefaultTransition()||Zf,{onLayoutAnimationStart:i,onLayoutAnimationComplete:l}=s.getProps(),c=!this.targetLayout||!Cf(this.targetLayout,a),d=!r&&n;if(this.options.layoutRoot||this.resumeFrom||d||r&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,d);const e=Vt(Vt({},id(o,"layout")),{},{onPlay:i,onComplete:l});(s.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else r||qf(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=a}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),md(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach($f),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&If(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let a=0;a<this.path.length;a++){const e=this.path[a];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:r}=this.options;if(void 0===t&&!r)return;const n=this.getTransformTemplate();this.prevTransformTemplateValue=n?n(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Vf);this.isUpdating||this.nodes.forEach(Wf),this.isUpdating=!1,this.nodes.forEach(Hf),this.nodes.forEach(Mf),this.nodes.forEach(Ff),this.clearAllSnapshots();const e=Cd.now();fd.delta=Ud(0,1e3/60,e-fd.timestamp),fd.timestamp=e,fd.isProcessing=!0,gd.update.process(fd),gd.preRender.process(fd),gd.render.process(fd),fd.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,zm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(zf),this.sharedNodes.forEach(Yf)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,pd.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){pd.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||Zp(this.snapshot.measuredBox.x)||Zp(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let r=0;r<this.path.length;r++){this.path[r].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){const t=a(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!s)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!jf(this.projectionDelta),r=this.getTransformTemplate(),n=r?r(this.latestValues,""):void 0,a=n!==this.prevTransformTemplateValue;e&&this.instance&&(t||cm(this.latestValues)||a)&&(s(this.instance,n),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let r=this.removeElementScroll(t);var n;return e&&(r=this.removeTransform(r)),rg((n=r).x),rg(n.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:r,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const r=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(ag))){const{scroll:e}=this.root;e&&(xm(r.x,e.offset.x),xm(r.y,e.offset.y))}return r}removeElementScroll(e){var t;const r={x:{min:0,max:0},y:{min:0,max:0}};if(ff(r,e),null!==(t=this.scroll)&&void 0!==t&&t.wasRoot)return r;for(let n=0;n<this.path.length;n++){const t=this.path[n],{scroll:a,options:s}=t;t!==this.root&&a&&s.layoutScroll&&(a.wasRoot&&ff(r,e),xm(r.x,a.offset.x),xm(r.y,a.offset.y))}return r}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r={x:{min:0,max:0},y:{min:0,max:0}};ff(r,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&bm(r,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),cm(e.latestValues)&&bm(r,e.latestValues)}return cm(this.latestValues)&&bm(r,this.latestValues),r}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};ff(t,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];if(!e.instance)continue;if(!cm(e.latestValues))continue;lm(e.latestValues)&&e.updateSnapshot();const n={x:{min:0,max:0},y:{min:0,max:0}};ff(n,e.measurePageBox()),wf(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,n)}return cm(this.latestValues)&&wf(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=Vt(Vt(Vt({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==fd.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const r=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=r.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=r.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=r.isSharedProjectionDirty);const n=Boolean(this.resumingFrom)||this!==r;if(!(t||n&&this.isSharedProjectionDirty||this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:a,layoutId:s}=this.options;if(this.layout&&(a||s)){if(this.resolvedRelativeTargetAt=fd.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},am(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),ff(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var o,i,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),o=this.target,i=this.relativeTarget,l=this.relativeParent.target,rm(o.x,i.x,l.x),rm(o.y,i.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):ff(this.target,this.layout.layoutBox),fm(this.target,this.targetDelta)):ff(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},am(this.relativeTargetOrigin,this.target,e.target),ff(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ud.value&&Tf.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!lm(this.parent.latestValues)&&!dm(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),r=Boolean(this.resumingFrom)||this!==t;let n=!0;if((this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty)&&(n=!1),r&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(n=!1),this.resolvedRelativeTargetAt===fd.timestamp&&(n=!1),n)return;const{layout:a,layoutId:s}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!a&&!s)return;ff(this.layoutCorrected,this.layout.layoutBox);const o=this.treeScale.x,i=this.treeScale.y;!function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=r.length;if(!a)return;let s,o;t.x=t.y=1;for(let i=0;i<a;i++){s=r[i],o=s.projectionDelta;const{visualElement:a}=s.options;a&&a.props.style&&"contents"===a.props.style.display||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&bm(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,fm(e,o)),n&&cm(s.latestValues)&&bm(e,s.latestValues))}t.x<ym&&t.x>gm&&(t.x=1),t.y<ym&&t.y>gm&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,r),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(gf(this.prevProjectionDelta.x,this.projectionDelta.x),gf(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),tm(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===o&&this.treeScale.y===i&&Pf(this.projectionDelta.x,this.prevProjectionDelta.x)&&Pf(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),ud.value&&Tf.calculatedProjections++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){var e;let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(null===(e=this.options.visualElement)||void 0===e||e.scheduleRender(),t){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=this.snapshot,n=r?r.latestValues:{},a=Vt({},this.latestValues),s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const o={x:{min:0,max:0},y:{min:0,max:0}},i=(r?r.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,d=Boolean(i&&!c&&!0===this.options.crossfade&&!this.path.some(Jf));let u;this.animationProgress=0,this.mixTargetDelta=t=>{const r=t/1e3;var l,h,p,m,f,g;Xf(s.x,e.x,r),Xf(s.y,e.y,r),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(am(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),p=this.relativeTarget,m=this.relativeTargetOrigin,f=o,g=r,Qf(p.x,m.x,f.x,g),Qf(p.y,m.y,f.y,g),u&&(l=this.relativeTarget,h=u,Nf(l.x,h.x)&&Nf(l.y,h.y))&&(this.isProjectionDirty=!1),u||(u={x:{min:0,max:0},y:{min:0,max:0}}),ff(u,this.relativeTarget)),i&&(this.animationValues=a,function(e,t,r,n,a,s){var o,i;if(a)e.opacity=Cu(0,null!==(o=r.opacity)&&void 0!==o?o:1,uf(n)),e.opacityExit=Cu(null!==(i=t.opacity)&&void 0!==i?i:1,0,hf(n));else if(s){var l,c;e.opacity=Cu(null!==(l=t.opacity)&&void 0!==l?l:1,null!==(c=r.opacity)&&void 0!==c?c:1,n)}for(let d=0;d<of;d++){const a="border".concat(sf[d],"Radius");let s=df(t,a),o=df(r,a);void 0===s&&void 0===o||(s||(s=0),o||(o=0),0===s||0===o||cf(s)===cf(o)?(e[a]=Math.max(Cu(lf(s),lf(o),n),0),(lu.test(o)||lu.test(s))&&(e[a]+="%")):e[a]=o)}(t.rotate||r.rotate)&&(e.rotate=Cu(t.rotate||0,r.rotate||0,n))}(a,n,this.latestValues,r,d,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=r},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){var t,r;this.notifyListeners("animationStart"),null===(t=this.currentAnimation)||void 0===t||t.stop(!1),null===(r=this.resumingFrom)||void 0===r||null===(r=r.currentAnimation)||void 0===r||r.stop(!1),this.pendingAnimation&&(md(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=pd.update((()=>{Gm.hasAnimatedSinceResize=!0,Wd.layout++,this.motionValue||(this.motionValue=Ad(0)),this.currentAnimation=function(e,t,r){const n=Rd(e)?e:Ad(e);return n.start(jp("",n,t,r)),n.animation}(this.motionValue,[0,1e3],Vt(Vt({},e),{},{isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{Wd.layout--},onComplete:()=>{Wd.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:r,layout:n,latestValues:a}=e;if(t&&r&&n){if(this!==e&&this.layout&&n&&ng(this.options.animationType,this.layout.layoutBox,n.layoutBox)){r=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=Zp(this.layout.layoutBox.x);r.x.min=e.target.x.min,r.x.max=r.x.min+t;const n=Zp(this.layout.layoutBox.y);r.y.min=e.target.y.min,r.y.max=r.y.min+n}ff(t,r),bm(t,a),tm(this.projectionDeltaWithTransform,this.layoutCorrected,t,a)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new Af);this.sharedNodes.get(e).add(t);const r=t.options.initialPromotionConfig;t.promote({transition:r?r.transition:void 0,preserveFollowOpacity:r&&r.shouldPreserveFollowOpacity?r.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=this.getStack();n&&n.promote(this,r),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:r}=e;if((r.z||r.rotate||r.rotateX||r.rotateY||r.rotateZ||r.skewX||r.skewY)&&(t=!0),!t)return;const n={};r.z&&Lf("z",e,n,this.animationValues);for(let a=0;a<_f.length;a++)Lf("rotate".concat(_f[a]),e,n,this.animationValues),Lf("skew".concat(_f[a]),e,n,this.animationValues);e.render();for(const a in n)e.setStaticValue(a,n[a]),this.animationValues&&(this.animationValues[a]=n[a]);e.scheduleRender()}getProjectionStyles(e){if(!this.instance||this.isSVG)return;if(!this.isVisible)return Df;const t={visibility:""},r=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,t.opacity="",t.pointerEvents=af(null===e||void 0===e?void 0:e.pointerEvents)||"",t.transform=r?r(this.latestValues,""):"none",t;const n=this.getLead();if(!this.projectionDelta||!this.layout||!n.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=af(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!cm(this.latestValues)&&(t.transform=r?r({},""):"none",this.hasProjected=!1),t}const a=n.animationValues||n.latestValues;this.applyTransformsToTarget(),t.transform=function(e,t,r){let n="";const a=e.x.translate/t.x,s=e.y.translate/t.y,o=(null===r||void 0===r?void 0:r.z)||0;if((a||s||o)&&(n="translate3d(".concat(a,"px, ").concat(s,"px, ").concat(o,"px) ")),1===t.x&&1===t.y||(n+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),r){const{transformPerspective:e,rotate:t,rotateX:a,rotateY:s,skewX:o,skewY:i}=r;e&&(n="perspective(".concat(e,"px) ").concat(n)),t&&(n+="rotate(".concat(t,"deg) ")),a&&(n+="rotateX(".concat(a,"deg) ")),s&&(n+="rotateY(".concat(s,"deg) ")),o&&(n+="skewX(".concat(o,"deg) ")),i&&(n+="skewY(".concat(i,"deg) "))}const i=e.x.scale*t.x,l=e.y.scale*t.y;return 1===i&&1===l||(n+="scale(".concat(i,", ").concat(l,")")),n||"none"}(this.projectionDeltaWithTransform,this.treeScale,a),r&&(t.transform=r(a,t.transform));const{x:s,y:o}=this.projectionDelta;var i,l;(t.transformOrigin="".concat(100*s.origin,"% ").concat(100*o.origin,"% 0"),n.animationValues)?t.opacity=n===this?null!==(i=null!==(l=a.opacity)&&void 0!==l?l:this.latestValues.opacity)&&void 0!==i?i:1:this.preserveOpacity?this.latestValues.opacity:a.opacityExit:t.opacity=n===this?void 0!==a.opacity?a.opacity:"":void 0!==a.opacityExit?a.opacityExit:0;for(const c in Xm){if(void 0===a[c])continue;const{correct:e,applyTo:r,isCSSVariable:s}=Xm[c],o="none"===t.transform?a[c]:e(a[c],n);if(r){const e=r.length;for(let n=0;n<e;n++)t[r[n]]=o}else s?this.options.visualElement.renderState.vars[c]=o:t[c]=o}return this.options.layoutId&&(t.pointerEvents=n===this?af(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),t}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop(!1)})),this.root.nodes.forEach(Vf),this.root.sharedNodes.clear()}}}function Mf(e){e.updateLayout()}function Ff(e){var t;const r=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:n}=e.layout,{animationType:a}=e.options,s=r.source!==e.layout.source;"size"===a?om((e=>{const n=s?r.measuredBox[e]:r.layoutBox[e],a=Zp(n);n.min=t[e].min,n.max=n.min+a})):ng(a,r.layoutBox,t)&&om((n=>{const a=s?r.measuredBox[n]:r.layoutBox[n],o=Zp(t[n]);a.max=a.min+o,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[n].max=e.relativeTarget[n].min+o)}));const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};tm(o,t,r.layoutBox);const i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};s?tm(i,e.applyTransform(n,!0),r.measuredBox):tm(i,t,r.layoutBox);const l=!jf(o);let c=!1;if(!e.resumeFrom){const n=e.getClosestProjectingParent();if(n&&!n.resumeFrom){const{snapshot:a,layout:s}=n;if(a&&s){const o={x:{min:0,max:0},y:{min:0,max:0}};am(o,r.layoutBox,a.layoutBox);const i={x:{min:0,max:0},y:{min:0,max:0}};am(i,t,s.layoutBox),Cf(o,i)||(c=!0),n.options.layoutRoot&&(e.relativeTarget=i,e.relativeTargetOrigin=o,e.relativeParent=n)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:r,delta:i,layoutDelta:o,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function Bf(e){ud.value&&Tf.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Uf(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function zf(e){e.clearSnapshot()}function Vf(e){e.clearMeasurements()}function Wf(e){e.isLayoutDirty=!1}function Hf(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function qf(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Gf(e){e.resolveTargetDelta()}function Kf(e){e.calcProjection()}function $f(e){e.resetSkewAndRotation()}function Yf(e){e.removeLeadSnapshot()}function Xf(e,t,r){e.translate=Cu(t.translate,0,r),e.scale=Cu(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function Qf(e,t,r,n){e.min=Cu(t.min,r.min,n),e.max=Cu(t.max,r.max,n)}function Jf(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const Zf={duration:.45,ease:[.4,0,.1,1]},eg=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),tg=eg("applewebkit/")&&!eg("chrome/")?Math.round:ld;function rg(e){e.min=tg(e.min),e.max=tg(e.max)}function ng(e,t,r){return"position"===e||"preserve-aspect"===e&&(n=Ef(t),a=Ef(r),s=.2,!(Math.abs(n-a)<=s));var n,a,s}function ag(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const sg=Of({attachResizeListener:(e,t)=>$p(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),og={current:void 0},ig=Of({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!og.current){const e=new sg({});e.mount(window),e.setOptions({layoutScroll:!0}),og.current=e}return og.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),lg={pan:{Feature:class extends Wp{constructor(){super(...arguments),this.removePointerDownListener=ld}onPointerDown(e){this.session=new Sm(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:km(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:n}=this.node.getProps();return{onSessionStart:Um(e),onStart:Um(t),onMove:r,onEnd:(e,t)=>{delete this.session,n&&pd.postRender((()=>n(e,t)))}}}mount(){this.removePointerDownListener=Qp(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends Wp{constructor(e){super(e),this.removeGroupControls=ld,this.removeListeners=ld,this.controls=new Fm(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ld}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:ig,MeasureLayout:Jm}};function cg(e,t){const r=function(e,t,r){if(e instanceof EventTarget)return[e];if("string"===typeof e){var n;let a=document;t&&(a=t.current);const s=null!==(n=null===r||void 0===r?void 0:r[e])&&void 0!==n?n:a.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}(e),n=new AbortController;return[r,Vt(Vt({passive:!0},t),{},{signal:n.signal}),()=>n.abort()]}function dg(e){return!("touch"===e.pointerType||Kp())}function ug(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover","Start"===r);const a=n["onHover"+r];a&&pd.postRender((()=>a(t,Xp(t))))}const hg=(e,t)=>!!t&&(e===t||hg(e,t.parentElement)),pg=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const mg=new WeakSet;function fg(e){return t=>{"Enter"===t.key&&e(t)}}function gg(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function yg(e){return Yp(e)&&!Kp()}function xg(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[n,a,s]=cg(e,r),o=e=>{const n=e.currentTarget;if(!yg(e))return;mg.add(n);const s=t(n,e),o=(e,t)=>{window.removeEventListener("pointerup",i),window.removeEventListener("pointercancel",l),mg.has(n)&&mg.delete(n),yg(e)&&"function"===typeof s&&s(e,{success:t})},i=e=>{o(e,n===window||n===document||r.useGlobalTarget||hg(n,e.target))},l=e=>{o(e,!1)};window.addEventListener("pointerup",i,a),window.addEventListener("pointercancel",l,a)};return n.forEach((e=>{var t;(r.useGlobalTarget?window:e).addEventListener("pointerdown",o,a),hp(e)&&(e.addEventListener("focus",(e=>((e,t)=>{const r=e.currentTarget;if(!r)return;const n=fg((()=>{if(mg.has(r))return;gg(r,"down");const e=fg((()=>{gg(r,"up")}));r.addEventListener("keyup",e,t),r.addEventListener("blur",(()=>gg(r,"cancel")),t)}));r.addEventListener("keydown",n,t),r.addEventListener("blur",(()=>r.removeEventListener("keydown",n)),t)})(e,a))),t=e,pg.has(t.tagName)||-1!==t.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))})),s}function vg(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap","Start"===r);const a=n["onTap"+("End"===r?"":r)];a&&pd.postRender((()=>a(t,Xp(t))))}const bg=["root"],wg=new WeakMap,kg=new WeakMap,jg=e=>{const t=wg.get(e.target);t&&t(e)},Ng=e=>{e.forEach(jg)};function Sg(e,t,r){const n=function(e){let{root:t}=e,r=Vn(e,bg);const n=t||document;kg.has(n)||kg.set(n,{});const a=kg.get(n),s=JSON.stringify(r);return a[s]||(a[s]=new IntersectionObserver(Ng,Vt({root:t},r))),a[s]}(t);return wg.set(e,r),n.observe(e),()=>{wg.delete(e),n.unobserve(e)}}const Cg={some:0,all:1};const Eg={inView:{Feature:class extends Wp{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:n="some",once:a}=e,s={root:t?t.current:void 0,rootMargin:r,threshold:"number"===typeof n?n:Cg[n]};return Sg(this.node.current,s,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,a&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:r,onViewportLeave:n}=this.node.getProps(),s=t?r:n;s&&s(e)}))}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,r=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:r={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==r[e]}(e,t));r&&this.startObserver()}unmount(){}}},tap:{Feature:class extends Wp{mount(){const{current:e}=this.node;e&&(this.unmount=xg(e,((e,t)=>(vg(this.node,t,"Start"),(e,t)=>{let{success:r}=t;return vg(this.node,e,r?"End":"Cancel")})),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends Wp{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(Cx){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Bd($p(this.node.current,"focus",(()=>this.onFocus())),$p(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends Wp{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[n,a,s]=cg(e,r),o=e=>{if(!dg(e))return;const{target:r}=e,n=t(r,e);if("function"!==typeof n||!r)return;const s=e=>{dg(e)&&(n(e),r.removeEventListener("pointerleave",s))};r.addEventListener("pointerleave",s,a)};return n.forEach((e=>{e.addEventListener("pointerenter",o,a)})),s}(e,((e,t)=>(ug(this.node,t,"Start"),e=>ug(this.node,e,"End")))))}unmount(){}}}},Pg={layout:{ProjectionNode:ig,MeasureLayout:Jm}},Ag=(0,s.createContext)({strict:!1}),Tg=(0,s.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),_g=(0,s.createContext)({});function Dg(e){return nd(e.animate)||Dp.some((t=>Tp(e[t])))}function Rg(e){return Boolean(Dg(e)||e.variants)}function Lg(e){const{initial:t,animate:r}=function(e,t){if(Dg(e)){const{initial:t,animate:r}=e;return{initial:!1===t||Tp(t)?t:void 0,animate:Tp(r)?r:void 0}}return!1!==e.inherit?t:{}}(e,(0,s.useContext)(_g));return(0,s.useMemo)((()=>({initial:t,animate:r})),[Ig(t),Ig(r)])}function Ig(e){return Array.isArray(e)?e.join(" "):e}const Og="undefined"!==typeof window,Mg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Fg={};for(const Px in Mg)Fg[Px]={isEnabled:e=>Mg[Px].some((t=>!!e[t]))};const Bg=Symbol.for("motionComponentSymbol");function Ug(e,t,r){return(0,s.useCallback)((n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&("function"===typeof r?r(n):jm(r)&&(r.current=n))}),[t])}const zg=Og?s.useLayoutEffect:s.useEffect;function Vg(e,t,r,n,a){var o,i,l,c;const{visualElement:d}=(0,s.useContext)(_g),u=(0,s.useContext)(Ag),h=(0,s.useContext)(Wm),p=(0,s.useContext)(Tg).reducedMotion,m=(0,s.useRef)(null);n=n||u.renderer,!m.current&&n&&(m.current=n(e,{visualState:t,parent:d,props:r,presenceContext:h,blockInitialAnimation:!!h&&!1===h.initial,reducedMotionConfig:p}));const f=m.current,g=(0,s.useContext)(qm);!f||f.projection||!a||"html"!==f.type&&"svg"!==f.type||function(e,t,r,n){const{layoutId:a,layout:s,drag:o,dragConstraints:i,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:Wg(e.parent)),e.projection.setOptions({layoutId:a,layout:s,alwaysMeasureLayout:Boolean(o)||i&&jm(i),visualElement:e,animationType:"string"===typeof s?s:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:l,layoutRoot:c})}(m.current,r,a,g);const y=(0,s.useRef)(!1);(0,s.useInsertionEffect)((()=>{f&&y.current&&f.update(r,h)}));const x=r[Od],v=(0,s.useRef)(Boolean(x)&&!(null!==(o=(i=window).MotionHandoffIsComplete)&&void 0!==o&&o.call(i,x))&&(null===(l=(c=window).MotionHasOptimisedAnimation)||void 0===l?void 0:l.call(c,x)));return zg((()=>{f&&(y.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),zm.render(f.render),v.current&&f.animationState&&f.animationState.animateChanges())})),(0,s.useEffect)((()=>{f&&(!v.current&&f.animationState&&f.animationState.animateChanges(),v.current&&(queueMicrotask((()=>{var e,t;null===(e=(t=window).MotionHandoffMarkAsComplete)||void 0===e||e.call(t,x)})),v.current=!1))})),f}function Wg(e){if(e)return!1!==e.options.allowProjection?e.projection:Wg(e.parent)}function Hg(e){var t,r;let{preloadedFeatures:n,createVisualElement:a,useRender:o,useVisualState:i,Component:l}=e;function c(e,t){let r;const n=Vt(Vt(Vt({},(0,s.useContext)(Tg)),e),{},{layoutId:qg(e)}),{isStatic:c}=n,d=Lg(e),u=i(e,c);if(!c&&Og){!function(){(0,s.useContext)(Ag).strict;0}();const e=function(e){const{drag:t,layout:r}=Fg;if(!t&&!r)return{};const n=Vt(Vt({},t),r);return{MeasureLayout:null!==t&&void 0!==t&&t.isEnabled(e)||null!==r&&void 0!==r&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}(n);r=e.MeasureLayout,d.visualElement=Vg(l,u,n,a,e.ProjectionNode)}return(0,hn.jsxs)(_g.Provider,{value:d,children:[r&&d.visualElement?(0,hn.jsx)(r,Vt({visualElement:d.visualElement},n)):null,o(l,e,Ug(u,d.visualElement,t),u,c,d.visualElement)]})}n&&function(e){for(const t in e)Fg[t]=Vt(Vt({},Fg[t]),e[t])}(n),c.displayName="motion.".concat("string"===typeof l?l:"create(".concat(null!==(t=null!==(r=l.displayName)&&void 0!==r?r:l.name)&&void 0!==t?t:"",")"));const d=(0,s.forwardRef)(c);return d[Bg]=l,d}function qg(e){let{layoutId:t}=e;const r=(0,s.useContext)(Hm).id;return r&&void 0!==t?r+"-"+t:t}function Gg(e,t){let{layout:r,layoutId:n}=t;return xd.has(e)||e.startsWith("origin")||(r||void 0!==n)&&(!!Xm[e]||"opacity"===e)}const Kg=(e,t)=>t&&"number"===typeof e?t.transform(e):e,$g=Vt(Vt({},Yd),{},{transform:Math.round}),Yg=Vt(Vt({borderWidth:cu,borderTopWidth:cu,borderRightWidth:cu,borderBottomWidth:cu,borderLeftWidth:cu,borderRadius:cu,radius:cu,borderTopLeftRadius:cu,borderTopRightRadius:cu,borderBottomRightRadius:cu,borderBottomLeftRadius:cu,width:cu,maxWidth:cu,height:cu,maxHeight:cu,top:cu,right:cu,bottom:cu,left:cu,padding:cu,paddingTop:cu,paddingRight:cu,paddingBottom:cu,paddingLeft:cu,margin:cu,marginTop:cu,marginRight:cu,marginBottom:cu,marginLeft:cu,backgroundPositionX:cu,backgroundPositionY:cu},{rotate:iu,rotateX:iu,rotateY:iu,rotateZ:iu,scale:Qd,scaleX:Qd,scaleY:Qd,scaleZ:Qd,skew:iu,skewX:iu,skewY:iu,distance:cu,translateX:cu,translateY:cu,translateZ:cu,x:cu,y:cu,z:cu,perspective:cu,transformPerspective:cu,opacity:Xd,originX:hu,originY:hu,originZ:cu}),{},{zIndex:$g,fillOpacity:Xd,strokeOpacity:Xd,numOctaves:$g}),Xg={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Qg=yd.length;function Jg(e,t,r){const{style:n,vars:a,transformOrigin:s}=e;let o=!1,i=!1;for(const l in t){const e=t[l];if(xd.has(l))o=!0;else if(qd(l))a[l]=e;else{const t=Kg(e,Yg[l]);l.startsWith("origin")?(i=!0,s[l]=t):n[l]=t}}if(t.transform||(o||r?n.transform=function(e,t,r){let n="",a=!0;for(let s=0;s<Qg;s++){const o=yd[s],i=e[o];if(void 0===i)continue;let l=!0;if(l="number"===typeof i?i===(o.startsWith("scale")?1:0):0===parseFloat(i),!l||r){const e=Kg(i,Yg[o]);l||(a=!1,n+="".concat(Xg[o]||o,"(").concat(e,") ")),r&&(t[o]=e)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}(t,e.transform,r):n.transform&&(n.transform="none")),i){const{originX:e="50%",originY:t="50%",originZ:r=0}=s;n.transformOrigin="".concat(e," ").concat(t," ").concat(r)}}const Zg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ey(e,t,r){for(const n in t)Rd(t[n])||Gg(n,r)||(e[n]=t[n])}function ty(e,t){const r={};return ey(r,e.style||{},e),Object.assign(r,function(e,t){let{transformTemplate:r}=e;return(0,s.useMemo)((()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return Jg(e,t,r),Object.assign({},e.vars,e.style)}),[t])}(e,t)),r}function ry(e,t){const r={},n=ty(e,t);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const ny={offset:"stroke-dashoffset",array:"stroke-dasharray"},ay={offset:"strokeDashoffset",array:"strokeDasharray"};const sy=["attrX","attrY","attrScale","pathLength","pathSpacing","pathOffset"];function oy(e,t,r,n,a){let{attrX:s,attrY:o,attrScale:i,pathLength:l,pathSpacing:c=1,pathOffset:d=0}=t;if(Jg(e,Vn(t,sy),n),r)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:u,style:h}=e;var p,m;(u.transform&&(h.transform=u.transform,delete u.transform),h.transform||u.transformOrigin)&&(h.transformOrigin=null!==(p=u.transformOrigin)&&void 0!==p?p:"50% 50%",delete u.transformOrigin);h.transform&&(h.transformBox=null!==(m=null===a||void 0===a?void 0:a.transformBox)&&void 0!==m?m:"fill-box",delete u.transformBox);void 0!==s&&(u.x=s),void 0!==o&&(u.y=o),void 0!==i&&(u.scale=i),void 0!==l&&function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const s=a?ny:ay;e[s.offset]=cu.transform(-n);const o=cu.transform(t),i=cu.transform(r);e[s.array]="".concat(o," ").concat(i)}(u,l,c,d,!1)}const iy=()=>Vt(Vt({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}}),ly=e=>"string"===typeof e&&"svg"===e.toLowerCase();function cy(e,t,r,n){const a=(0,s.useMemo)((()=>{const r=iy();return oy(r,t,ly(n),e.transformTemplate,e.style),Vt(Vt({},r.attrs),{},{style:Vt({},r.style)})}),[t]);if(e.style){const t={};ey(t,e.style,e),a.style=Vt(Vt({},t),a.style)}return a}const dy=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function uy(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||dy.has(e)}let hy=e=>!uy(e);try{(py=require("@emotion/is-prop-valid").default)&&(hy=e=>e.startsWith("on")?!uy(e):py(e))}catch(Ex){}var py;const my=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function fy(e){return"string"===typeof e&&!e.includes("-")&&!!(my.indexOf(e)>-1||/[A-Z]/.test(e))}function gy(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(t,r,n,a,o)=>{let{latestValues:i}=a;const l=(fy(t)?cy:ry)(r,i,o,t),c=function(e,t,r){const n={};for(const a in e)"values"===a&&"object"===typeof e.values||(hy(a)||!0===r&&uy(a)||!t&&!uy(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}(r,"string"===typeof t,e),d=t!==s.Fragment?Vt(Vt(Vt({},c),l),{},{ref:n}):{},{children:u}=r,h=(0,s.useMemo)((()=>Rd(u)?u.get():u),[u]);return(0,s.createElement)(t,Vt(Vt({},d),{},{children:h}))}}const yy=["transitionEnd","transition"];const xy=e=>(t,r)=>{const n=(0,s.useContext)(_g),a=(0,s.useContext)(Wm),o=()=>function(e,t,r,n){let{scrapeMotionValuesFromProps:a,createRenderState:s}=e;return{latestValues:vy(t,r,n,a),renderState:s()}}(e,t,n,a);return r?o():function(e){const t=(0,s.useRef)(null);return null===t.current&&(t.current=e()),t.current}(o)};function vy(e,t,r,n){const a={},s=n(e,{});for(const h in s)a[h]=af(s[h]);let{initial:o,animate:i}=e;const l=Dg(e),c=Rg(e);t&&c&&!l&&!1!==e.inherit&&(void 0===o&&(o=t.initial),void 0===i&&(i=t.animate));let d=!!r&&!1===r.initial;d=d||!1===o;const u=d?i:o;if(u&&"boolean"!==typeof u&&!nd(u)){const t=Array.isArray(u)?u:[u];for(let r=0;r<t.length;r++){const n=sd(e,t[r]);if(n){const{transitionEnd:e,transition:t}=n,r=Vn(n,yy);for(const n in r){let e=r[n];if(Array.isArray(e)){e=e[d?e.length-1:0]}null!==e&&(a[n]=e)}for(const n in e)a[n]=e[n]}}}return a}function by(e,t,r){const{style:n}=e,a={};for(const o in n){var s;(Rd(n[o])||t.style&&Rd(t.style[o])||Gg(o,e)||void 0!==(null===r||void 0===r||null===(s=r.getValue(o))||void 0===s?void 0:s.liveStyle))&&(a[o]=n[o])}return a}const wy={useVisualState:xy({scrapeMotionValuesFromProps:by,createRenderState:Zg})};function ky(e,t,r){const n=by(e,t,r);for(const a in e)if(Rd(e[a])||Rd(t[a])){n[-1!==yd.indexOf(a)?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a]=e[a]}return n}const jy={useVisualState:xy({scrapeMotionValuesFromProps:ky,createRenderState:iy})};function Ny(e,t){return function(r){let{forwardMotionProps:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{forwardMotionProps:!1};return Hg(Vt(Vt({},fy(r)?jy:wy),{},{preloadedFeatures:e,useRender:gy(n),createVisualElement:t,Component:r}))}}const Sy=e=>t=>t.test(e),Cy=[Yd,cu,lu,iu,uu,du,{test:e=>"auto"===e,parse:e=>e}],Ey=e=>Cy.find(Sy(e)),Py=e=>/^-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)$/.test(e),Ay=/^var\(--(?:([\x2D0-9A-Z_a-z]+)|([\x2D0-9A-Z_a-z]+), ?([ #%\(\),-\.0-9A-Za-z]+))\)/;function Ty(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.');const[n,a]=function(e){const t=Ay.exec(e);if(!t)return[,];const[,r,n,a]=t;return["--".concat(null!==r&&void 0!==r?r:n),a]}(e);if(!n)return;const s=window.getComputedStyle(t).getPropertyValue(n);if(s){const e=s.trim();return Py(e)?parseFloat(e):e}return Kd(a)?Ty(a,t,r+1):a}const _y=e=>/^0(?:[\0-\x08\x0E-\x1F!-\x2D\/-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+$/.test(e);const Dy=new Set(["brightness","contrast","saturate","opacity"]);function Ry(e){const[t,r]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[n]=r.match(Zd)||[];if(!n)return e;const a=r.replace(n,"");let s=Dy.has(t)?1:0;return n!==r&&(s*=100),t+"("+s+a+")"}const Ly=/\b([\x2Da-z]*)\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\)/g,Iy=Vt(Vt({},ju),{},{getAnimatableNone:e=>{const t=e.match(Ly);return t?t.map(Ry).join(" "):e}}),Oy=Vt(Vt({},Yg),{},{color:mu,backgroundColor:mu,outlineColor:mu,fill:mu,stroke:mu,borderColor:mu,borderTopColor:mu,borderRightColor:mu,borderBottomColor:mu,borderLeftColor:mu,filter:Iy,WebkitFilter:Iy}),My=e=>Oy[e];function Fy(e,t){let r=My(e);return r!==Iy&&(r=ju),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const By=new Set(["auto","none","0"]);class Uy extends Kh{constructor(e,t,r,n,a){super(e,t,r,n,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let i=0;i<e.length;i++){let r=e[i];if("string"===typeof r&&(r=r.trim(),Kd(r))){const n=Ty(r,t.current);void 0!==n&&(e[i]=n),i===e.length-1&&(this.finalKeyframe=r)}}if(this.resolveNoneKeyframes(),!vd.has(r)||2!==e.length)return;const[n,a]=e,s=Ey(n),o=Ey(a);if(s!==o)if(Mh(s)&&Mh(o))for(let i=0;i<e.length;i++){const t=e[i];"string"===typeof t&&(e[i]=parseFloat(t))}else Uh[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let a=0;a<e.length;a++)(null===e[a]||("number"===typeof(n=e[a])?0===n:null===n||"none"===n||"0"===n||_y(n)))&&r.push(a);var n;r.length&&function(e,t,r){let n,a=0;for(;a<e.length&&!n;){const t=e[a];"string"===typeof t&&!By.has(t)&&vu(t).values.length&&(n=e[a]),a++}if(n&&r)for(const s of t)e[s]=Fy(r,n)}(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;"height"===r&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Uh[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const n=t[t.length-1];void 0!==n&&e.getValue(r,n).jump(n,!1)}measureEndState(){var e;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const s=n.length-1,o=n[s];n[s]=Uh[r](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==o&&void 0===this.finalKeyframe&&(this.finalKeyframe=o),null!==(e=this.removedTransforms)&&void 0!==e&&e.length&&this.removedTransforms.forEach((e=>{let[r,n]=e;t.getValue(r).set(n)})),this.resolveNoneKeyframes()}}const zy=[...Cy,mu,ju],Vy={current:null},Wy={current:!1};const Hy=new WeakMap;const qy=["willChange"],Gy=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Ky{scrapeMotionValuesFromProps(e,t,r){return{}}constructor(e){let{parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:s,visualState:o}=e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Kh,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=Cd.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,pd.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget=Vt({},l),this.initialValues=r.initial?Vt({},l):{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=i,this.blockInitialAnimation=Boolean(s),this.isControllingVariants=Dg(r),this.isVariantNode=Rg(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const d=this.scrapeMotionValuesFromProps(r,{},this),{willChange:u}=d,h=Vn(d,qy);for(const p in h){const e=h[p];void 0!==l[p]&&Rd(e)&&e.set(l[p],!1)}}mount(e){this.current=e,Hy.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),Wy.current||function(){if(Wy.current=!0,Og)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Vy.current=e.matches;e.addListener(t),t()}else Vy.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Vy.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),md(this.notifyUpdate),md(this.render),this.valueSubscriptions.forEach((e=>e())),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=xd.has(e);r&&this.onBindTransform&&this.onBindTransform();const n=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&pd.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)})),a=t.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,(()=>{n(),a(),s&&s(),t.owner&&t.stop()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in Fg){const t=Fg[e];if(!t)continue;const{isEnabled:r,Feature:n}=t;if(!this.features[e]&&n&&r(this.props)&&(this.features[e]=new n(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<Gy.length;r++){const t=Gy[r];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const n=e["on"+t];n&&(this.propEventSubscriptions[t]=this.on(t,n))}this.prevMotionValues=function(e,t,r){for(const n in t){const a=t[n],s=r[n];if(Rd(a))e.addValue(n,a);else if(Rd(s))e.addValue(n,Ad(a,{owner:e}));else if(s!==a)if(e.hasValue(n)){const t=e.getValue(n);!0===t.liveStyle?t.jump(a):t.hasAnimated||t.set(a)}else{const t=e.getStaticValue(n);e.addValue(n,Ad(void 0!==t?t:a,{owner:e}))}}for(const n in r)void 0===t[n]&&e.removeValue(n);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return void 0===r&&void 0!==t&&(r=Ad(null===t?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){var r;let n=void 0===this.latestValues[e]&&this.current?null!==(r=this.getBaseTargetFromProps(this.props,e))&&void 0!==r?r:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var a;return void 0!==n&&null!==n&&("string"===typeof n&&(Py(n)||_y(n))?n=parseFloat(n):(a=n,!zy.find(Sy(a))&&ju.test(t)&&(n=Fy(e,t))),this.setBaseTarget(e,Rd(n)?n.get():n)),Rd(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let r;if("string"===typeof t||"object"===typeof t){var n;const a=sd(this.props,t,null===(n=this.presenceContext)||void 0===n?void 0:n.custom);a&&(r=a[e])}if(t&&void 0!==r)return r;const a=this.getBaseTargetFromProps(this.props,e);return void 0===a||Rd(a)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:a}on(e,t){return this.events[e]||(this.events[e]=new kd),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];this.events[e].notify(...r)}}}class $y extends Ky{constructor(){super(...arguments),this.KeyframeResolver=Uy}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:r,style:n}=t;delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Rd(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent="".concat(e))})))}}function Yy(e,t,r,n){let{style:a,vars:s}=t;Object.assign(e.style,a,n&&n.getProjectionStyles(r));for(const o in s)e.style.setProperty(o,s[o])}class Xy extends $y{constructor(){super(...arguments),this.type="html",this.renderInstance=Yy}readValueFromInstance(e,t){var r,n;if(xd.has(t))return null!==(r=this.projection)&&void 0!==r&&r.isProjecting?Lh(t):((e,t)=>{const{transform:r="none"}=getComputedStyle(e);return Ih(r,t)})(e,t);{const r=(n=e,window.getComputedStyle(n)),a=(qd(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof a?a.trim():a}}measureInstanceViewportBox(e,t){let{transformPagePoint:r}=t;return wm(e,r)}build(e,t,r){Jg(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return by(e,t,r)}}const Qy=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);class Jy extends $y{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=sm}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(xd.has(t)){const e=My(t);return e&&e.default||0}return t=Qy.has(t)?t:Id(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return ky(e,t,r)}build(e,t,r){oy(e,t,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,t,r,n){!function(e,t,r,n){Yy(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(Qy.has(a)?a:Id(a),t.attrs[a])}(e,t,0,n)}mount(e){this.isSVGTag=ly(e.tagName),super.mount(e)}}const Zy=(e,t)=>fy(e)?new Jy(t):new Xy(t,{allowProjection:e!==s.Fragment}),ex=rd(Ny(Vt(Vt(Vt(Vt({},qp),Eg),lg),Pg),Zy)),tx={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:5000",rx=e=>{let{projectId:t,isOwner:r}=e;const{user:n}=(0,s.useContext)(pn),[a,o]=(0,s.useState)([]),[i,l]=(0,s.useState)(!0),[c,d]=(0,s.useState)(null),[u,h]=(0,s.useState)(!1),[p,m]=(0,s.useState)({name:"",description:"",trigger_type:"status_change",trigger_value:"Done",action_type:"notify",action_payload:{message:"Task has been completed!"}});(0,s.useEffect)((()=>{t?(async()=>{try{l(!0),d(null),console.log("Fetching automations for project:",t);const e=localStorage.getItem("token");if(!e)return console.error("No authentication token available"),d("Authentication token missing. Please log in again."),void l(!1);const r=await un.get("".concat(tx,"/api/automations/project/").concat(t),{headers:{Authorization:"Bearer ".concat(e)}});console.log("Received automation data:",r.data),o(r.data||[]),l(!1)}catch(e){console.error("Error fetching automations:",e);let t="Failed to load automations. Please try again.";e.response?(console.error("Server responded with error:",e.response.status,e.response.data),t=401===e.response.status?"Your session has expired. Please log in again.":403===e.response.status?"You do not have permission to view these automations.":404===e.response.status?"Project not found or has been deleted.":e.response.data.message||t):e.request&&(console.error("No response received:",e.request),t="Server not responding. Please check your connection."),d(t),l(!1)}})():(console.error("No projectId provided"),d("Project ID is missing. Cannot load automations."),l(!1))}),[t]);const f=e=>{const{name:t,value:r}=e.target;if("trigger_type"===t){let e="";switch(r){case"status_change":e="Done";break;case"assignment":default:e="";break;case"due_date_passed":e=null}m(Vt(Vt({},p),{},{trigger_type:r,trigger_value:e}))}else if("action_type"===t){let e={};switch(r){case"assign_badge":e={badge_id:"task_completer"};break;case"change_status":e={new_status:"In Progress"};break;case"notify":e={message:"Automated notification"};break;default:e={}}m(Vt(Vt({},p),{},{action_type:r,action_payload:e}))}else if("trigger_value"===t)m(Vt(Vt({},p),{},{trigger_value:r}));else if(t.startsWith("action_payload.")){const e=t.split(".")[1];m(Vt(Vt({},p),{},{action_payload:Vt(Vt({},p.action_payload),{},{[e]:r})}))}else m(Vt(Vt({},p),{},{[t]:r}))},g=e=>{const{trigger_type:t,trigger_value:r}=e;switch(t){case"status_change":return'When a task is moved to "'.concat(r,'"');case"assignment":return r?"When a task is assigned to a specific user":"When a task is assigned to any user";case"due_date_passed":return"When a task's due date passes";default:return"Unknown trigger"}},y=e=>{const{action_type:t,action_payload:r}=e;switch(t){case"assign_badge":return'Assign "'.concat((null===r||void 0===r?void 0:r.badge_id)||"unknown",'" badge');case"change_status":return'Move task to "'.concat((null===r||void 0===r?void 0:r.new_status)||"unknown",'"');case"notify":return'Send notification: "'.concat((null===r||void 0===r?void 0:r.message)||"unknown",'"');default:return"Unknown action"}};return i?(0,hn.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,hn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):(console.log("ProjectAutomations debug:",{projectId:t,isOwner:r,userId:null===n||void 0===n?void 0:n._id,userEmail:null===n||void 0===n?void 0:n.email}),(0,hn.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 dark:bg-gray-800 dark:text-gray-200",children:[(0,hn.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,hn.jsx)("h2",{className:"text-2xl font-bold",children:"Workflow Automations"}),(0,hn.jsx)("button",{onClick:()=>h(!0),className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition dark:bg-primary-700 dark:hover:bg-primary-800",children:"Add Automation"})]}),c&&(0,hn.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4 dark:bg-red-900/30 dark:border-red-800 dark:text-red-400",children:c}),0===a.length?(0,hn.jsxs)("div",{className:"text-center py-12",children:[(0,hn.jsx)("svg",{className:"mx-auto h-16 w-16 text-gray-400 dark:text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),(0,hn.jsx)("h3",{className:"mt-4 text-lg font-medium text-gray-700 dark:text-gray-300",children:"No automations yet"}),(0,hn.jsx)("p",{className:"mt-2 text-gray-500 dark:text-gray-400",children:"Create your first automation to automate workflows in your project."}),(0,hn.jsxs)("div",{className:"mt-6 flex flex-col sm:flex-row items-center justify-center gap-3",children:[(0,hn.jsx)("button",{onClick:()=>{console.log("Create Automation button clicked"),h(!0)},className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition dark:bg-primary-700 dark:hover:bg-primary-800",children:"Create Automation"}),(0,hn.jsx)("button",{onClick:()=>{console.log("Add Sample Automations button clicked"),(async()=>{try{l(!0),d(null);const r=localStorage.getItem("token");if(!r)return d("Authentication token missing. Please log in again."),void l(!1);if(!t)return console.error("No projectId provided for sample automations"),d("Project ID is missing. Cannot create automations."),void l(!1);console.log("Creating sample automations for project: ".concat(t));const n=[{projectId:t,name:"Task Completion Notification",description:"Send a notification when a task is marked as done",trigger_type:"status_change",trigger_value:"Done",action_type:"notify",action_payload:{message:"A task has been completed! \ud83c\udf89"}},{projectId:t,name:"Task Completer Badge",description:"Award a badge when a user completes a task",trigger_type:"status_change",trigger_value:"Done",action_type:"assign_badge",action_payload:{badge_id:"task_completer"}},{projectId:t,name:"Auto Start on Assignment",description:"Move task to In Progress when assigned",trigger_type:"assignment",trigger_value:null,action_type:"change_status",action_payload:{new_status:"In Progress"}}];console.log("Creating ".concat(n.length," sample automations for project ").concat(t));const s=[];let i=!1;for(const t of n)try{console.log("Creating sample automation:",JSON.stringify(t));const e=await un.post("".concat(tx,"/api/automations"),t,{headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"}});console.log("Sample automation created:",e.data._id),s.push(e.data)}catch(c){var e;console.error('Failed to create sample automation "'.concat(t.name,'":'),c),console.error("Error response:",null===(e=c.response)||void 0===e?void 0:e.data),i=!0}s.length>0?(console.log("Successfully created ".concat(s.length," sample automations")),o([...a,...s]),i&&d("Created ".concat(s.length," out of ").concat(n.length," sample automations. Some automations could not be created."))):d("Failed to create any sample automations. Please try again or create automations manually."),l(!1)}catch(r){console.error("Error creating sample automations:",r);let e="Failed to create sample automations. Please try again.";r.response?(console.error("Server error details:",r.response.status,r.response.data),e=401===r.response.status?"Your session has expired. Please log in again.":403===r.response.status?"You do not have permission to create automations. Only project owners can create automations.":r.response.data.message||e):r.request&&(e="Server not responding. Please check your connection."),d(e),l(!1)}})()},className:"px-4 py-2 bg-gray-100 text-gray-800 rounded-md hover:bg-gray-200 transition dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600",children:"Add Sample Automations"})]})]}):(0,hn.jsx)("ul",{className:"space-y-4",children:a.map((e=>(0,hn.jsx)(ex.li,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"border rounded-lg p-4 ".concat(e.isActive?"border-green-300 bg-green-50 dark:border-green-800 dark:bg-green-900/20":"border-gray-300 bg-gray-50 dark:border-gray-700 dark:bg-gray-700/30"),children:(0,hn.jsxs)("div",{className:"flex justify-between items-start",children:[(0,hn.jsxs)("div",{children:[(0,hn.jsx)("h3",{className:"font-semibold text-lg",children:e.name}),(0,hn.jsx)("p",{className:"text-gray-600 text-sm dark:text-gray-400",children:e.description}),(0,hn.jsxs)("div",{className:"mt-3 space-y-1",children:[(0,hn.jsxs)("div",{className:"flex items-center",children:[(0,hn.jsx)("span",{className:"text-sm font-medium text-primary-600 dark:text-primary-400 mr-2",children:"Trigger:"}),(0,hn.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:g(e)})]}),(0,hn.jsxs)("div",{className:"flex items-center",children:[(0,hn.jsx)("span",{className:"text-sm font-medium text-primary-600 dark:text-primary-400 mr-2",children:"Action:"}),(0,hn.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:y(e)})]})]})]}),r&&(0,hn.jsxs)("div",{className:"flex space-x-2",children:[(0,hn.jsx)("button",{onClick:()=>(async(e,t)=>{try{const r=localStorage.getItem("token");await un.put("".concat(tx,"/api/automations/").concat(e),{isActive:!t},{headers:{Authorization:"Bearer ".concat(r)}}),o(a.map((t=>t._id===e?Vt(Vt({},t),{},{isActive:!t.isActive}):t)))}catch(r){console.error("Error toggling automation status:",r),d("Failed to update automation. Please try again.")}})(e._id,e.isActive),className:"px-3 py-1 rounded text-sm ".concat(e.isActive?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300":"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300"),children:e.isActive?"Disable":"Enable"}),(0,hn.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this automation?"))try{const t=localStorage.getItem("token");await un.delete("".concat(tx,"/api/automations/").concat(e),{headers:{Authorization:"Bearer ".concat(t)}}),o(a.filter((t=>t._id!==e)))}catch(t){console.error("Error deleting automation:",t),d("Failed to delete automation. Please try again.")}})(e._id),className:"px-3 py-1 bg-red-100 text-red-800 rounded text-sm dark:bg-red-900/30 dark:text-red-300",children:"Delete"})]})]})},e._id)))}),u&&(0,hn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 dark:bg-opacity-70",children:(0,hn.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md dark:bg-gray-800",children:[(0,hn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,hn.jsx)("h3",{className:"text-xl font-bold",children:"Create Automation"}),(0,hn.jsx)("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600 dark:text-gray-300 dark:hover:text-gray-100",children:(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,hn.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{d(null);const e=localStorage.getItem("token");if(!e)return void d("Authentication token missing. Please log in again.");if(!p.name||!p.trigger_type||!p.action_type)return void d("Please fill in all required fields (name, trigger type, and action type).");if(!t)return void d("Project ID is missing. Please reload the page and try again.");const r=Vt(Vt({},p),{},{projectId:t,created_by:(null===n||void 0===n?void 0:n._id)||null});console.log("Creating new automation with data:",JSON.stringify(r));const a=await un.post("".concat(tx,"/api/automations"),r,{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});console.log("Automation created with response:",a.data),o((e=>[...e,a.data])),h(!1),m({name:"",description:"",trigger_type:"status_change",trigger_value:"Done",action_type:"notify",action_payload:{message:"Task has been completed!"}})}catch(r){console.error("Error creating automation:",r);let e="Failed to create automation. Please try again.";r.response?(console.error("Server error details:",r.response.status,r.response.data),e=401===r.response.status?"Your session has expired. Please log in again.":403===r.response.status?"You do not have permission to create automations. Only project owners can create automations.":400===r.response.status?"Invalid automation data. Please check all fields and try again.":r.response.data.message||e):r.request&&(console.error("No response received:",r.request),e="Server not responding. Please check your connection."),d(e)}},children:[(0,hn.jsxs)("div",{className:"mb-4",children:[(0,hn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-gray-300",children:"Name"}),(0,hn.jsx)("input",{type:"text",name:"name",placeholder:"Automation name",className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:p.name,onChange:f,required:!0})]}),(0,hn.jsxs)("div",{className:"mb-4",children:[(0,hn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-gray-300",children:"Description"}),(0,hn.jsx)("input",{type:"text",name:"description",placeholder:"Automation description",className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:p.description,onChange:f})]}),(0,hn.jsxs)("div",{className:"mb-4",children:[(0,hn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-gray-300",children:"Trigger Type"}),(0,hn.jsxs)("select",{name:"trigger_type",className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:p.trigger_type,onChange:f,children:[(0,hn.jsx)("option",{value:"status_change",children:"Task Status Change"}),(0,hn.jsx)("option",{value:"assignment",children:"Task Assignment"}),(0,hn.jsx)("option",{value:"due_date_passed",children:"Due Date Passed"})]})]}),(()=>{switch(p.trigger_type){case"status_change":return(0,hn.jsxs)("div",{className:"mb-4",children:[(0,hn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-gray-300",children:"Status Value"}),(0,hn.jsxs)("select",{name:"trigger_value",className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:p.trigger_value||"",onChange:f,children:[(0,hn.jsx)("option",{value:"To Do",children:"To Do"}),(0,hn.jsx)("option",{value:"In Progress",children:"In Progress"}),(0,hn.jsx)("option",{value:"Done",children:"Done"}),(0,hn.jsx)("option",{value:"Blocked",children:"Blocked"})]})]});case"assignment":return(0,hn.jsxs)("div",{className:"mb-4",children:[(0,hn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-gray-300",children:"Assigned User (optional)"}),(0,hn.jsx)("p",{className:"text-xs text-gray-500 mb-1 dark:text-gray-400",children:"Leave blank to trigger for any user assignment"}),(0,hn.jsx)("input",{type:"text",name:"trigger_value",placeholder:"User ID (optional)",className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:p.trigger_value||"",onChange:f})]});case"due_date_passed":return(0,hn.jsx)("div",{className:"mb-4",children:(0,hn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"This automation will trigger when a task's due date passes."})});default:return null}})(),(0,hn.jsxs)("div",{className:"mb-4",children:[(0,hn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-gray-300",children:"Action Type"}),(0,hn.jsxs)("select",{name:"action_type",className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:p.action_type,onChange:f,children:[(0,hn.jsx)("option",{value:"assign_badge",children:"Assign Badge"}),(0,hn.jsx)("option",{value:"change_status",children:"Change Status"}),(0,hn.jsx)("option",{value:"notify",children:"Send Notification"})]})]}),(()=>{var e,t,r;switch(p.action_type){case"assign_badge":return(0,hn.jsxs)("div",{className:"mb-4",children:[(0,hn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-gray-300",children:"Badge Code"}),(0,hn.jsxs)("select",{name:"action_payload.badge_id",className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:(null===(e=p.action_payload)||void 0===e?void 0:e.badge_id)||"",onChange:f,children:[(0,hn.jsx)("option",{value:"task_completer",children:"Task Completer"}),(0,hn.jsx)("option",{value:"productivity_star",children:"Productivity Star"}),(0,hn.jsx)("option",{value:"team_player",children:"Team Player"}),(0,hn.jsx)("option",{value:"early_finisher",children:"Early Finisher"})]})]});case"change_status":return(0,hn.jsxs)("div",{className:"mb-4",children:[(0,hn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-gray-300",children:"New Status"}),(0,hn.jsxs)("select",{name:"action_payload.new_status",className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:(null===(t=p.action_payload)||void 0===t?void 0:t.new_status)||"",onChange:f,children:[(0,hn.jsx)("option",{value:"To Do",children:"To Do"}),(0,hn.jsx)("option",{value:"In Progress",children:"In Progress"}),(0,hn.jsx)("option",{value:"Done",children:"Done"}),(0,hn.jsx)("option",{value:"Blocked",children:"Blocked"})]})]});case"notify":return(0,hn.jsxs)("div",{className:"mb-4",children:[(0,hn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-gray-300",children:"Notification Message"}),(0,hn.jsx)("input",{type:"text",name:"action_payload.message",placeholder:"Message to send",className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:(null===(r=p.action_payload)||void 0===r?void 0:r.message)||"",onChange:f})]});default:return null}})(),(0,hn.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,hn.jsx)("button",{type:"button",onClick:()=>h(!1),className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50 dark:border-gray-600 dark:hover:bg-gray-700 dark:text-white",children:"Cancel"}),(0,hn.jsx)("button",{type:"submit",className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 dark:bg-primary-700 dark:hover:bg-primary-800",children:"Create"})]})]})]})})]}))},nx=()=>{var e;const{id:t}=function(){let{matches:e}=s.useContext(X),t=e[e.length-1];return t?t.params:{}}(),r=te(),{getProject:n,updateProject:a,deleteProject:o,addTeamMember:i,removeTeamMember:l}=(0,s.useContext)(En),{darkMode:c}=(0,s.useContext)(xn),{user:d}=(0,s.useContext)(pn),[u,h]=(0,s.useState)(null),[p,m]=(0,s.useState)(!0),[f,g]=(0,s.useState)(""),[y,x]=(0,s.useState)("board"),[v,b]=(0,s.useState)(!1),[w,k]=(0,s.useState)({name:"",description:"",color:"#6366f1",dueDate:"",isCompleted:!1}),[j,N]=(0,s.useState)(!1),[S,C]=(0,s.useState)(""),[E,P]=(0,s.useState)(!1),[A,T]=(0,s.useState)(""),[_,D]=(0,s.useState)({total:0,completed:0,inProgress:0,pending:0}),[R,L]=(0,s.useState)("tasks");(0,s.useEffect)((()=>{I();const e=localStorage.getItem("activeProjectTab");e&&(L(e),localStorage.removeItem("activeProjectTab"))}),[t]),(0,s.useEffect)((()=>{if(u&&u.tasks){const e={total:u.tasks.length,completed:u.tasks.filter((e=>"completed"===e.status)).length,inProgress:u.tasks.filter((e=>"in_progress"===e.status)).length,pending:u.tasks.filter((e=>"to_do"===e.status||"backlog"===e.status)).length};D(e)}}),[u]);const I=async()=>{try{m(!0),g("");if(!localStorage.getItem("token"))return g("Authorization required. Please log in again."),void m(!1);const e=await n(t);e.success?(h(e.project),k({name:e.project.name||"",description:e.project.description||"",color:e.project.color||"#6366f1",dueDate:e.project.dueDate?new Date(e.project.dueDate).toISOString().split("T")[0]:"",isCompleted:e.project.isCompleted||!1})):g(e.message||"Failed to load project")}catch(e){console.error("Error in fetchProjectDetails:",e),g("Failed to load project. Please try again.")}finally{m(!1)}},O=e=>{const t="checkbox"===e.target.type?e.target.checked:e.target.value;k(Vt(Vt({},w),{},{[e.target.name]:t}))};if(p&&!u)return(0,hn.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,hn.jsx)("div",{className:"linear-spinner"})});if(f&&!u)return(0,hn.jsxs)("div",{className:"linear-card p-8 text-center",children:[(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 text-red-500 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),(0,hn.jsx)("h2",{className:"text-xl font-bold mb-2",children:"Error Loading Project"}),(0,hn.jsx)("p",{className:"text-gray-600 mb-6",children:f}),(0,hn.jsx)(_e,{to:"/projects",className:"linear-btn linear-btn-primary",children:"Back to Projects"})]});if(!u)return null;const M=()=>u.tasks&&0!==u.tasks.length?u.isCompleted?100:Math.round(_.completed/_.total*100):0;return(0,hn.jsxs)("div",{className:"linear-fade-in",children:[f&&(0,hn.jsxs)("div",{className:"linear-card bg-red-50 border-red-200 mb-4 p-3 text-red-700",children:[f,(0,hn.jsx)("button",{onClick:()=>g(""),className:"ml-2 text-red-500 hover:text-red-700",children:"\xd7"})]}),(0,hn.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,hn.jsxs)("div",{className:"flex items-center",children:[(0,hn.jsx)(_e,{to:"/projects",className:"mr-4 text-gray-500 hover:text-gray-700",children:(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,hn.jsx)("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})})}),(0,hn.jsxs)("div",{children:[(0,hn.jsxs)("h1",{className:"text-2xl font-bold flex items-center",children:[(0,hn.jsx)("span",{className:"inline-block w-3 h-3 rounded-full mr-2",style:{backgroundColor:u.color||"#6366f1"}}),u.name]}),!v&&u.description&&(0,hn.jsx)("p",{className:"text-gray-600 mt-1",children:u.description})]})]}),(0,hn.jsx)("div",{className:"flex gap-2",children:!v&&(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsxs)("button",{onClick:()=>b(!0),className:"linear-btn linear-btn-secondary",children:[(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),(0,hn.jsxs)("button",{onClick:async()=>{if(window.confirm("Are you sure you want to delete this project? This action cannot be undone."))try{m(!0),g("");const e=await o(t);e.success?r("/projects",{replace:!0}):g(e.message||"Failed to delete project")}catch(e){console.error("Error deleting project:",e),g("Failed to delete project. Please try again.")}finally{m(!1)}},className:"linear-btn linear-btn-danger",disabled:p,children:[(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]})})]}),v?(0,hn.jsxs)("div",{className:"linear-card mb-6",children:[(0,hn.jsx)("div",{className:"linear-card-header",children:(0,hn.jsx)("h3",{className:"font-semibold",children:"Edit Project"})}),(0,hn.jsx)("div",{className:"linear-card-body",children:(0,hn.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{m(!0),g("");const e=await a(t,w);e.success?(h(e.project),b(!1)):g(e.message||"Failed to update project")}catch(r){console.error("Error updating project:",r),g("Failed to update project. Please try again.")}finally{m(!1)}},children:[(0,hn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,hn.jsxs)("div",{className:"form-group",children:[(0,hn.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Project Name"}),(0,hn.jsx)("input",{type:"text",name:"name",value:w.name,onChange:O,required:!0,className:"linear-input w-full",placeholder:"Project name"})]}),(0,hn.jsxs)("div",{className:"form-group",children:[(0,hn.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Color"}),(0,hn.jsxs)("div",{className:"flex items-center",children:[(0,hn.jsx)("input",{type:"color",name:"color",value:w.color,onChange:O,className:"h-10 w-10 rounded-md cursor-pointer"}),(0,hn.jsx)("span",{className:"ml-2 text-gray-600",children:w.color})]})]})]}),(0,hn.jsxs)("div",{className:"form-group mb-4",children:[(0,hn.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Description"}),(0,hn.jsx)("textarea",{name:"description",value:w.description,onChange:O,className:"linear-input w-full",placeholder:"Project description",rows:"3"})]}),(0,hn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,hn.jsxs)("div",{className:"form-group",children:[(0,hn.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Due Date"}),(0,hn.jsx)("input",{type:"date",name:"dueDate",value:w.dueDate,onChange:O,className:"linear-input w-full"})]}),(0,hn.jsx)("div",{className:"form-group flex items-center h-full pt-6",children:(0,hn.jsxs)("label",{className:"inline-flex items-center cursor-pointer",children:[(0,hn.jsx)("input",{type:"checkbox",name:"isCompleted",checked:w.isCompleted,onChange:O,className:"form-checkbox h-5 w-5 text-primary-600 rounded"}),(0,hn.jsx)("span",{className:"ml-2 text-gray-700",children:"Mark project as completed"})]})})]}),(0,hn.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,hn.jsx)("button",{type:"button",onClick:()=>b(!1),className:"linear-btn linear-btn-secondary",disabled:p,children:"Cancel"}),(0,hn.jsx)("button",{type:"submit",className:"linear-btn linear-btn-primary",disabled:p,children:p?"Saving...":"Save Changes"})]})]})})]}):(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,hn.jsx)("div",{className:"linear-card",children:(0,hn.jsxs)("div",{className:"linear-card-body flex items-center",children:[(0,hn.jsx)("div",{className:"rounded-full bg-primary-100 p-3 mr-4",children:(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-primary-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),(0,hn.jsxs)("div",{children:[(0,hn.jsx)("div",{className:"text-sm font-medium text-gray-500",children:"Total Tasks"}),(0,hn.jsx)("div",{className:"text-xl font-bold",children:_.total})]})]})}),(0,hn.jsx)("div",{className:"linear-card",children:(0,hn.jsxs)("div",{className:"linear-card-body flex items-center",children:[(0,hn.jsx)("div",{className:"rounded-full bg-green-100 p-3 mr-4",children:(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,hn.jsxs)("div",{children:[(0,hn.jsx)("div",{className:"text-sm font-medium text-gray-500",children:"Completed"}),(0,hn.jsx)("div",{className:"text-xl font-bold",children:_.completed})]})]})}),(0,hn.jsx)("div",{className:"linear-card",children:(0,hn.jsxs)("div",{className:"linear-card-body flex items-center",children:[(0,hn.jsx)("div",{className:"rounded-full bg-blue-100 p-3 mr-4",children:(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),(0,hn.jsxs)("div",{children:[(0,hn.jsx)("div",{className:"text-sm font-medium text-gray-500",children:"In Progress"}),(0,hn.jsx)("div",{className:"text-xl font-bold",children:_.inProgress})]})]})}),(0,hn.jsx)("div",{className:"linear-card",children:(0,hn.jsxs)("div",{className:"linear-card-body flex items-center",children:[(0,hn.jsx)("div",{className:"rounded-full bg-gray-100 p-3 mr-4",children:(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),(0,hn.jsxs)("div",{children:[(0,hn.jsx)("div",{className:"text-sm font-medium text-gray-500",children:"Pending"}),(0,hn.jsx)("div",{className:"text-xl font-bold",children:_.pending})]})]})})]}),(0,hn.jsx)("div",{className:"linear-card mb-6",children:(0,hn.jsxs)("div",{className:"linear-card-body",children:[(0,hn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,hn.jsxs)("div",{children:[(0,hn.jsx)("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"Project Progress"}),(0,hn.jsxs)("div",{className:"text-lg font-bold ".concat(100===M()?"text-green-600 dark:text-green-400":""),children:[M(),"%",100===M()&&(0,hn.jsx)("span",{className:"ml-2 text-sm bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400 px-2 py-1 rounded-full",children:"Completed"})]})]}),(0,hn.jsxs)("div",{className:"flex items-center",children:[u.dueDate&&(0,hn.jsxs)("div",{className:"text-sm mr-4",children:[(0,hn.jsx)("span",{className:"text-gray-500 mr-1",children:"Due:"}),(0,hn.jsx)("span",{className:"font-medium",children:new Date(u.dueDate).toLocaleDateString()})]}),u.isCompleted?(0,hn.jsx)("span",{className:"linear-badge linear-badge-success",children:"Completed"}):(0,hn.jsx)("span",{className:"linear-badge linear-badge-primary",children:"Active"})]})]}),(0,hn.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5 mb-2",children:(0,hn.jsx)("div",{className:"h-2.5 rounded-full transition-all duration-500 ease-in-out ".concat(100===M()?"bg-green-600 dark:bg-green-500":"bg-primary-600 dark:bg-primary-500"),style:{width:"".concat(M(),"%")}})})]})})]}),(0,hn.jsxs)("div",{className:"flex border-b border-gray-200 mb-6",children:[(0,hn.jsx)("button",{className:"pb-4 px-6 font-medium text-sm ".concat("tasks"===R?"border-b-2 border-primary-600 text-primary-600":"text-gray-500 hover:text-gray-700"),onClick:()=>L("tasks"),children:"Tasks"}),(0,hn.jsxs)("button",{className:"pb-4 px-6 font-medium text-sm ".concat("team"===R?"border-b-2 border-primary-600 text-primary-600":"text-gray-500 hover:text-gray-700"),onClick:()=>L("team"),children:["Team (",(null===(e=u.members)||void 0===e?void 0:e.length)||0,")"]}),(0,hn.jsx)("button",{className:"pb-4 px-6 font-medium text-sm ".concat("chat"===R?"border-b-2 border-primary-600 text-primary-600":"text-gray-500 hover:text-gray-700"),onClick:()=>L("chat"),children:"Chat"}),(0,hn.jsx)("button",{className:"pb-4 px-6 font-medium text-sm ".concat("automations"===R?"border-b-2 border-primary-600 text-primary-600":"text-gray-500 hover:text-gray-700"),onClick:()=>L("automations"),children:"Automations"})]}),"tasks"===R?(0,hn.jsx)(Qc,{project:u,onTaskUpdate:I}):"team"===R?(0,hn.jsx)(hn.Fragment,{children:u.members&&u.members.length>0?(0,hn.jsx)(td,{project:u,currentUser:d}):(0,hn.jsxs)("div",{className:"linear-card p-6 text-center dark:bg-gray-800 dark:border-gray-700",children:[(0,hn.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"No team members yet."}),(0,hn.jsx)("button",{onClick:()=>N(!0),className:"linear-btn linear-btn-primary dark:bg-primary-600 dark:hover:bg-primary-700 dark:text-white",children:"Add Team Member"})]})}):"automations"===R?(0,hn.jsx)(rx,{projectId:t,isOwner:!(null===u||void 0===u||!u.owner||null===d||void 0===d||!d._id)&&u.owner._id.toString()===d._id.toString()}):(0,hn.jsx)("div",{className:"chat-container h-[calc(100vh-240px)] bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:(0,hn.jsx)(Jc,{chatId:t,title:"".concat(u.name," - Team Chat"),height:"100%",fullWidth:!0})}),j&&(0,hn.jsx)("div",{className:"linear-modal-overlay",children:(0,hn.jsx)("div",{className:"linear-modal",children:(0,hn.jsxs)("div",{className:"linear-card",children:[(0,hn.jsxs)("div",{className:"linear-card-header flex justify-between",children:[(0,hn.jsx)("h3",{className:"font-medium",children:"Add Team Member"}),(0,hn.jsx)("button",{onClick:()=>N(!1),className:"text-gray-500 hover:text-gray-700",children:(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,hn.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),A&&(0,hn.jsx)("div",{className:"linear-card-body pt-0",children:(0,hn.jsx)("div",{className:"bg-red-50 border-red-200 p-3 rounded-md text-red-700 text-sm mb-4",children:A})}),(0,hn.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),S.trim())try{P(!0),T("");const e=await i(t,S);e.success?(await I(),N(!1),C("")):T(e.message||"Failed to add team member")}catch(r){console.error("Error adding team member:",r),T("Failed to add team member. Please try again.")}finally{P(!1)}},children:[(0,hn.jsx)("div",{className:"linear-card-body pt-0",children:(0,hn.jsxs)("div",{className:"mb-4",children:[(0,hn.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Email Address"}),(0,hn.jsx)("input",{type:"email",value:S,onChange:e=>C(e.target.value),required:!0,className:"linear-input w-full",placeholder:"team@example.com"}),(0,hn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Enter the email address of the person you want to invite"})]})}),(0,hn.jsxs)("div",{className:"linear-card-footer flex justify-end space-x-3",children:[(0,hn.jsx)("button",{type:"button",onClick:()=>N(!1),className:"linear-btn linear-btn-secondary",disabled:E,children:"Cancel"}),(0,hn.jsx)("button",{type:"submit",className:"linear-btn linear-btn-primary",disabled:E,children:E?"Adding...":"Add Member"})]})]})]})})})]})},ax=()=>{const[e,t]=(0,s.useState)({email:"",password:""}),[r,n]=(0,s.useState)(""),[a,o]=(0,s.useState)(!1),{login:i,googleLogin:l,isAuthenticated:c}=(0,s.useContext)(pn),d=te(),u=Z();(0,s.useEffect)((()=>{u.state&&u.state.error&&(n(u.state.error),window.history.replaceState({},document.title))}),[u]),(0,s.useEffect)((()=>{c&&d("/dashboard",{replace:!0})}),[c,d]);const h=r=>{t(Vt(Vt({},e),{},{[r.target.name]:r.target.value}))};return(0,hn.jsx)("div",{className:"min-h-screen bg-gray-100 flex flex-col justify-center items-center p-4",children:(0,hn.jsxs)("div",{className:"w-full max-w-md",children:[(0,hn.jsxs)("div",{className:"text-center mb-8",children:[(0,hn.jsx)("h1",{className:"text-3xl font-bold text-primary",children:"Taskboard-pro"}),(0,hn.jsx)("p",{className:"text-gray-600 mt-2",children:"Welcome back! Log in to your account"})]}),(0,hn.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8",children:[r&&(0,hn.jsx)("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-6",children:(0,hn.jsx)("p",{className:"text-red-700",children:r})}),(0,hn.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),o(!0),n("");try{console.log("Attempting login with:",e.email);const t=await i(e);t.success?(console.log("Login successful, redirecting to dashboard"),d("/dashboard",{replace:!0})):(console.error("Login failed:",t.message),n(t.message))}catch(r){console.error("Login error:",r),n("An error occurred. Please try again.")}finally{o(!1)}},children:[(0,hn.jsxs)("div",{className:"mb-6",children:[(0,hn.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,hn.jsx)("input",{id:"email",type:"email",name:"email",placeholder:"you@example.com",value:e.email,onChange:h,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary"})]}),(0,hn.jsxs)("div",{className:"mb-6",children:[(0,hn.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,hn.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,hn.jsx)("a",{href:"#",className:"text-xs text-primary hover:text-primary-hover",children:"Forgot password?"})]}),(0,hn.jsx)("input",{id:"password",type:"password",name:"password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",value:e.password,onChange:h,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary"})]}),(0,hn.jsx)("button",{type:"submit",disabled:a,className:"w-full bg-primary hover:bg-primary-hover text-white font-medium py-2 px-4 rounded-md transition duration-200 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Logging in...":"Log in"}),(0,hn.jsxs)("div",{className:"relative flex py-5 items-center",children:[(0,hn.jsx)("div",{className:"flex-grow border-t border-gray-300"}),(0,hn.jsx)("span",{className:"flex-shrink mx-4 text-sm text-gray-600",children:"or"}),(0,hn.jsx)("div",{className:"flex-grow border-t border-gray-300"})]}),(0,hn.jsxs)("button",{type:"button",onClick:l,className:"w-full flex items-center justify-center bg-white border border-gray-300 text-gray-700 font-medium py-2 px-4 rounded-md hover:bg-gray-50 transition duration-200 ease-in-out",children:[(0,hn.jsx)("img",{src:"https://cdn.cdnlogo.com/logos/g/35/google-icon.svg",alt:"Google",className:"w-5 h-5 mr-2"}),"Log in with Google"]})]}),(0,hn.jsx)("div",{className:"text-center mt-6",children:(0,hn.jsxs)("p",{className:"text-gray-600 text-sm",children:["Don't have an account?"," ",(0,hn.jsx)(_e,{to:"/signup",className:"text-primary hover:text-primary-hover",children:"Sign up"})]})})]})]})})},sx=()=>{const[e,t]=(0,s.useState)({email:"",password:"",confirmPassword:"",displayName:""}),[r,n]=(0,s.useState)(""),[a,o]=(0,s.useState)(!1),{register:i,googleLogin:l}=(0,s.useContext)(pn),c=te(),d=r=>{t(Vt(Vt({},e),{},{[r.target.name]:r.target.value}))};return(0,hn.jsx)("div",{className:"min-h-screen bg-gray-100 flex flex-col justify-center items-center p-4",children:(0,hn.jsxs)("div",{className:"w-full max-w-md",children:[(0,hn.jsxs)("div",{className:"text-center mb-8",children:[(0,hn.jsx)("h1",{className:"text-3xl font-bold text-primary",children:"Taskboard-pro"}),(0,hn.jsx)("p",{className:"text-gray-600 mt-2",children:"Create your account to get started"})]}),(0,hn.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8",children:[r&&(0,hn.jsx)("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-6",children:(0,hn.jsx)("p",{className:"text-red-700",children:r})}),(0,hn.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),o(!0),n(""),e.password!==e.confirmPassword)return n("Passwords do not match"),void o(!1);if(e.password.length<6)return n("Password must be at least 6 characters"),void o(!1);try{console.log("Attempting signup with:",e.email);const t=await i(e);t.success?(console.log("Signup successful, redirecting to dashboard"),c("/dashboard")):(console.error("Signup failed:",t.message),n(t.message))}catch(r){console.error("Signup error:",r),n("An error occurred. Please try again.")}finally{o(!1)}},children:[(0,hn.jsxs)("div",{className:"mb-6",children:[(0,hn.jsx)("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),(0,hn.jsx)("input",{id:"displayName",type:"text",name:"displayName",placeholder:"John Doe",value:e.displayName,onChange:d,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary"})]}),(0,hn.jsxs)("div",{className:"mb-6",children:[(0,hn.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,hn.jsx)("input",{id:"email",type:"email",name:"email",placeholder:"you@example.com",value:e.email,onChange:d,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary"})]}),(0,hn.jsxs)("div",{className:"mb-6",children:[(0,hn.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,hn.jsx)("input",{id:"password",type:"password",name:"password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",value:e.password,onChange:d,required:!0,minLength:"6",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary"})]}),(0,hn.jsxs)("div",{className:"mb-6",children:[(0,hn.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),(0,hn.jsx)("input",{id:"confirmPassword",type:"password",name:"confirmPassword",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",value:e.confirmPassword,onChange:d,required:!0,minLength:"6",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary"})]}),(0,hn.jsx)("button",{type:"submit",disabled:a,className:"w-full bg-primary hover:bg-primary-hover text-white font-medium py-2 px-4 rounded-md transition duration-200 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Creating account...":"Sign up"}),(0,hn.jsxs)("div",{className:"relative flex py-5 items-center",children:[(0,hn.jsx)("div",{className:"flex-grow border-t border-gray-300"}),(0,hn.jsx)("span",{className:"flex-shrink mx-4 text-sm text-gray-600",children:"or"}),(0,hn.jsx)("div",{className:"flex-grow border-t border-gray-300"})]}),(0,hn.jsxs)("button",{type:"button",onClick:l,className:"w-full flex items-center justify-center bg-white border border-gray-300 text-gray-700 font-medium py-2 px-4 rounded-md hover:bg-gray-50 transition duration-200 ease-in-out",children:[(0,hn.jsx)("img",{src:"https://cdn.cdnlogo.com/logos/g/35/google-icon.svg",alt:"Google",className:"w-5 h-5 mr-2"}),"Sign up with Google"]})]}),(0,hn.jsx)("div",{className:"text-center mt-6",children:(0,hn.jsxs)("p",{className:"text-gray-600 text-sm",children:["Already have an account?"," ",(0,hn.jsx)(_e,{to:"/login",className:"text-primary hover:text-primary-hover",children:"Log in"})]})})]})]})})},ox=()=>(0,hn.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center px-4",children:(0,hn.jsxs)("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md p-8 text-center",children:[(0,hn.jsx)("h1",{className:"text-6xl font-bold text-primary mb-4",children:"404"}),(0,hn.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 mb-2",children:"Page Not Found"}),(0,hn.jsx)("p",{className:"text-gray-600 mb-8",children:"The page you are looking for doesn't exist or has been moved."}),(0,hn.jsxs)(_e,{to:"/",className:"inline-flex items-center justify-center px-5 py-2.5 bg-primary hover:bg-primary-hover text-white font-medium rounded-md transition duration-200",children:[(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:(0,hn.jsx)("path",{fillRule:"evenodd",d:"M9.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L7.414 9H15a1 1 0 110 2H7.414l2.293 2.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Back to Home"]})]})}),ix=()=>{const{darkMode:e}=(0,s.useContext)(xn),[t,r]=(0,s.useState)([]),[n,a]=(0,s.useState)(!0),[o,i]=(0,s.useState)(null),[l,c]=(0,s.useState)("all"),[d,u]=(0,s.useState)(null);(0,s.useEffect)((()=>{(async()=>{try{a(!0);const e=localStorage.getItem("token"),t=await un.get("/api/tasks/user",{headers:{Authorization:"Bearer ".concat(e)}});r(Array.isArray(t.data)?t.data:[])}catch(e){console.error("Error fetching tasks:",e),i("Failed to load tasks. Please try again.")}finally{a(!1)}})();const e=(0,fn.default)({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:5000"),t=localStorage.getItem("token");if(t)try{const r=JSON.parse(atob(t.split(".")[1]));r&&r.id&&e.emit("authenticate",{userId:r.id})}catch(n){console.error("Error authenticating socket:",n)}return e.on("task:update",(e=>{e&&e.task&&r((t=>t.map((t=>t._id===e.task._id?Vt(Vt({},t),e.task):t))))})),e.on("task:create",(e=>{e&&e.task&&r((t=>[...t,e.task]))})),e.on("task:delete",(e=>{e&&e.taskId&&r((t=>t.filter((t=>t._id!==e.taskId))))})),()=>{e.disconnect()}}),[]);const h=()=>{switch(l){case"today":return t.filter((e=>{if(!e.dueDate)return!1;const t=new Date;t.setHours(0,0,0,0);const r=new Date(t);r.setDate(r.getDate()+1);const n=new Date(e.dueDate);return n.setHours(0,0,0,0),n.getTime()===t.getTime()&&"completed"!==e.status}));case"upcoming":return t.filter((e=>{if(!e.dueDate)return!1;const t=new Date;t.setHours(0,0,0,0);const r=new Date(t);r.setDate(r.getDate()+1);const n=new Date(e.dueDate);return n.setHours(0,0,0,0),n.getTime()>t.getTime()&&"completed"!==e.status}));case"completed":return t.filter((e=>"completed"===e.status));default:return t}},p=e=>{u(e)},m=()=>{u(null)},f=e=>{switch(e){case"high":return"linear-badge-danger";case"medium":return"linear-badge-warning";case"low":return"linear-badge-success";default:return"linear-badge-primary"}},g=e=>{switch(e){case"completed":return"linear-badge-success";case"in_progress":return"linear-badge-warning";case"blocked":return"linear-badge-danger";default:return"linear-badge-primary"}};return n?(0,hn.jsx)("div",{className:"linear-loading flex justify-center items-center h-64",children:(0,hn.jsx)("div",{className:"linear-spinner dark:border-gray-600 dark:border-t-primary-400"})}):o?(0,hn.jsxs)("div",{className:"linear-card linear-card-body text-center dark:bg-gray-800 dark:border-gray-700",children:[(0,hn.jsx)("p",{className:"text-red-500 dark:text-red-400 mb-4",children:o}),(0,hn.jsx)("button",{onClick:()=>window.location.reload(),className:"linear-btn linear-btn-primary",children:"Try Again"})]}):(0,hn.jsxs)("div",{className:"linear-fade-in",children:[(0,hn.jsxs)("div",{className:"mb-8",children:[(0,hn.jsx)("h1",{className:"text-2xl font-bold mb-3 dark:text-gray-100",children:"My Tasks"}),(0,hn.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage and track all your assigned tasks"}),(0,hn.jsx)("div",{className:"mt-6 border-b border-gray-200 dark:border-gray-700",children:(0,hn.jsxs)("nav",{className:"flex -mb-px space-x-8",children:[(0,hn.jsxs)("button",{onClick:()=>c("all"),className:"pb-4 px-1 border-b-2 font-medium text-sm ".concat("all"===l?"border-primary-500 text-primary-600 dark:border-primary-400 dark:text-primary-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"),children:["All Tasks",(0,hn.jsx)("span",{className:"ml-1.5 py-0.5 px-2 rounded-full bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300 text-xs",children:t.length})]}),(0,hn.jsxs)("button",{onClick:()=>c("today"),className:"pb-4 px-1 border-b-2 font-medium text-sm ".concat("today"===l?"border-primary-500 text-primary-600 dark:border-primary-400 dark:text-primary-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"),children:["Today",(0,hn.jsx)("span",{className:"ml-1.5 py-0.5 px-2 rounded-full bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300 text-xs",children:t.filter((e=>{if(!e.dueDate)return!1;const t=new Date;t.setHours(0,0,0,0);const r=new Date(e.dueDate);return r.setHours(0,0,0,0),r.getTime()===t.getTime()&&"completed"!==e.status})).length})]}),(0,hn.jsxs)("button",{onClick:()=>c("upcoming"),className:"pb-4 px-1 border-b-2 font-medium text-sm ".concat("upcoming"===l?"border-primary-500 text-primary-600 dark:border-primary-400 dark:text-primary-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"),children:["Upcoming",(0,hn.jsx)("span",{className:"ml-1.5 py-0.5 px-2 rounded-full bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300 text-xs",children:t.filter((e=>{if(!e.dueDate)return!1;const t=new Date;t.setHours(0,0,0,0);const r=new Date(e.dueDate);return r.setHours(0,0,0,0),r.getTime()>t.getTime()&&"completed"!==e.status})).length})]}),(0,hn.jsxs)("button",{onClick:()=>c("completed"),className:"pb-4 px-1 border-b-2 font-medium text-sm ".concat("completed"===l?"border-primary-500 text-primary-600 dark:border-primary-400 dark:text-primary-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"),children:["Completed",(0,hn.jsx)("span",{className:"ml-1.5 py-0.5 px-2 rounded-full bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300 text-xs",children:t.filter((e=>"completed"===e.status)).length})]})]})})]}),(0,hn.jsx)("div",{className:"linear-card dark:bg-gray-800 dark:border-gray-700",children:(0,hn.jsx)("div",{className:"linear-card-body p-0",children:h().length>0?(0,hn.jsx)("div",{className:"linear-list",children:h().map((e=>{return(0,hn.jsxs)("div",{className:"linear-list-item flex items-center hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer dark:border-gray-700",onClick:()=>p(e),children:[(0,hn.jsxs)("div",{className:"flex-1 flex items-start",children:[(0,hn.jsx)("div",{className:"mr-4",children:(0,hn.jsx)("input",{type:"checkbox",checked:"completed"===e.status,onChange:n=>{n.stopPropagation(),(async(e,n)=>{try{const a=localStorage.getItem("token");if(!a)return void i("Authentication required. Please log in again.");if(r(t.map((t=>t._id===e?Vt(Vt({},t),{},{status:n}):t))),!(await un.put("/api/tasks/".concat(e),{status:n},{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"}})).data)throw new Error("Failed to update task status")}catch(o){var a,s;console.error("Error updating task status:",o),r((t=>{const r=t.find((t=>t._id===e));return t.map((t=>t._id===e?Vt(Vt({},t),{},{status:r.status}):t))})),i((null===(a=o.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message)||"Failed to update task status. Please try again.")}})(e._id,"completed"===e.status?"to_do":"completed")},className:"h-4 w-4 text-primary-600 focus:ring-primary-500 rounded dark:bg-gray-700 dark:border-gray-600"})}),(0,hn.jsxs)("div",{className:"flex-1",children:[(0,hn.jsx)("div",{className:"flex items-center",children:(0,hn.jsx)("h3",{className:"text-sm font-medium ".concat("completed"===e.status?"line-through text-gray-500 dark:text-gray-400":"text-gray-900 dark:text-gray-100"),children:e.title})}),(0,hn.jsxs)("div",{className:"mt-1 flex flex-wrap items-center gap-2",children:[(0,hn.jsx)("span",{className:"linear-badge ".concat(f(e.priority)),children:e.priority.charAt(0).toUpperCase()+e.priority.slice(1)}),(0,hn.jsx)("span",{className:"linear-badge ".concat(g(e.status)),children:(n=e.status,n.replace("_"," ").replace(/\b\w/g,(e=>e.toUpperCase())))}),e.project&&(0,hn.jsx)("span",{className:"text-xs py-0.5 px-2 rounded-full",style:{backgroundColor:e.project.color||"#6366f1",color:"white"},children:e.project.name}),e.dueDate&&(0,hn.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Due: ",new Date(e.dueDate).toLocaleDateString()]})]})]})]}),(0,hn.jsx)("div",{children:(0,hn.jsx)("button",{onClick:t=>{t.stopPropagation(),p(e)},className:"linear-action-btn dark:text-gray-400 dark:hover:text-gray-200",children:(0,hn.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[(0,hn.jsx)("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),(0,hn.jsx)("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]})})})]},e._id);var n}))}):(0,hn.jsxs)("div",{className:"py-12 text-center",children:[(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-gray-400 dark:text-gray-500 mb-4 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),(0,hn.jsxs)("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-1",children:["No ",l," tasks"]}),(0,hn.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"all"===l?"You don't have any tasks assigned to you yet":"today"===l?"You don't have any tasks due today":"upcoming"===l?"You don't have any upcoming tasks":"You don't have any completed tasks"})]})})}),d&&(0,hn.jsx)(An,{task:d,onClose:m,onUpdate:e=>{r(t.map((t=>t._id===d._id?Vt(Vt({},t),e):t))),m()},onDelete:()=>{r(t.filter((e=>e._id!==d._id))),m()}})]})},lx=e=>{let{onClose:t,setUsers:r}=e;const{darkMode:n}=(0,s.useContext)(xn),[a,o]=(0,s.useState)({email:"",role:"Member"}),[i,l]=(0,s.useState)(!1),[c,d]=(0,s.useState)(""),[u,h]=(0,s.useState)(!1),p=e=>{o(Vt(Vt({},a),{},{[e.target.name]:e.target.value}))};return(0,hn.jsx)("div",{className:"modal",children:(0,hn.jsxs)("div",{className:"modal-content dark:bg-gray-800 dark:border-gray-700",children:[(0,hn.jsxs)("div",{className:"modal-header dark:border-gray-700",children:[(0,hn.jsx)("h2",{className:"modal-title dark:text-gray-100",children:"Invite Team Member"}),(0,hn.jsx)("button",{onClick:t,className:"btn-close dark:text-gray-400 dark:hover:text-gray-200 dark:hover:bg-gray-700",children:(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c&&(0,hn.jsx)("div",{className:"alert-error dark:bg-red-900/20 dark:border-red-800 dark:text-red-400",children:c}),u&&(0,hn.jsx)("div",{className:"alert-success dark:bg-green-900/20 dark:border-green-800 dark:text-green-400",children:"Invitation sent successfully!"}),(0,hn.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),l(!0),d("");try{await un.post("/api/users/invite",a);h(!0);const e=await un.get("/api/users");r(e.data.users),o({email:"",role:"Member"})}catch(s){var t,n;d((null===(t=s.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to send invitation")}finally{l(!1)}},children:[(0,hn.jsxs)("div",{className:"form-group",children:[(0,hn.jsx)("label",{htmlFor:"email",className:"dark:text-gray-300",children:"Email Address"}),(0,hn.jsx)("input",{id:"email",type:"email",name:"email",placeholder:"colleague@example.com",value:a.email,onChange:p,required:!0,className:"input dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 dark:placeholder-gray-500"})]}),(0,hn.jsxs)("div",{className:"form-group",children:[(0,hn.jsx)("label",{htmlFor:"role",className:"dark:text-gray-300",children:"Role"}),(0,hn.jsxs)("select",{id:"role",name:"role",value:a.role,onChange:p,className:"input dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200",children:[(0,hn.jsx)("option",{value:"Admin",children:"Admin"}),(0,hn.jsx)("option",{value:"Manager",children:"Manager"}),(0,hn.jsx)("option",{value:"Member",children:"Member"})]})]}),(0,hn.jsxs)("div",{className:"modal-footer dark:border-gray-700",children:[(0,hn.jsx)("button",{type:"button",onClick:t,className:"btn btn-secondary dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-600",children:"Cancel"}),(0,hn.jsx)("button",{type:"submit",disabled:i,className:"btn btn-primary dark:bg-primary-600 dark:hover:bg-primary-700",children:i?"Sending...":"Send Invitation"})]})]})]})})},cx=()=>{var e;const{darkMode:t}=(0,s.useContext)(xn),[r,n]=(0,s.useState)([]),[a,o]=(0,s.useState)(!0),[i,l]=(0,s.useState)(""),[c,d]=(0,s.useState)(!1),[u,h]=(0,s.useState)(!1),[p,m]=(0,s.useState)(""),[f,g]=(0,s.useState)(null),[y,x]=(0,s.useState)("all"),[v,b]=(0,s.useState)("all"),[w,k]=(0,s.useState)(null),[j,N]=(0,s.useState)(null),S=(0,s.useRef)(null),[C,E]=(0,s.useState)(!1),[P,A]=(0,s.useState)("");(0,s.useEffect)((()=>{(async()=>{try{o(!0);const e=(await un.get("/api/users")).data.users.map((e=>Vt(Vt({},e),{},{status:e.status||"active",projects:e.projects||[],role:e.role||"Member"})));n(e)}catch(e){l("Failed to load team members"),console.error("Error fetching users:",e)}finally{o(!1)}})()}),[]),(0,s.useEffect)((()=>{const e=e=>{S.current&&!S.current.contains(e.target)&&(k(null),N(null))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}),[]),(0,s.useEffect)((()=>{if(P){const e=setTimeout((()=>{A("")}),3e3);return()=>clearTimeout(e)}}),[P]);const T=r.filter((e=>{var t;const r=(null===(t=e.displayName)||void 0===t?void 0:t.toLowerCase().includes(p.toLowerCase()))||e.email.toLowerCase().includes(p.toLowerCase())||e.role&&e.role.toLowerCase().includes(p.toLowerCase());return("all"===y||e.status===y)&&(("all"===v||e.role===v)&&r)})),_=async e=>{try{E(!0);const t=localStorage.getItem("token");await un.delete("/api/users/".concat(e),{headers:{Authorization:"Bearer ".concat(t)},withCredentials:!0}),n((t=>t.filter((t=>t._id!==e)))),A("User deleted successfully!"),N(null),k(null)}catch(t){l("Failed to delete user"),console.error("Error deleting user:",t)}finally{E(!1)}},D=async(e,t)=>{try{E(!0);const r=localStorage.getItem("token");if(!r)return l("Authentication required. Please log in again."),void E(!1);(await un.patch("/api/users/".concat(e),{status:t},{headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"},withCredentials:!0})).data&&(n((r=>r.map((r=>r._id===e?Vt(Vt({},r),{},{status:t}):r)))),A("User status changed to ".concat(t,"!")),k(null))}catch(s){var r,a;console.error("Error updating user status:",s),l((null===(r=s.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||"Failed to update user status. Please try again.")}finally{E(!1)}},R=async(e,t)=>{try{E(!0);const r=localStorage.getItem("token");if(!r)return l("Authentication required. Please log in again."),void E(!1);(await un.patch("/api/users/".concat(e),{role:t},{headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"},withCredentials:!0})).data&&(n((r=>r.map((r=>r._id===e?Vt(Vt({},r),{},{role:t}):r)))),A("User role updated to ".concat(t,"!")),k(null))}catch(s){var r,a;console.error("Error updating user role:",s),l((null===(r=s.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||"Failed to update user role. Please try again.")}finally{E(!1)}},L=e=>{g(e),h(!0),k(null)},I=e=>{let{member:t,onEdit:r,onDelete:n}=e;return(0,hn.jsx)("div",{className:"p-4 border rounded-lg shadow dark:bg-gray-800 dark:border-gray-700 transition-all duration-200 hover:shadow-md dark:hover:shadow-gray-900/30",children:(0,hn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,hn.jsx)("div",{className:"flex-shrink-0",children:t.photo?(0,hn.jsx)("img",{className:"h-12 w-12 rounded-full border-2 border-gray-200 dark:border-gray-700",src:t.photo,alt:t.displayName}):(0,hn.jsx)("div",{className:"h-12 w-12 rounded-full bg-primary-100 dark:bg-primary-900 flex items-center justify-center border-2 border-gray-200 dark:border-gray-700",children:(0,hn.jsx)("span",{className:"text-xl font-medium text-primary-600 dark:text-primary-300",children:t.displayName?t.displayName.charAt(0).toUpperCase():"U"})})}),(0,hn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,hn.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:t.displayName}),(0,hn.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:t.email}),(0,hn.jsxs)("div",{className:"mt-1",children:[(0,hn.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium \n                ".concat("active"===t.status?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"),children:"active"===t.status?"Active":"Inactive"}),(0,hn.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-primary-100 text-primary-800 dark:bg-primary-900/30 dark:text-primary-400 ml-2",children:t.role})]})]}),(0,hn.jsxs)("div",{className:"flex-shrink-0 flex space-x-2",children:[(0,hn.jsx)("button",{onClick:()=>r(t),className:"bg-transparent text-gray-500 hover:text-primary-600 dark:text-gray-400 dark:hover:text-primary-400 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200",children:(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,hn.jsx)("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})})}),(0,hn.jsx)("button",{onClick:()=>n(t._id),className:"bg-transparent text-gray-500 hover:text-red-600 dark:text-gray-400 dark:hover:text-red-400 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200",children:(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,hn.jsx)("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]})})};return a?(0,hn.jsx)("div",{className:"linear-loading",children:(0,hn.jsx)("div",{className:"linear-spinner dark:border-gray-600 dark:border-t-primary-400"})}):i?(0,hn.jsxs)("div",{className:"linear-card linear-card-body dark:bg-gray-800 dark:border-gray-700 dark:text-gray-100",children:[(0,hn.jsx)("p",{className:"text-red-600 dark:text-red-400",children:i}),(0,hn.jsx)("button",{onClick:()=>window.location.reload(),className:"linear-btn linear-btn-primary mt-3",children:"Try Again"})]}):(0,hn.jsxs)("div",{className:"container mx-auto px-4 py-8 dark:bg-gray-900",children:[(0,hn.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,hn.jsx)("h1",{className:"text-2xl font-bold dark:text-white",children:"Team Members"}),(0,hn.jsx)("button",{onClick:()=>d(!0),className:"linear-btn linear-btn-primary dark:bg-primary-600 dark:hover:bg-primary-700",children:"Add Team Member"})]}),P&&(0,hn.jsxs)("div",{className:"mb-4 bg-green-50 dark:bg-green-900/30 border border-green-200 dark:border-green-800 text-green-700 dark:text-green-400 p-3 rounded-md flex items-center justify-between linear-fade-in",children:[(0,hn.jsxs)("div",{className:"flex items-center",children:[(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),P]}),(0,hn.jsx)("button",{onClick:()=>A(""),className:"text-green-500 dark:text-green-400 hover:text-green-700 dark:hover:text-green-300",children:(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,hn.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),i&&(0,hn.jsxs)("div",{className:"mb-4 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-400 p-3 rounded-md flex items-center justify-between linear-fade-in",children:[(0,hn.jsxs)("div",{className:"flex items-center",children:[(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),i]}),(0,hn.jsx)("button",{onClick:()=>l(""),className:"text-red-500 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300",children:(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,hn.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),(0,hn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:T.map((e=>(0,hn.jsx)("div",{className:"dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:(0,hn.jsx)(I,{member:e,onEdit:L,onDelete:_})},e._id)))}),c&&(0,hn.jsx)("div",{className:"linear-modal-overlay",children:(0,hn.jsx)("div",{className:"linear-modal",children:(0,hn.jsx)(lx,{onClose:()=>d(!1),setUsers:e=>{n(e.map((e=>Vt(Vt({},e),{},{status:e.status||"active",role:e.role||"Member",projects:e.projects||[]}))))}})})}),u&&f&&(0,hn.jsx)("div",{className:"linear-modal-overlay dark:bg-gray-900/80",children:(0,hn.jsx)("div",{className:"linear-modal dark:bg-gray-800",children:(0,hn.jsxs)("div",{className:"linear-card dark:bg-gray-800 dark:border-gray-700",children:[(0,hn.jsxs)("div",{className:"linear-card-header flex justify-between dark:border-gray-700",children:[(0,hn.jsx)("h3",{className:"font-medium dark:text-gray-100",children:"Edit User"}),(0,hn.jsx)("button",{onClick:()=>h(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,hn.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),(0,hn.jsxs)("div",{className:"linear-card-body dark:bg-gray-800",children:[(0,hn.jsxs)("div",{className:"mb-4 flex items-center",children:[(0,hn.jsx)("div",{className:"linear-avatar linear-avatar-lg mr-4 dark:bg-gray-700 dark:text-gray-300",children:f.photo?(0,hn.jsx)("img",{src:f.photo,alt:f.displayName}):(0,hn.jsx)("span",{children:(null===(e=f.displayName)||void 0===e?void 0:e.charAt(0))||"?"})}),(0,hn.jsxs)("div",{children:[(0,hn.jsx)("h4",{className:"text-lg font-medium dark:text-gray-100",children:f.displayName||"User"}),(0,hn.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:f.email})]})]}),(0,hn.jsxs)("div",{className:"mb-4",children:[(0,hn.jsx)("label",{className:"block text-sm font-medium mb-1 dark:text-gray-300",children:"Role"}),(0,hn.jsxs)("div",{className:"space-y-2",children:[(0,hn.jsxs)("button",{className:"w-full text-left px-3 py-2 rounded-md ".concat("Admin"===f.role?"bg-primary-100 dark:bg-primary-900/30 border border-primary-300 dark:border-primary-800 text-primary-700 dark:text-primary-300":"border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 dark:text-gray-300"),onClick:()=>R(f._id,"Admin"),disabled:C,children:[(0,hn.jsx)("div",{className:"flex items-center",children:(0,hn.jsx)("span",{className:"font-medium",children:"Admin"})}),(0,hn.jsx)("p",{className:"text-xs mt-1 text-gray-500 dark:text-gray-400",children:"Can manage all aspects of the workspace"})]}),(0,hn.jsxs)("button",{className:"w-full text-left px-3 py-2 rounded-md ".concat("Manager"===f.role?"bg-primary-100 dark:bg-primary-900/30 border border-primary-300 dark:border-primary-800 text-primary-700 dark:text-primary-300":"border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 dark:text-gray-300"),onClick:()=>R(f._id,"Manager"),disabled:C,children:[(0,hn.jsx)("div",{className:"flex items-center",children:(0,hn.jsx)("span",{className:"font-medium",children:"Manager"})}),(0,hn.jsx)("p",{className:"text-xs mt-1 text-gray-500 dark:text-gray-400",children:"Can manage projects and team members"})]}),(0,hn.jsxs)("button",{className:"w-full text-left px-3 py-2 rounded-md ".concat("Member"===f.role?"bg-primary-100 dark:bg-primary-900/30 border border-primary-300 dark:border-primary-800 text-primary-700 dark:text-primary-300":"border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 dark:text-gray-300"),onClick:()=>R(f._id,"Member"),disabled:C,children:[(0,hn.jsx)("div",{className:"flex items-center",children:(0,hn.jsx)("span",{className:"font-medium",children:"Member"})}),(0,hn.jsx)("p",{className:"text-xs mt-1 text-gray-500 dark:text-gray-400",children:"Can participate in projects they are assigned to"})]})]})]}),(0,hn.jsxs)("div",{className:"mb-4",children:[(0,hn.jsx)("label",{className:"block text-sm font-medium mb-1 dark:text-gray-300",children:"Status"}),(0,hn.jsxs)("div",{className:"space-y-2",children:[(0,hn.jsx)("button",{className:"w-full text-left px-3 py-2 rounded-md ".concat("inactive"!==f.status?"bg-green-100 dark:bg-green-900/20 border border-green-300 dark:border-green-800 text-green-700 dark:text-green-400":"border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 dark:text-gray-300"),onClick:()=>D(f._id,"active"),disabled:C,children:(0,hn.jsxs)("div",{className:"flex items-center",children:[(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2 text-green-500 dark:text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,hn.jsx)("span",{className:"font-medium",children:"Active"})]})}),(0,hn.jsx)("button",{className:"w-full text-left px-3 py-2 rounded-md ".concat("inactive"===f.status?"bg-red-100 dark:bg-red-900/20 border border-red-300 dark:border-red-800 text-red-700 dark:text-red-400":"border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 dark:text-gray-300"),onClick:()=>D(f._id,"inactive"),disabled:C,children:(0,hn.jsxs)("div",{className:"flex items-center",children:[(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2 text-red-500 dark:text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})}),(0,hn.jsx)("span",{className:"font-medium",children:"Inactive"})]})})]})]})]}),(0,hn.jsxs)("div",{className:"linear-card-footer flex justify-end space-x-2 dark:border-gray-700",children:[(0,hn.jsx)("button",{onClick:()=>h(!1),className:"linear-btn linear-btn-secondary dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-600",disabled:C,children:C?"Processing...":"Cancel"}),(0,hn.jsx)("button",{onClick:()=>{(async()=>{try{E(!0);const e=localStorage.getItem("token");(await un.patch("/api/users/".concat(f._id),{role:f.role,status:f.status},{headers:{Authorization:"Bearer ".concat(e)},withCredentials:!0})).data&&A("User updated successfully!"),h(!1)}catch(e){l("Failed to update user"),console.error("Error updating user:",e)}finally{E(!1)}})()},className:"linear-btn linear-btn-primary dark:bg-primary-600 dark:hover:bg-primary-700 dark:text-white",disabled:C,children:C?"Saving...":"Done"})]})]})})})]})},dx=()=>{var e,t,r,n,a,o,i,l,c,d,u,h;const{user:p,updateUser:m}=(0,s.useContext)(pn),[f,g]=(0,s.useState)("profile"),[y,x]=(0,s.useState)(!1),[v,b]=(0,s.useState)({type:"",text:""}),[w,k]=(0,s.useState)({displayName:(null===p||void 0===p?void 0:p.displayName)||"",bio:(null===p||void 0===p?void 0:p.bio)||"",photo:(null===p||void 0===p?void 0:p.photo)||""}),[j,N]=(0,s.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[S,C]=(0,s.useState)({email:null===(e=null===p||void 0===p||null===(t=p.notificationSettings)||void 0===t?void 0:t.email)||void 0===e||e,browser:null===(r=null===p||void 0===p||null===(n=p.notificationSettings)||void 0===n?void 0:n.browser)||void 0===r||r,taskAssigned:null===(a=null===p||void 0===p||null===(o=p.notificationSettings)||void 0===o?void 0:o.taskAssigned)||void 0===a||a,taskStatusChange:null===(i=null===p||void 0===p||null===(l=p.notificationSettings)||void 0===l?void 0:l.taskStatusChange)||void 0===i||i,mentions:null===(c=null===p||void 0===p||null===(d=p.notificationSettings)||void 0===d?void 0:d.mentions)||void 0===c||c,projectUpdates:null===(u=null===p||void 0===p||null===(h=p.notificationSettings)||void 0===h?void 0:h.projectUpdates)||void 0===u||u}),E=e=>{const{name:t,value:r}=e.target;k((e=>Vt(Vt({},e),{},{[t]:r})))},P=e=>{const{name:t,value:r}=e.target;N((e=>Vt(Vt({},e),{},{[t]:r})))},A=e=>{const{name:t,checked:r}=e.target;C((e=>Vt(Vt({},e),{},{[t]:r})))},T=async e=>{e.preventDefault(),x(!0),b({type:"",text:""});try{const e=await un.put("/api/user/profile",w);e.data.user&&(m(e.data.user),b({type:"success",text:"Profile updated successfully!"}))}catch(n){var t,r;b({type:"error",text:(null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to update profile"}),console.error("Profile update error:",n)}finally{x(!1)}},_=async e=>{if(e.preventDefault(),j.newPassword===j.confirmPassword){x(!0),b({type:"",text:""});try{await un.put("/api/user/password",{currentPassword:j.currentPassword,newPassword:j.newPassword});b({type:"success",text:"Password updated successfully!"}),N({currentPassword:"",newPassword:"",confirmPassword:""})}catch(n){var t,r;b({type:"error",text:(null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to update password"}),console.error("Password update error:",n)}finally{x(!1)}}else b({type:"error",text:"New passwords do not match"})},D=async e=>{e.preventDefault(),x(!0),b({type:"",text:""});try{const e=await un.put("/api/notifications/settings",{notificationSettings:S});e.data.user&&(m(e.data.user),b({type:"success",text:"Notification preferences updated successfully!"}))}catch(n){var t,r;b({type:"error",text:(null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to update notification settings"}),console.error("Notifications update error:",n)}finally{x(!1)}},R=()=>(0,hn.jsxs)("form",{onSubmit:T,className:"space-y-6",children:[v.text&&(0,hn.jsx)("div",{className:"p-4 rounded-md ".concat("success"===v.type?"bg-green-50 text-green-800":"bg-red-50 text-red-800"),children:v.text}),(0,hn.jsxs)("div",{children:[(0,hn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Profile Photo"}),(0,hn.jsxs)("div",{className:"flex items-center",children:[(0,hn.jsx)("div",{className:"linear-avatar linear-avatar-lg mr-4",children:w.photo?(0,hn.jsx)("img",{src:w.photo,alt:w.displayName,className:"h-full w-full object-cover"}):w.displayName.charAt(0)}),(0,hn.jsxs)("div",{children:[(0,hn.jsx)("input",{type:"text",name:"photo",placeholder:"Photo URL",value:w.photo,onChange:E,className:"linear-input"}),(0,hn.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Enter a URL for your profile photo"})]})]})]}),(0,hn.jsxs)("div",{children:[(0,hn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"displayName",children:"Name"}),(0,hn.jsx)("input",{type:"text",id:"displayName",name:"displayName",value:w.displayName,onChange:E,className:"linear-input",required:!0})]}),(0,hn.jsxs)("div",{children:[(0,hn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"bio",children:"Bio"}),(0,hn.jsx)("textarea",{id:"bio",name:"bio",rows:"4",value:w.bio,onChange:E,className:"linear-input",placeholder:"Tell us a bit about yourself"})]}),(0,hn.jsx)("div",{className:"pt-3",children:(0,hn.jsx)("button",{type:"submit",className:"linear-btn linear-btn-primary",disabled:y,children:y?"Saving...":"Save Changes"})})]});return(0,hn.jsxs)("div",{className:"linear-fade-in",children:[(0,hn.jsxs)("div",{className:"mb-8",children:[(0,hn.jsx)("h1",{className:"text-2xl font-bold mb-2",children:"Settings"}),(0,hn.jsx)("p",{className:"text-gray-600",children:"Manage your account preferences"})]}),(0,hn.jsxs)("div",{className:"flex flex-col md:flex-row gap-8",children:[(0,hn.jsx)("div",{className:"md:w-64 flex-shrink-0",children:(0,hn.jsx)("div",{className:"linear-card",children:(0,hn.jsxs)("nav",{className:"linear-list",children:[(0,hn.jsxs)("button",{className:"linear-list-item flex items-center text-left ".concat("profile"===f?"bg-primary-50 text-primary-600 font-medium":""),onClick:()=>g("profile"),children:[(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Profile"]}),(0,hn.jsxs)("button",{className:"linear-list-item flex items-center text-left ".concat("password"===f?"bg-primary-50 text-primary-600 font-medium":""),onClick:()=>g("password"),children:[(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"Password"]}),(0,hn.jsxs)("button",{className:"linear-list-item flex items-center text-left ".concat("notifications"===f?"bg-primary-50 text-primary-600 font-medium":""),onClick:()=>g("notifications"),children:[(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),"Notifications"]})]})})}),(0,hn.jsx)("div",{className:"linear-card flex-1",children:(0,hn.jsx)("div",{className:"linear-card-body",children:(()=>{switch(f){case"profile":default:return R();case"password":return(0,hn.jsxs)("form",{onSubmit:_,className:"space-y-6",children:[v.text&&(0,hn.jsx)("div",{className:"p-4 rounded-md ".concat("success"===v.type?"bg-green-50 text-green-800":"bg-red-50 text-red-800"),children:v.text}),(0,hn.jsxs)("div",{children:[(0,hn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"currentPassword",children:"Current Password"}),(0,hn.jsx)("input",{type:"password",id:"currentPassword",name:"currentPassword",value:j.currentPassword,onChange:P,className:"linear-input",required:!0})]}),(0,hn.jsxs)("div",{children:[(0,hn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"newPassword",children:"New Password"}),(0,hn.jsx)("input",{type:"password",id:"newPassword",name:"newPassword",value:j.newPassword,onChange:P,className:"linear-input",required:!0,minLength:"8"}),(0,hn.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Must be at least 8 characters long"})]}),(0,hn.jsxs)("div",{children:[(0,hn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"confirmPassword",children:"Confirm New Password"}),(0,hn.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:j.confirmPassword,onChange:P,className:"linear-input",required:!0})]}),(0,hn.jsx)("div",{className:"pt-3",children:(0,hn.jsx)("button",{type:"submit",className:"linear-btn linear-btn-primary",disabled:y,children:y?"Updating...":"Update Password"})})]});case"notifications":return(0,hn.jsxs)("form",{onSubmit:D,className:"space-y-6",children:[v.text&&(0,hn.jsx)("div",{className:"p-4 rounded-md ".concat("success"===v.type?"bg-green-50 text-green-800":"bg-red-50 text-red-800"),children:v.text}),(0,hn.jsxs)("div",{children:[(0,hn.jsx)("h3",{className:"text-lg font-medium mb-3",children:"Notification Channels"}),(0,hn.jsxs)("div",{className:"space-y-3",children:[(0,hn.jsxs)("div",{className:"flex items-start",children:[(0,hn.jsx)("div",{className:"flex items-center h-5",children:(0,hn.jsx)("input",{id:"email",name:"email",type:"checkbox",checked:S.email,onChange:A,className:"h-4 w-4"})}),(0,hn.jsxs)("div",{className:"ml-3",children:[(0,hn.jsx)("label",{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"Email notifications"}),(0,hn.jsx)("p",{className:"text-sm text-gray-500",children:"Get notified via email for important updates"})]})]}),(0,hn.jsxs)("div",{className:"flex items-start",children:[(0,hn.jsx)("div",{className:"flex items-center h-5",children:(0,hn.jsx)("input",{id:"browser",name:"browser",type:"checkbox",checked:S.browser,onChange:A,className:"h-4 w-4"})}),(0,hn.jsxs)("div",{className:"ml-3",children:[(0,hn.jsx)("label",{htmlFor:"browser",className:"text-sm font-medium text-gray-700",children:"Browser notifications"}),(0,hn.jsx)("p",{className:"text-sm text-gray-500",children:"Receive real-time notifications in-app"})]})]})]})]}),(0,hn.jsxs)("div",{children:[(0,hn.jsx)("h3",{className:"text-lg font-medium mb-3",children:"Notification Preferences"}),(0,hn.jsxs)("div",{className:"space-y-3",children:[(0,hn.jsxs)("div",{className:"flex items-start",children:[(0,hn.jsx)("div",{className:"flex items-center h-5",children:(0,hn.jsx)("input",{id:"taskAssigned",name:"taskAssigned",type:"checkbox",checked:S.taskAssigned,onChange:A,className:"h-4 w-4"})}),(0,hn.jsxs)("div",{className:"ml-3",children:[(0,hn.jsx)("label",{htmlFor:"taskAssigned",className:"text-sm font-medium text-gray-700",children:"Task assignments"}),(0,hn.jsx)("p",{className:"text-sm text-gray-500",children:"When you are assigned a new task"})]})]}),(0,hn.jsxs)("div",{className:"flex items-start",children:[(0,hn.jsx)("div",{className:"flex items-center h-5",children:(0,hn.jsx)("input",{id:"taskStatusChange",name:"taskStatusChange",type:"checkbox",checked:S.taskStatusChange,onChange:A,className:"h-4 w-4"})}),(0,hn.jsxs)("div",{className:"ml-3",children:[(0,hn.jsx)("label",{htmlFor:"taskStatusChange",className:"text-sm font-medium text-gray-700",children:"Task status changes"}),(0,hn.jsx)("p",{className:"text-sm text-gray-500",children:"When a task's status changes"})]})]}),(0,hn.jsxs)("div",{className:"flex items-start",children:[(0,hn.jsx)("div",{className:"flex items-center h-5",children:(0,hn.jsx)("input",{id:"mentions",name:"mentions",type:"checkbox",checked:S.mentions,onChange:A,className:"h-4 w-4"})}),(0,hn.jsxs)("div",{className:"ml-3",children:[(0,hn.jsx)("label",{htmlFor:"mentions",className:"text-sm font-medium text-gray-700",children:"Mentions"}),(0,hn.jsx)("p",{className:"text-sm text-gray-500",children:"When someone mentions you in a comment"})]})]}),(0,hn.jsxs)("div",{className:"flex items-start",children:[(0,hn.jsx)("div",{className:"flex items-center h-5",children:(0,hn.jsx)("input",{id:"projectUpdates",name:"projectUpdates",type:"checkbox",checked:S.projectUpdates,onChange:A,className:"h-4 w-4"})}),(0,hn.jsxs)("div",{className:"ml-3",children:[(0,hn.jsx)("label",{htmlFor:"projectUpdates",className:"text-sm font-medium text-gray-700",children:"Project updates"}),(0,hn.jsx)("p",{className:"text-sm text-gray-500",children:"When there are updates to projects you're a member of"})]})]})]})]}),(0,hn.jsx)("div",{className:"pt-3",children:(0,hn.jsx)("button",{type:"submit",className:"linear-btn linear-btn-primary",disabled:y,children:y?"Saving...":"Save Preferences"})})]})}})()})})]})]})},ux=()=>{const{user:e,updateProfile:t,updatePhoto:r}=(0,s.useContext)(pn),[n,a]=(0,s.useState)(!1),[o,i]=(0,s.useState)(""),[l,c]=(0,s.useState)(""),[d,u]=(0,s.useState)(!1),[h,p]=(0,s.useState)({displayName:(null===e||void 0===e?void 0:e.displayName)||"",email:(null===e||void 0===e?void 0:e.email)||"",bio:(null===e||void 0===e?void 0:e.bio)||""}),[m,f]=(0,s.useState)(null),[g,y]=(0,s.useState)(""),x=e=>{p(Vt(Vt({},h),{},{[e.target.name]:e.target.value}))};return e?(0,hn.jsxs)("div",{className:"space-y-6",children:[(0,hn.jsx)("div",{className:"flex items-center justify-between",children:(0,hn.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"My Profile"})}),o&&(0,hn.jsx)("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-6",children:(0,hn.jsx)("p",{className:"text-red-700",children:o})}),l&&(0,hn.jsx)("div",{className:"bg-green-50 border-l-4 border-green-500 p-4 mb-6",children:(0,hn.jsx)("p",{className:"text-green-700",children:l})}),(0,hn.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:d?(0,hn.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),a(!0),i(""),c("");try{const e=await t({displayName:h.displayName,bio:h.bio});if(m)try{const e=await r(m);e.success||i("Failed to update profile photo: "+e.message)}catch(n){console.error("Error updating photo:",n),i("Failed to update profile photo. Please try again later.")}e.success?(e.user&&p({displayName:e.user.displayName||h.displayName,email:e.user.email||h.email,bio:e.user.bio||h.bio}),c("Profile updated successfully"),u(!1)):i(e.message)}catch(s){console.error("Error updating profile:",s),i("An unexpected error occurred")}finally{a(!1)}},className:"p-6",children:[(0,hn.jsx)("div",{className:"flex items-center justify-center mb-8",children:(0,hn.jsxs)("div",{className:"relative",children:[(0,hn.jsx)("div",{className:"h-32 w-32 rounded-full bg-primary flex items-center justify-center text-white overflow-hidden",children:g||e.photo?(0,hn.jsx)("img",{src:g||e.photo,alt:h.displayName,className:"h-full w-full object-cover"}):(0,hn.jsx)("span",{className:"text-4xl font-semibold",children:h.displayName.charAt(0)})}),(0,hn.jsx)("label",{htmlFor:"photo",className:"absolute bottom-0 right-0 h-8 w-8 bg-gray-900 bg-opacity-75 rounded-full flex items-center justify-center cursor-pointer hover:bg-opacity-95",children:(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-white",viewBox:"0 0 20 20",fill:"currentColor",children:(0,hn.jsx)("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})})}),(0,hn.jsx)("input",{id:"photo",type:"file",accept:"image/*",onChange:e=>{if(e.target.files&&e.target.files[0]){const t=e.target.files[0];f(t);const r=new FileReader;r.onloadend=()=>{y(r.result)},r.readAsDataURL(t)}},className:"hidden"})]})}),(0,hn.jsxs)("div",{className:"space-y-6",children:[(0,hn.jsxs)("div",{children:[(0,hn.jsx)("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Name"}),(0,hn.jsx)("input",{id:"displayName",type:"text",name:"displayName",value:h.displayName,onChange:x,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary"})]}),(0,hn.jsxs)("div",{children:[(0,hn.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,hn.jsx)("input",{id:"email",type:"email",name:"email",value:h.email,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 cursor-not-allowed"}),(0,hn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed"})]}),(0,hn.jsxs)("div",{children:[(0,hn.jsx)("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700 mb-1",children:"Bio"}),(0,hn.jsx)("textarea",{id:"bio",name:"bio",value:h.bio,onChange:x,rows:"4",placeholder:"Tell us about yourself",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary resize-none"})]})]}),(0,hn.jsxs)("div",{className:"flex items-center justify-end space-x-3 mt-8",children:[(0,hn.jsx)("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,hn.jsx)("button",{type:"submit",disabled:n,className:"px-4 py-2 bg-primary hover:bg-primary-hover text-white text-sm font-medium rounded-md transition duration-200 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Saving...":"Save Changes"})]})]}):(0,hn.jsxs)("div",{children:[(0,hn.jsx)("div",{className:"border-b border-gray-200 bg-gray-50 px-6 py-4",children:(0,hn.jsx)("h2",{className:"text-lg font-medium text-gray-800",children:"Profile Information"})}),(0,hn.jsx)("div",{className:"p-6",children:(0,hn.jsxs)("div",{className:"flex flex-col md:flex-row",children:[(0,hn.jsx)("div",{className:"md:w-1/4 flex justify-center md:justify-start mb-6 md:mb-0",children:(0,hn.jsx)("div",{className:"h-32 w-32 rounded-full bg-primary flex items-center justify-center text-white overflow-hidden",children:e.photo?(0,hn.jsx)("img",{src:e.photo,alt:e.displayName,className:"h-full w-full object-cover"}):(0,hn.jsx)("span",{className:"text-4xl font-semibold",children:e.displayName.charAt(0)})})}),(0,hn.jsxs)("div",{className:"md:w-3/4 md:pl-8",children:[(0,hn.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,hn.jsx)("h3",{className:"text-xl font-semibold text-gray-800",children:e.displayName}),(0,hn.jsxs)("button",{onClick:()=>{p({displayName:e.displayName||"",email:e.email||"",bio:e.bio||""}),y(""),f(null),u(!0)},className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 flex items-center",children:[(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:(0,hn.jsx)("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),"Edit Profile"]})]}),(0,hn.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,hn.jsxs)("div",{children:[(0,hn.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Email"}),(0,hn.jsx)("p",{className:"mt-1 text-gray-800",children:e.email})]}),(0,hn.jsxs)("div",{children:[(0,hn.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Member Since"}),(0,hn.jsx)("p",{className:"mt-1 text-gray-800",children:e.createdAt?new Date(e.createdAt).toLocaleDateString():"N/A"})]})]}),(0,hn.jsxs)("div",{className:"mt-8",children:[(0,hn.jsx)("p",{className:"text-sm font-medium text-gray-500 mb-2",children:"Bio"}),e.bio?(0,hn.jsx)("p",{className:"text-gray-800 whitespace-pre-line",children:e.bio}):(0,hn.jsx)("p",{className:"text-gray-400 italic",children:"No bio provided"})]}),(0,hn.jsxs)("div",{className:"mt-8",children:[(0,hn.jsx)("p",{className:"text-sm font-medium text-gray-500 mb-2",children:"Badges"}),e.badges&&e.badges.length>0?(0,hn.jsx)("div",{className:"flex flex-wrap gap-2",children:e.badges.map(((e,t)=>(0,hn.jsxs)("div",{className:"linear-badge linear-badge-primary flex items-center px-3 py-1 rounded-full",children:[(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:(0,hn.jsx)("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e]},t)))}):(0,hn.jsx)("p",{className:"text-gray-400 italic",children:"No badges earned yet"})]})]})]})})]})})]}):(0,hn.jsx)("div",{className:"min-h-[50vh] flex items-center justify-center",children:(0,hn.jsx)("div",{className:"w-12 h-12 rounded-full border-4 border-primary border-t-transparent animate-spin"})})},hx=()=>{const{notifications:e,loading:t,markAsRead:r,markAllAsRead:n,deleteNotification:a}=(0,s.useContext)(gn),o=te(),[i,l]=(0,s.useState)("all"),c=e?e.filter((e=>"all"===i||("unread"===i?!e.read:"read"!==i||e.read))):[],d=e=>{switch(e){case"project_invite":return(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})});case"task_assigned":return(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})});case"task_comment":return(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})});default:return(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})})}},u=e=>{const t=new Date(e),r=new Date,n=Math.floor((r-t)/1e3);if(n<60)return"Just now";if(n<3600){const e=Math.floor(n/60);return"".concat(e," ").concat(1===e?"minute":"minutes"," ago")}if(n<86400){const e=Math.floor(n/3600);return"".concat(e," ").concat(1===e?"hour":"hours"," ago")}if(n<604800){const e=Math.floor(n/86400);return"".concat(e," ").concat(1===e?"day":"days"," ago")}return t.toLocaleDateString()};if(t)return(0,hn.jsxs)("div",{className:"flex flex-col items-center justify-center h-64",children:[(0,hn.jsx)("div",{className:"linear-spinner"}),(0,hn.jsx)("p",{className:"text-gray-600 mt-4",children:"Loading notifications..."})]});const h=e?e.filter((e=>!e.read)).length:0;return(0,hn.jsxs)("div",{className:"linear-fade-in",children:[(0,hn.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,hn.jsxs)("div",{children:[(0,hn.jsx)("h1",{className:"text-2xl font-bold mb-2",children:"Notifications"}),(0,hn.jsx)("p",{className:"text-gray-600",children:"View and manage all your notifications"})]}),h>0&&(0,hn.jsxs)("button",{onClick:n,className:"linear-btn linear-btn-primary flex items-center",children:[(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Mark all as read"]})]}),(0,hn.jsxs)("div",{className:"flex space-x-4 mb-6",children:[(0,hn.jsx)("button",{onClick:()=>l("all"),className:"linear-btn ".concat("all"===i?"linear-btn-primary":"linear-btn-secondary"),children:"All"}),(0,hn.jsxs)("button",{onClick:()=>l("unread"),className:"linear-btn ".concat("unread"===i?"linear-btn-primary":"linear-btn-secondary"),children:["Unread ",h>0&&"(".concat(h,")")]}),(0,hn.jsx)("button",{onClick:()=>l("read"),className:"linear-btn ".concat("read"===i?"linear-btn-primary":"linear-btn-secondary"),children:"Read"})]}),(0,hn.jsxs)("div",{className:"linear-card",children:[(0,hn.jsx)("div",{className:"linear-card-header",children:(0,hn.jsx)("h2",{className:"text-lg font-semibold",children:"all"===i?"All Notifications":"unread"===i?"Unread Notifications":"Read Notifications"})}),(0,hn.jsx)("div",{className:"linear-card-body p-0",children:c.length>0?(0,hn.jsx)("div",{className:"linear-list",children:c.map((e=>(0,hn.jsxs)("div",{className:"linear-list-item flex items-start justify-between group ".concat(e.read?"":"bg-primary-50"),children:[(0,hn.jsxs)("div",{className:"flex items-start cursor-pointer flex-grow",onClick:()=>(e=>{e.read||r(e._id),"project_invite"===e.type?o("/projects/".concat(e.projectId)):"task_assigned"===e.type?o("/tasks"):"task_comment"===e.type&&o("/projects/".concat(e.projectId))})(e),children:[(0,hn.jsx)("div",{className:"linear-avatar linear-avatar-md mr-4 flex-shrink-0 ".concat(e.read?"bg-gray-100 text-gray-500":"bg-primary-100 text-primary-600"),children:d(e.type)}),(0,hn.jsxs)("div",{className:"flex-grow",children:[(0,hn.jsxs)("div",{className:"flex items-center",children:[(0,hn.jsx)("h3",{className:"text-sm font-medium",children:e.title||e.message&&e.message.split(":")[0]}),!e.read&&(0,hn.jsx)("span",{className:"linear-badge linear-badge-primary ml-2",children:"New"})]}),(0,hn.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.message||e.title}),(0,hn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:u(e.createdAt)})]})]}),(0,hn.jsxs)("div",{className:"flex items-center opacity-0 group-hover:opacity-100 transition-opacity",children:[e.read?(0,hn.jsx)("button",{className:"linear-action-btn hover:text-primary-600 mr-2",onClick:()=>r(e._id,!1),title:"Mark as unread",children:(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})})}):(0,hn.jsx)("button",{className:"linear-action-btn hover:text-primary-600 mr-2",onClick:()=>r(e._id),title:"Mark as read",children:(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,hn.jsx)("button",{className:"linear-action-btn hover:text-red-600",onClick:()=>a(e._id),title:"Delete notification",children:(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},e._id)))}):(0,hn.jsxs)("div",{className:"py-12 text-center",children:[(0,hn.jsx)("div",{className:"flex justify-center mb-4",children:(0,hn.jsx)("div",{className:"linear-avatar linear-avatar-lg bg-gray-100 text-gray-400",children:(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})})})}),(0,hn.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"No notifications"}),(0,hn.jsx)("p",{className:"text-gray-500 mt-2 max-w-md mx-auto",children:"unread"===i?"You have no unread notifications.":"read"===i?"You have no read notifications.":"You have no notifications at the moment."})]})})]})]})},px=()=>{const{projects:e,loading:t}=(0,s.useContext)(En),{unreadCounts:r,totalUnreadCount:n,onlineUsers:a,connectionStatus:o,reconnect:i}=(0,s.useContext)(bn),{darkMode:l}=(0,s.useContext)(xn),{user:c}=(0,s.useContext)(pn),[d,u]=(0,s.useState)(null),[h,p]=(0,s.useState)(!0),[m,f]=(0,s.useState)(""),[g,y]=(0,s.useState)(!1);(0,s.useEffect)((()=>{p(t)}),[t]),(0,s.useEffect)((()=>{y("connecting"===o)}),[o]),(0,s.useEffect)((()=>{if(e.length>0&&!d){const t=e.find((e=>r[e._id]>0));u(t||e[0])}}),[e,r,d]);const x=()=>{y(!0),i()},v=(0,s.useMemo)((()=>e?[...e].sort(((e,t)=>{const n=r[e._id]||0,a=r[t._id]||0;return n>0&&0===a?-1:a>0&&0===n?1:n!==a?a-n:e.name.localeCompare(t.name)})):[]),[e,r]),b=e=>a&&a.includes(e);return h?(0,hn.jsx)("div",{className:"linear-loading flex items-center justify-center h-64",children:(0,hn.jsx)("div",{className:"linear-spinner dark:border-gray-600 dark:border-t-primary-400"})}):(0,hn.jsxs)("div",{className:"linear-fade-in",children:[(0,hn.jsxs)("div",{className:"mb-8",children:[(0,hn.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,hn.jsx)("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:"Project Chats"}),"connected"!==o&&(0,hn.jsx)("button",{onClick:x,disabled:g,className:"flex items-center px-3 py-1.5 text-sm font-medium rounded-md bg-primary-600 hover:bg-primary-700 disabled:bg-gray-400 text-white transition-colors duration-150",children:g?(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,hn.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,hn.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Reconnecting..."]}):(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Reconnect"]})})]}),(0,hn.jsxs)("div",{className:"flex items-center space-x-1 mb-3",children:[(0,hn.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Communicate with your team in real-time."}),(0,hn.jsx)("div",{className:"status-indicator ml-2",children:"connected"===o?(0,hn.jsxs)("span",{className:"inline-flex items-center text-sm text-green-600 dark:text-green-400",children:[(0,hn.jsx)("span",{className:"inline-block h-2 w-2 rounded-full bg-green-500 mr-1"}),"Connected"]}):"connecting"===o?(0,hn.jsxs)("span",{className:"inline-flex items-center text-sm text-yellow-600 dark:text-yellow-400",children:[(0,hn.jsx)("span",{className:"inline-block h-2 w-2 rounded-full bg-yellow-500 mr-1 animate-pulse"}),"Connecting..."]}):"disconnected"===o?(0,hn.jsxs)("span",{className:"inline-flex items-center text-sm text-red-600 dark:text-red-400",children:[(0,hn.jsx)("span",{className:"inline-block h-2 w-2 rounded-full bg-red-500 mr-1"}),"Disconnected",(0,hn.jsx)("button",{onClick:x,className:"ml-2 underline text-xs",disabled:g,children:g?"Reconnecting...":"Try reconnecting"})]}):"error"===o?(0,hn.jsxs)("span",{className:"inline-flex items-center text-sm text-red-600 dark:text-red-400",children:[(0,hn.jsx)("span",{className:"inline-block h-2 w-2 rounded-full bg-red-500 mr-1"}),"Connection Error",(0,hn.jsx)("button",{onClick:x,className:"ml-2 underline text-xs",disabled:g,children:g?"Reconnecting...":"Try reconnecting"})]}):null})]})]}),(0,hn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,hn.jsxs)("div",{className:"space-y-4",children:[(0,hn.jsxs)("div",{className:"linear-card dark:bg-gray-800 dark:border-gray-700 transition-all duration-200",children:[(0,hn.jsxs)("div",{className:"linear-card-header dark:border-gray-700 flex items-center justify-between",children:[(0,hn.jsx)("h3",{className:"text-lg font-semibold dark:text-white",children:"Your Projects"}),n>0&&(0,hn.jsx)("span",{className:"inline-block py-1 px-2 text-xs font-semibold rounded-full bg-primary-600 dark:bg-primary-700 text-white",children:n})]}),(0,hn.jsx)("div",{className:"linear-card-body p-0",children:v.length>0?(0,hn.jsx)("div",{className:"linear-list divide-y divide-gray-200 dark:divide-gray-700 max-h-96 overflow-y-auto",children:v.map((e=>(0,hn.jsxs)("button",{className:"w-full text-left p-4 hover:bg-gray-50 dark:hover:bg-gray-700/70 transition-colors duration-200 flex items-center justify-between ".concat((null===d||void 0===d?void 0:d._id)===e._id?"bg-primary-50 dark:bg-primary-900/30":""),onClick:()=>(e=>{u(e)})(e),children:[(0,hn.jsxs)("div",{className:"flex items-center",children:[(0,hn.jsx)("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:e.color||"#6366f1"}}),(0,hn.jsx)("h4",{className:"font-medium dark:text-white",children:e.name})]}),(0,hn.jsxs)("div",{className:"flex items-center",children:[r[e._id]>0&&(0,hn.jsx)("span",{className:"inline-block py-1 px-2 text-xs font-semibold rounded-full bg-primary-600 dark:bg-primary-700 text-white mr-2",children:r[e._id]}),e.members&&e.members.some((e=>b(e._id)))&&(0,hn.jsx)("span",{className:"inline-block h-2 w-2 rounded-full bg-green-500"})]})]},e._id)))}):(0,hn.jsxs)("div",{className:"p-6 text-center",children:[(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto text-gray-400 dark:text-gray-500 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})}),(0,hn.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-3",children:"No projects found"}),(0,hn.jsxs)(_e,{to:"/projects",className:"inline-flex items-center text-primary-600 dark:text-primary-400 hover:underline",children:[(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create a new project"]})]})})]}),d&&(0,hn.jsxs)("div",{className:"linear-card dark:bg-gray-800 dark:border-gray-700 transition-all duration-200",children:[(0,hn.jsx)("div",{className:"linear-card-header dark:border-gray-700",children:(0,hn.jsx)("h3",{className:"text-lg font-semibold dark:text-white",children:"Project Details"})}),(0,hn.jsxs)("div",{className:"linear-card-body",children:[(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("h4",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Description"}),(0,hn.jsx)("p",{className:"text-gray-800 dark:text-gray-200",children:d.description||"No description provided."})]}),(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("h4",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Team Members"}),(0,hn.jsx)("div",{className:"flex flex-wrap items-center mt-2",children:d.members&&d.members.length>0?d.members.map((e=>{var t,r;return(0,hn.jsxs)("div",{className:"flex items-center mr-4 mb-2",children:[(0,hn.jsxs)("div",{className:"linear-avatar linear-avatar-sm dark:bg-gray-700 mr-2 relative",children:[e.photo?(0,hn.jsx)("img",{src:e.photo,alt:e.displayName||"Member",className:"h-full w-full object-cover"}):(0,hn.jsx)("span",{children:(null===(t=e.displayName)||void 0===t?void 0:t.charAt(0))||(null===(r=e.email)||void 0===r?void 0:r.charAt(0))||"?"}),b(e._id)&&(0,hn.jsx)("span",{className:"absolute -bottom-1 -right-1 h-2.5 w-2.5 rounded-full bg-green-500 border border-white dark:border-gray-800"})]}),(0,hn.jsxs)("span",{className:"text-sm dark:text-gray-200",children:[e.displayName||e.email,e._id===(null===c||void 0===c?void 0:c._id)&&(0,hn.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1",children:"(you)"})]})]},e._id)})):(0,hn.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No team members"})})]}),(0,hn.jsx)("div",{children:(0,hn.jsxs)(_e,{to:"/projects/".concat(d._id),className:"text-primary-600 dark:text-primary-400 hover:underline text-sm flex items-center",children:[(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})}),"View Project Details"]})})]})]})]}),(0,hn.jsx)("div",{className:"lg:col-span-2",children:d?(0,hn.jsx)(Jc,{chatId:d._id,title:"Chat - ".concat(d.name),height:"70vh",fullWidth:!0}):(0,hn.jsx)("div",{className:"linear-card dark:bg-gray-800 dark:border-gray-700 h-70vh flex items-center justify-center",children:(0,hn.jsxs)("div",{className:"text-center p-8",children:[(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto text-gray-400 dark:text-gray-500 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),(0,hn.jsx)("h3",{className:"text-xl font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Select a Project"}),(0,hn.jsx)("p",{className:"text-gray-600 dark:text-gray-400 max-w-md",children:"Choose a project from the list to start chatting with your team members in real-time."})]})})})]})]})},mx=()=>((0,s.useEffect)((()=>{document.title="Taskboard-pro - Team Collaboration Platform"}),[]),(0,hn.jsxs)("div",{className:"landing-page",children:[(0,hn.jsx)("nav",{className:"landing-nav",children:(0,hn.jsxs)("div",{className:"container mx-auto px-4 py-6 flex justify-between items-center",children:[(0,hn.jsxs)("div",{className:"flex items-center",children:[(0,hn.jsx)("div",{className:"logo text-primary-600 mr-2 text-3xl",children:(0,hn.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,hn.jsx)("path",{d:"M5.5 12a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 7a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm13-7a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zM12 19.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0-14a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm-6.5 7a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"}),(0,hn.jsx)("path",{d:"M12 17a1 1 0 0 0 1-1v-4a1 1 0 0 0-1-1H8a1 1 0 0 0 0 2h3v3a1 1 0 0 0 1 1z"})]})}),(0,hn.jsx)("span",{children:"Taskboard-pro"})]}),(0,hn.jsxs)("div",{className:"hidden md:flex space-x-8",children:[(0,hn.jsx)("a",{href:"#features",className:"hover:text-primary-600 transition-colors",children:"Features"}),(0,hn.jsx)("a",{href:"#how-it-works",className:"hover:text-primary-600 transition-colors",children:"How it Works"}),(0,hn.jsx)("a",{href:"#pricing",className:"hover:text-primary-600 transition-colors",children:"Pricing"})]}),(0,hn.jsxs)("div",{className:"flex space-x-4",children:[(0,hn.jsx)(_e,{to:"/login",className:"btn-secondary",children:"Log in"}),(0,hn.jsx)(_e,{to:"/signup",className:"btn-primary",children:"Sign up free"})]})]})}),(0,hn.jsx)("section",{className:"hero-section",children:(0,hn.jsxs)("div",{className:"container mx-auto px-4 py-20 flex flex-col md:flex-row items-center",children:[(0,hn.jsxs)("div",{className:"md:w-1/2 mb-10 md:mb-0",children:[(0,hn.jsxs)("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:["Organize projects.",(0,hn.jsx)("br",{}),"Get more done."]}),(0,hn.jsx)("p",{className:"text-xl text-gray-600 mb-8",children:"Simple, flexible, and powerful. All the tools your team needs in one place."}),(0,hn.jsxs)("div",{children:[(0,hn.jsx)(_e,{to:"/signup",className:"btn-primary-lg mr-4",children:"Get Started"}),(0,hn.jsx)("a",{href:"#demo",className:"btn-text-lg",children:"Watch a demo"})]})]}),(0,hn.jsx)("div",{className:"md:w-1/2",children:(0,hn.jsx)("img",{src:"/image.jpg",alt:"Taskboard-pro Dashboard",className:"w-full rounded-lg shadow-2xl"})})]})}),(0,hn.jsx)("section",{id:"how-it-works",className:"how-it-works py-20 bg-gray-50",children:(0,hn.jsxs)("div",{className:"container mx-auto px-4",children:[(0,hn.jsxs)("div",{className:"text-center mb-16",children:[(0,hn.jsx)("h2",{children:"How Taskboard-pro Works"}),(0,hn.jsx)("p",{className:"text-xl text-gray-600 mt-4",children:"A simple, intuitive workflow that helps your team stay on track"})]}),(0,hn.jsxs)("div",{className:"grid md:grid-cols-3 gap-10",children:[(0,hn.jsxs)("div",{className:"text-center",children:[(0,hn.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary-100 text-primary-600 mb-4",children:(0,hn.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),(0,hn.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Create Projects"}),(0,hn.jsx)("p",{className:"text-gray-600",children:"Organize work into projects, add team members, and set milestones"})]}),(0,hn.jsxs)("div",{className:"text-center",children:[(0,hn.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary-100 text-primary-600 mb-4",children:(0,hn.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"})})}),(0,hn.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Collaborate"}),(0,hn.jsx)("p",{className:"text-gray-600",children:"Discuss tasks, share files, and keep everyone aligned"})]}),(0,hn.jsxs)("div",{className:"text-center",children:[(0,hn.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary-100 text-primary-600 mb-4",children:(0,hn.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,hn.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Track Progress"}),(0,hn.jsx)("p",{className:"text-gray-600",children:"Visualize progress, identify bottlenecks, and celebrate wins"})]})]})]})}),(0,hn.jsx)("section",{className:"cta-section py-20 bg-primary-600 text-white",children:(0,hn.jsxs)("div",{className:"container mx-auto px-4 text-center",children:[(0,hn.jsx)("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Ready to transform how your team works?"}),(0,hn.jsx)("p",{className:"text-xl mb-10 max-w-2xl mx-auto",children:"Join hundreds of teams already using Taskboard-pro to collaborate better and deliver results."}),(0,hn.jsx)(_e,{to:"/signup",className:"btn-white-lg",children:"Start for free"})]})}),(0,hn.jsx)("footer",{className:"footer-section py-10 bg-gray-800 text-gray-300",children:(0,hn.jsx)("div",{className:"container mx-auto px-4",children:(0,hn.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[(0,hn.jsxs)("div",{className:"mb-6 md:mb-0 flex items-center",children:[(0,hn.jsx)("span",{children:"Taskboard-pro"}),(0,hn.jsxs)("p",{children:["\xa9 ",(new Date).getFullYear()," Taskboard-pro. All rights reserved."]})]}),(0,hn.jsxs)("div",{className:"flex space-x-6",children:[(0,hn.jsx)("a",{href:"#",className:"hover:text-white transition-colors",children:"Terms"}),(0,hn.jsx)("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy"}),(0,hn.jsx)("a",{href:"#",className:"hover:text-white transition-colors",children:"Contact"})]})]})})})]})),fx={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:5000",gx=()=>{const{user:e}=(0,s.useContext)(pn),{projects:t}=(0,s.useContext)(En),[r,n]=(0,s.useState)({}),[a,o]=(0,s.useState)(!0),[i,l]=(0,s.useState)(null);(0,s.useEffect)((()=>{(async()=>{if(t&&0!==t.length){o(!0),l(null);try{const r=localStorage.getItem("token");if(!r)return l("Authentication token missing"),void o(!1);const a={};for(const n of t)if(n._id)try{const e=await un.get("".concat(fx,"/api/automations/project/").concat(n._id),{headers:{Authorization:"Bearer ".concat(r)}});a[n._id]=e.data||[]}catch(e){console.error("Error fetching automations for project ".concat(n._id,":"),e)}n(a),o(!1)}catch(e){console.error("Error fetching project automations:",e),l("Failed to load automations"),o(!1)}}})()}),[t]);if(a)return(0,hn.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,hn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})});const c=Object.values(r).reduce(((e,t)=>e+t.length),0),d=(()=>{const e={status_change:0,assignment:0,due_date_passed:0};return Object.values(r).forEach((t=>{t.forEach((t=>{void 0!==e[t.trigger_type]&&e[t.trigger_type]++}))})),e})();return(0,hn.jsxs)("div",{className:"px-6 py-8",children:[(0,hn.jsxs)("div",{className:"mb-8",children:[(0,hn.jsx)("h1",{className:"text-2xl font-bold mb-2",children:"Workflow Automations"}),(0,hn.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage your project automations to streamline workflows and increase productivity."})]}),i&&(0,hn.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6 dark:bg-red-900/30 dark:border-red-800 dark:text-red-400",children:i}),(0,hn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,hn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[(0,hn.jsxs)("div",{className:"flex items-center mb-4",children:[(0,hn.jsx)("div",{className:"bg-blue-100 dark:bg-blue-900/30 p-3 rounded-full mr-4",children:(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-600 dark:text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),(0,hn.jsxs)("div",{children:[(0,hn.jsx)("h3",{className:"text-lg font-semibold",children:"Total Automations"}),(0,hn.jsx)("p",{className:"text-3xl font-bold",children:c})]})]}),(0,hn.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Automations across all your projects"})]}),(0,hn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[(0,hn.jsxs)("div",{className:"flex items-center mb-4",children:[(0,hn.jsx)("div",{className:"bg-green-100 dark:bg-green-900/30 p-3 rounded-full mr-4",children:(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-600 dark:text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,hn.jsxs)("div",{children:[(0,hn.jsx)("h3",{className:"text-lg font-semibold",children:"Active Automations"}),(0,hn.jsx)("p",{className:"text-3xl font-bold",children:Object.values(r).reduce(((e,t)=>e+t.filter((e=>e.isActive)).length),0)})]})]}),(0,hn.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Currently active workflow automations"})]}),(0,hn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[(0,hn.jsxs)("div",{className:"flex items-center mb-4",children:[(0,hn.jsx)("div",{className:"bg-purple-100 dark:bg-purple-900/30 p-3 rounded-full mr-4",children:(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-purple-600 dark:text-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),(0,hn.jsxs)("div",{children:[(0,hn.jsx)("h3",{className:"text-lg font-semibold",children:"Projects"}),(0,hn.jsx)("p",{className:"text-3xl font-bold",children:(null===t||void 0===t?void 0:t.length)||0})]})]}),(0,hn.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Projects with automation capabilities"})]})]}),(0,hn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow mb-8",children:[(0,hn.jsx)("div",{className:"border-b border-gray-200 dark:border-gray-700 px-6 py-4",children:(0,hn.jsx)("h2",{className:"text-lg font-semibold",children:"Automation Triggers"})}),(0,hn.jsx)("div",{className:"p-6",children:(0,hn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,hn.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[(0,hn.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,hn.jsx)("h3",{className:"font-medium",children:"Status Change"}),(0,hn.jsx)("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded-full dark:bg-blue-900/30 dark:text-blue-400",children:d.status_change})]}),(0,hn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Trigger when a task status changes"})]}),(0,hn.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[(0,hn.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,hn.jsx)("h3",{className:"font-medium",children:"Assignment"}),(0,hn.jsx)("span",{className:"bg-purple-100 text-purple-800 text-xs font-medium px-2.5 py-0.5 rounded-full dark:bg-purple-900/30 dark:text-purple-400",children:d.assignment})]}),(0,hn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Trigger when a task is assigned to a user"})]}),(0,hn.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[(0,hn.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,hn.jsx)("h3",{className:"font-medium",children:"Due Date"}),(0,hn.jsx)("span",{className:"bg-yellow-100 text-yellow-800 text-xs font-medium px-2.5 py-0.5 rounded-full dark:bg-yellow-900/30 dark:text-yellow-400",children:d.due_date_passed})]}),(0,hn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Trigger when a task's due date passes"})]})]})})]}),(0,hn.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[(0,hn.jsx)("div",{className:"border-b border-gray-200 dark:border-gray-700 px-6 py-4 flex justify-between items-center",children:(0,hn.jsx)("h2",{className:"text-lg font-semibold",children:"Projects with Automations"})}),(0,hn.jsx)("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:t&&t.length>0?t.map((e=>{var t;return(0,hn.jsx)("div",{className:"px-6 py-4",children:(0,hn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,hn.jsxs)("div",{className:"flex items-center",children:[(0,hn.jsx)("div",{className:"w-3 h-3 rounded-full mr-3",style:{backgroundColor:e.color||"#6366f1"}}),(0,hn.jsx)("h3",{className:"font-medium",children:e.name})]}),(0,hn.jsxs)("div",{className:"flex items-center",children:[(0,hn.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-400 mr-4",children:[(null===(t=r[e._id])||void 0===t?void 0:t.length)||0," automations"]}),(0,hn.jsx)(_e,{to:"/projects/".concat(e._id),className:"text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 text-sm font-medium",onClick:()=>localStorage.setItem("activeProjectTab","automations"),children:"Manage"})]})]})},e._id)})):(0,hn.jsxs)("div",{className:"px-6 py-8 text-center",children:[(0,hn.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"No projects found"}),(0,hn.jsx)(_e,{to:"/projects/new",className:"inline-flex items-center px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:"Create a Project"})]})})]})]})},yx=e=>{let{title:t,description:r,actions:n,children:a,loading:s=!1,error:o=null,fullWidth:i=!1,className:l=""}=e;return(0,hn.jsxs)("div",{className:"linear-fade-in ".concat(l),children:[(0,hn.jsx)("div",{className:"mb-6",children:(0,hn.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,hn.jsxs)("div",{children:[(0,hn.jsx)("h1",{className:"text-2xl font-bold mb-1 dark:text-gray-100",children:t}),r&&(0,hn.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:r})]}),n&&(0,hn.jsx)("div",{className:"flex gap-2",children:n})]})}),o&&(0,hn.jsx)("div",{className:"linear-card bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-700 mb-6 p-4 text-red-700 dark:text-red-400 rounded-lg",children:(0,hn.jsxs)("div",{className:"flex items-center",children:[(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),o]})}),s?(0,hn.jsxs)("div",{className:"linear-card p-8 flex justify-center items-center",children:[(0,hn.jsx)("div",{className:"linear-spinner dark:border-gray-600 dark:border-t-primary-400"}),(0,hn.jsx)("span",{className:"ml-3 text-gray-600 dark:text-gray-400",children:"Loading..."})]}):(0,hn.jsx)("div",{className:i?"w-full":"max-w-6xl mx-auto",children:a})]})},xx=()=>{const[e]=Le(),t=e.get("q")||"",[r,n]=(0,s.useState)({projects:[],tasks:[],users:[]}),[a,o]=(0,s.useState)(!0),[i,l]=(0,s.useState)(null);(0,s.useEffect)((()=>{(async()=>{if(t.trim())try{o(!0),l(null);const e=localStorage.getItem("token");if(!e)return l("Authentication required"),void o(!1);const r=await un.get("/api/search?q=".concat(encodeURIComponent(t),"&full=true"),{headers:{Authorization:"Bearer ".concat(e)}});if(r.data){const e={projects:r.data.filter((e=>"project"===e.type)),tasks:r.data.filter((e=>"task"===e.type)),users:r.data.filter((e=>"user"===e.type))};n(e)}}catch(e){console.error("Search error:",e),l("Failed to search. Please try again.")}finally{o(!1)}else o(!1)})()}),[t]);const c=r.projects.length+r.tasks.length+r.users.length;return(0,hn.jsxs)(yx,{title:"Search Results",description:"".concat(c,' results for "').concat(t,'"'),loading:a,error:i,children:[!a&&!i&&0===c&&(0,hn.jsxs)("div",{className:"linear-card p-8 text-center",children:[(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto text-gray-400 dark:text-gray-600 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,hn.jsx)("h2",{className:"text-xl font-bold mb-2 dark:text-gray-200",children:"No results found"}),(0,hn.jsxs)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:['No items match your search for "',t,'"']})]}),!a&&!i&&c>0&&(0,hn.jsxs)("div",{className:"space-y-8",children:[r.projects.length>0&&(0,hn.jsxs)("div",{children:[(0,hn.jsx)("h2",{className:"text-xl font-bold mb-4 dark:text-gray-100",children:"Projects"}),(0,hn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.projects.map((e=>(0,hn.jsx)(_e,{to:"/projects/".concat(e._id),className:"linear-card hover:shadow-md transition-shadow duration-200",children:(0,hn.jsxs)("div",{className:"linear-card-body",children:[(0,hn.jsxs)("div",{className:"flex items-center mb-2",children:[(0,hn.jsx)("div",{className:"w-4 h-4 rounded-full mr-2",style:{backgroundColor:e.color||"#6366f1"}}),(0,hn.jsx)("h3",{className:"font-bold dark:text-gray-100",children:e.name})]}),e.description&&(0,hn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2 mb-2",children:e.description}),(0,hn.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-500 mt-2",children:["Tasks: ",e.taskCount||0," \u2022 Members: ",e.memberCount||0]})]})},e._id)))})]}),r.tasks.length>0&&(0,hn.jsxs)("div",{children:[(0,hn.jsx)("h2",{className:"text-xl font-bold mb-4 dark:text-gray-100",children:"Tasks"}),(0,hn.jsx)("div",{className:"linear-card",children:(0,hn.jsx)("div",{className:"linear-card-body p-0",children:(0,hn.jsx)("div",{className:"linear-list divide-y divide-gray-100 dark:divide-gray-700",children:r.tasks.map((e=>(0,hn.jsx)(_e,{to:"/tasks",className:"block hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200",children:(0,hn.jsx)("div",{className:"p-4",children:(0,hn.jsxs)("div",{className:"flex items-start",children:[(0,hn.jsx)("div",{className:"flex-shrink-0 mt-1",children:(0,hn.jsx)("div",{className:"h-4 w-4 rounded-full ".concat("completed"===e.status?"bg-green-500":"in_progress"===e.status?"bg-blue-500":"blocked"===e.status?"bg-red-500":"bg-gray-300 dark:bg-gray-600")})}),(0,hn.jsxs)("div",{className:"ml-3",children:[(0,hn.jsx)("h3",{className:"font-medium dark:text-gray-100",children:e.title}),(0,hn.jsxs)("div",{className:"flex flex-wrap gap-2 mt-2",children:[e.priority&&(0,hn.jsx)("span",{className:"text-xs px-2 py-1 rounded-full ".concat("high"===e.priority?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":"medium"===e.priority?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400":"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400"),children:e.priority.charAt(0).toUpperCase()+e.priority.slice(1)}),e.project&&(0,hn.jsx)("span",{className:"text-xs px-2 py-1 rounded-full text-white",style:{backgroundColor:e.project.color||"#6366f1"},children:e.project.name}),e.dueDate&&(0,hn.jsxs)("span",{className:"text-xs px-2 py-1 rounded-full bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300",children:["Due: ",new Date(e.dueDate).toLocaleDateString()]})]})]})]})})},e._id)))})})})]}),r.users.length>0&&(0,hn.jsxs)("div",{children:[(0,hn.jsx)("h2",{className:"text-xl font-bold mb-4 dark:text-gray-100",children:"Team Members"}),(0,hn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.users.map((e=>{var t;return(0,hn.jsx)(_e,{to:"/team",className:"linear-card hover:shadow-md transition-shadow duration-200",children:(0,hn.jsxs)("div",{className:"linear-card-body flex items-center",children:[(0,hn.jsx)("div",{className:"flex-shrink-0 mr-4",children:e.photo?(0,hn.jsx)("img",{src:e.photo,alt:e.displayName,className:"h-12 w-12 rounded-full object-cover"}):(0,hn.jsx)("div",{className:"h-12 w-12 rounded-full bg-primary-100 text-primary-600 dark:bg-primary-900 dark:text-primary-400 flex items-center justify-center",children:(0,hn.jsx)("span",{className:"text-lg font-medium",children:(null===(t=e.displayName)||void 0===t?void 0:t.charAt(0).toUpperCase())||"U"})})}),(0,hn.jsxs)("div",{children:[(0,hn.jsx)("h3",{className:"font-medium dark:text-gray-100",children:e.displayName}),(0,hn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.email}),e.role&&(0,hn.jsx)("span",{className:"inline-block mt-1 text-xs px-2 py-0.5 rounded-full bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300",children:e.role.charAt(0).toUpperCase()+e.role.slice(1)})]})]})},e._id)}))})]})]})]})},vx=e=>{let{notification:t,onClose:r}=e;const[n,a]=(0,s.useState)(!0);(0,s.useEffect)((()=>{const e=setTimeout((()=>{a(!1),setTimeout((()=>{r&&r()}),300)}),5e3);return()=>clearTimeout(e)}),[r]);return(0,hn.jsx)("div",{className:"fixed bottom-4 right-4 bg-white dark:bg-gray-800 rounded-lg shadow-lg max-w-md transition-all duration-300 z-50 ".concat(n?"opacity-100 translate-y-0":"opacity-0 translate-y-4"),children:(0,hn.jsxs)("div",{className:"relative p-4 border border-gray-200 dark:border-gray-700 rounded-lg",children:[(0,hn.jsx)("button",{onClick:()=>{a(!1),setTimeout((()=>{r&&r()}),300)},className:"absolute top-2 right-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,hn.jsxs)("div",{className:"flex items-start",children:[(0,hn.jsx)("div",{className:"flex-shrink-0 mr-3",children:(()=>{switch(t.type){case"task_created":return(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})});case"task_completed":return(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})});case"project_created":return(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-indigo-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 13h6m-3-3v6m5 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})});default:return(0,hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}})()}),(0,hn.jsxs)("div",{className:"flex-1",children:[(0,hn.jsx)("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t.title||"New Notification"}),(0,hn.jsx)("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-300",children:t.message}),t.linkText&&(0,hn.jsx)(_e,{to:t.projectId&&t.type.includes("project")?"/projects/".concat(t.projectId):t.taskId&&t.type.includes("task")?"/tasks":"#",className:"mt-2 inline-block text-sm font-medium text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 dark:hover:text-indigo-300",onClick:()=>{a(!1),setTimeout((()=>{r&&r()}),300)},children:t.linkText})]})]})]})})},bx=()=>{const{user:e}=(0,s.useContext)(pn),[t,r]=(0,s.useState)(null),[n,a]=(0,s.useState)([]);(0,s.useEffect)((()=>{if(!e||!e._id)return;const t=(0,fn.io)({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:5000");return t.emit("authenticate",{userId:e._id}),r(t),()=>{t&&t.disconnect()}}),[e]),(0,s.useEffect)((()=>{if(t)return t.on("project:created",(e=>{if(e&&e.project){const t={id:"project-created-".concat(Date.now()),type:"project_created",title:"New Project Created",message:'A new project "'.concat(e.project.name,'" has been created'),projectId:e.project._id,linkText:"View Project",timestamp:new Date};o(t)}})),t.on("project:updated",(e=>{if(e&&e.project){const t={id:"project-updated-".concat(Date.now()),type:"project_updated",title:"Project Updated",message:'Project "'.concat(e.project.name,'" has been updated'),projectId:e.project._id,linkText:"View Project",timestamp:new Date};o(t)}})),t.on("task:created",(e=>{if(e&&e.task){const t={id:"task-created-".concat(Date.now()),type:"task_created",title:"New Task Added",message:'A new task "'.concat(e.task.title,'" has been created'),taskId:e.task._id,projectId:e.task.projectId||e.task.project,linkText:"View Task",timestamp:new Date};o(t)}})),t.on("task:completed",(e=>{if(e&&e.task){const t={id:"task-completed-".concat(Date.now()),type:"task_completed",title:"Task Completed",message:'Task "'.concat(e.task.title,'" has been completed'),taskId:e.task._id,projectId:e.task.projectId||e.task.project,linkText:"View Task",timestamp:new Date};o(t)}})),t.on("task:updated",(e=>{if(e&&e.task){const t={id:"task-updated-".concat(Date.now()),type:"task_updated",title:"Task Updated",message:'Task "'.concat(e.task.title,'" has been updated'),taskId:e.task._id,projectId:e.task.projectId||e.task.project,linkText:"View Task",timestamp:new Date};o(t)}})),()=>{t.off("project:created"),t.off("project:updated"),t.off("task:created"),t.off("task:completed"),t.off("task:updated")}}),[t]);const o=e=>{a((t=>[e,...t].slice(0,5)))};return(0,hn.jsx)(hn.Fragment,{children:n.map((e=>(0,hn.jsx)(vx,{notification:e,onClose:()=>(e=>{a((t=>t.filter((t=>t.id!==e))))})(e.id)},e.id)))})};un.defaults.baseURL={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:5000",un.defaults.withCredentials=!0,un.interceptors.request.use((e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(e=>Promise.reject(e)));let wx=!1;un.interceptors.response.use((e=>e),(e=>(!e.response||401!==e.response.status&&403!==e.response.status||wx||window.location.pathname.includes("/login")||window.location.pathname.includes("/auth-success")||(wx=!0,console.log("Session expired or unauthorized, redirecting to login"),localStorage.removeItem("token"),delete un.defaults.headers.common.Authorization,setTimeout((()=>{window.location="/login",wx=!1}),100)),Promise.reject(e))));const kx=()=>{const e=te(),[t]=Le(),{refreshUserData:r,setUser:n,setIsAuthenticated:a}=(0,s.useContext)(pn),[o,i]=(0,s.useState)(!0),l=t.get("token"),c=t.get("redirectTo")||"dashboard";return(0,s.useEffect)((()=>{(async()=>{try{if(console.log("Auth success page: Processing authentication"),l){console.log("Auth success page: Token found in URL"),localStorage.removeItem("token"),localStorage.setItem("token",l),un.defaults.headers.common.Authorization="Bearer ".concat(l);const t=await un.get("/auth/current-user",{headers:{Authorization:"Bearer ".concat(l)},withCredentials:!0});if(t.data&&t.data.user)return console.log("Auth success: User data fetched successfully"),n(t.data.user),a(!0),void setTimeout((()=>{console.log("Auth success: Redirecting to",c),e("/".concat(c),{replace:!0}),i(!1)}),500)}console.log("Auth success: No token or user data, trying fallback refresh");await r()?(console.log("Auth success: Fallback refresh successful"),e("/".concat(c),{replace:!0})):(console.error("Auth success: Authentication failed"),e("/login",{replace:!0,state:{error:"Authentication failed"}})),i(!1)}catch(t){console.error("Error during auth redirect:",t),e("/login",{replace:!0,state:{error:"Authentication error"}}),i(!1)}})()}),[l,c,e,r,n,a]),o?(0,hn.jsxs)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:[(0,hn.jsx)("div",{className:"linear-spinner dark:border-gray-600 dark:border-t-primary-400"}),(0,hn.jsx)("p",{className:"ml-3 text-gray-600 dark:text-gray-300",children:"Completing authentication..."})]}):null},jx=()=>{const{user:e,isAuthenticated:t,loading:r,logout:n}=(0,s.useContext)(pn),[a,o]=(0,s.useState)(!1),[i,l]=(0,s.useState)(!1);(0,s.useEffect)((()=>{console.log("Auth state changed:",{isAuthenticated:t,user:e,loading:r})}),[t,e,r]);const c=(0,s.useCallback)((()=>{l((e=>!e))}),[]);return(0,s.useEffect)((()=>{r||o(!0)}),[r]),a?(0,hn.jsx)(Pe,{children:(0,hn.jsx)(vn,{children:(0,hn.jsx)(wn,{children:(0,hn.jsxs)("div",{className:"min-h-screen flex flex-col bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-gray-100 ".concat(i?"sidebar-collapsed":""),children:[t&&(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsx)(Cn,{user:e,collapsed:i,toggleSidebar:c}),(0,hn.jsx)(Sn,{user:e,logout:n,className:"w-full"}),(0,hn.jsx)(bx,{})]}),(0,hn.jsx)("main",{className:"flex-grow transition-all duration-300 ease-in-out bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-gray-100 ".concat(t?"p-6 ".concat(i?"ml-16 w-[calc(100%-4rem)]":"ml-64"," mt-16"):"w-full"),children:(0,hn.jsx)("div",{className:"w-full",children:(0,hn.jsxs)(ve,{children:[(0,hn.jsx)(ye,{path:"/",element:t?(0,hn.jsx)(ge,{to:"/dashboard",replace:!0}):(0,hn.jsx)(mx,{})}),(0,hn.jsx)(ye,{path:"/login",element:t?(0,hn.jsx)(ge,{to:"/dashboard",replace:!0}):(0,hn.jsx)(ax,{})}),(0,hn.jsx)(ye,{path:"/signup",element:t?(0,hn.jsx)(ge,{to:"/dashboard",replace:!0}):(0,hn.jsx)(sx,{})}),(0,hn.jsx)(ye,{path:"/auth-success",element:(0,hn.jsx)(kx,{})}),(0,hn.jsx)(ye,{path:"/dashboard",element:t?(0,hn.jsx)(Tn,{}):(0,hn.jsx)(ge,{to:"/login",replace:!0})}),(0,hn.jsx)(ye,{path:"/projects",element:t?(0,hn.jsx)(Dn,{}):(0,hn.jsx)(ge,{to:"/login",replace:!0})}),(0,hn.jsx)(ye,{path:"/projects/:id",element:t?(0,hn.jsx)(nx,{}):(0,hn.jsx)(ge,{to:"/login",replace:!0})}),(0,hn.jsx)(ye,{path:"/tasks",element:t?(0,hn.jsx)(ix,{}):(0,hn.jsx)(ge,{to:"/login",replace:!0})}),(0,hn.jsx)(ye,{path:"/team",element:t?(0,hn.jsx)(cx,{}):(0,hn.jsx)(ge,{to:"/login",replace:!0})}),(0,hn.jsx)(ye,{path:"/settings",element:t?(0,hn.jsx)(dx,{}):(0,hn.jsx)(ge,{to:"/login",replace:!0})}),(0,hn.jsx)(ye,{path:"/profile",element:t?(0,hn.jsx)(ux,{}):(0,hn.jsx)(ge,{to:"/login",replace:!0})}),(0,hn.jsx)(ye,{path:"/notifications",element:t?(0,hn.jsx)(hx,{}):(0,hn.jsx)(ge,{to:"/login",replace:!0})}),(0,hn.jsx)(ye,{path:"/chat",element:t?(0,hn.jsx)(px,{}):(0,hn.jsx)(ge,{to:"/login",replace:!0})}),(0,hn.jsx)(ye,{path:"/automations",element:t?(0,hn.jsx)(gx,{}):(0,hn.jsx)(ge,{to:"/login",replace:!0})}),(0,hn.jsx)(ye,{path:"/search",element:t?(0,hn.jsx)(xx,{}):(0,hn.jsx)(ge,{to:"/login",replace:!0})}),(0,hn.jsx)(ye,{path:"*",element:(0,hn.jsx)(ox,{})})]})})})]})})})}):(0,hn.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:(0,hn.jsx)("div",{className:"linear-spinner dark:border-gray-600 dark:border-t-primary-400"})})},Nx=s.memo(jx),Sx=e=>{e&&e instanceof Function&&r.e(453).then(r.bind(r,453)).then((t=>{let{getCLS:r,getFID:n,getFCP:a,getLCP:s,getTTFB:o}=t;r(e),n(e),a(e),s(e),o(e)}))};un.defaults.baseURL="http://localhost:5000",un.defaults.withCredentials=!0;i.createRoot(document.getElementById("root")).render((0,hn.jsx)(s.StrictMode,{children:(0,hn.jsx)(mn,{children:(0,hn.jsx)(yn,{children:(0,hn.jsx)(Pn,{children:(0,hn.jsx)(Nx,{})})})})})),Sx()})();
//# sourceMappingURL=main.7e970025.js.map