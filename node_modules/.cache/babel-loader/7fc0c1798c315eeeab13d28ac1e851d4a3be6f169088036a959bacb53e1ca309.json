{"ast":null,"code":"import _objectSpread from\"C:/Users/DELL/OneDrive/Desktop/collabeaseproject/collabeasesorce/collabease/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef,useContext}from'react';import axios from'axios';import InviteUserModal from'../components/InviteUserModal';import{ThemeContext}from'../context/ThemeContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Team=()=>{var _selectedUser$display;const{darkMode}=useContext(ThemeContext);const[users,setUsers]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState('');const[isInviteModalOpen,setIsInviteModalOpen]=useState(false);const[isEditModalOpen,setIsEditModalOpen]=useState(false);const[searchQuery,setSearchQuery]=useState('');const[selectedUser,setSelectedUser]=useState(null);const[activeFilter,setActiveFilter]=useState('all');const[roleFilter,setRoleFilter]=useState('all');const[dropdownOpen,setDropdownOpen]=useState(null);const[confirmDelete,setConfirmDelete]=useState(null);const dropdownRef=useRef(null);const[userActionLoading,setUserActionLoading]=useState(false);const[actionSuccess,setActionSuccess]=useState('');useEffect(()=>{const fetchUsers=async()=>{try{setLoading(true);const res=await axios.get('/api/users');// Initialize each user with status property if it doesn't exist\nconst enrichedUsers=res.data.users.map(user=>_objectSpread(_objectSpread({},user),{},{status:user.status||'active',// Default to active\nprojects:user.projects||[],role:user.role||'Member'}));setUsers(enrichedUsers);}catch(err){setError('Failed to load team members');console.error('Error fetching users:',err);}finally{setLoading(false);}};fetchUsers();},[]);// Close dropdown when clicking outside\nuseEffect(()=>{const handleClickOutside=event=>{if(dropdownRef.current&&!dropdownRef.current.contains(event.target)){setDropdownOpen(null);setConfirmDelete(null);}};document.addEventListener('mousedown',handleClickOutside);return()=>document.removeEventListener('mousedown',handleClickOutside);},[]);// Auto-dismiss success message\nuseEffect(()=>{if(actionSuccess){const timer=setTimeout(()=>{setActionSuccess('');},3000);return()=>clearTimeout(timer);}},[actionSuccess]);const filteredUsers=users.filter(user=>{var _user$displayName;// Text search filter\nconst matchesSearch=((_user$displayName=user.displayName)===null||_user$displayName===void 0?void 0:_user$displayName.toLowerCase().includes(searchQuery.toLowerCase()))||false||user.email.toLowerCase().includes(searchQuery.toLowerCase())||user.role&&user.role.toLowerCase().includes(searchQuery.toLowerCase());// Status filter\nif(activeFilter!=='all'&&user.status!==activeFilter){return false;}// Role filter\nif(roleFilter!=='all'&&user.role!==roleFilter){return false;}return matchesSearch;});const handleDeleteUser=async userId=>{try{setUserActionLoading(true);// Uncomment to use the real API call\nconst token=localStorage.getItem('token');await axios.delete(\"/api/users/\".concat(userId),{headers:{'Authorization':\"Bearer \".concat(token)},withCredentials:true});// Update local state\nsetUsers(prevUsers=>prevUsers.filter(u=>u._id!==userId));setActionSuccess('User deleted successfully!');setConfirmDelete(null);setDropdownOpen(null);}catch(err){setError('Failed to delete user');console.error('Error deleting user:',err);}finally{setUserActionLoading(false);}};const handleChangeUserStatus=async(userId,newStatus)=>{try{setUserActionLoading(true);// Get token for authorization\nconst token=localStorage.getItem('token');if(!token){setError('Authentication required. Please log in again.');setUserActionLoading(false);return;}// Make API call with proper headers\nconst response=await axios.patch(\"/api/users/\".concat(userId),{status:newStatus},{headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'},withCredentials:true});// Check if response is successful\nif(response.data){// Update local state\nsetUsers(prevUsers=>prevUsers.map(u=>u._id===userId?_objectSpread(_objectSpread({},u),{},{status:newStatus}):u));setActionSuccess(\"User status changed to \".concat(newStatus,\"!\"));setDropdownOpen(null);}}catch(err){var _err$response,_err$response$data;console.error('Error updating user status:',err);setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Failed to update user status. Please try again.');}finally{setUserActionLoading(false);}};const handleChangeRole=async(userId,newRole)=>{try{setUserActionLoading(true);// Get token for authorization\nconst token=localStorage.getItem('token');if(!token){setError('Authentication required. Please log in again.');setUserActionLoading(false);return;}// Make API call with proper headers\nconst response=await axios.patch(\"/api/users/\".concat(userId),{role:newRole},{headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'},withCredentials:true});// Check if response is successful\nif(response.data){// Update local state \nsetUsers(prevUsers=>prevUsers.map(u=>u._id===userId?_objectSpread(_objectSpread({},u),{},{role:newRole}):u));setActionSuccess(\"User role updated to \".concat(newRole,\"!\"));setDropdownOpen(null);}}catch(err){var _err$response2,_err$response2$data;console.error('Error updating user role:',err);setError(((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.message)||'Failed to update user role. Please try again.');}finally{setUserActionLoading(false);}};const openEditModal=user=>{setSelectedUser(user);setIsEditModalOpen(true);setDropdownOpen(null);};const TeamMemberCard=_ref=>{let{member,onEdit,onDelete}=_ref;return/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border rounded-lg shadow dark:bg-gray-800 dark:border-gray-700 transition-all duration-200 hover:shadow-md dark:hover:shadow-gray-900/30\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:member.photo?/*#__PURE__*/_jsx(\"img\",{className:\"h-12 w-12 rounded-full border-2 border-gray-200 dark:border-gray-700\",src:member.photo,alt:member.displayName}):/*#__PURE__*/_jsx(\"div\",{className:\"h-12 w-12 rounded-full bg-primary-100 dark:bg-primary-900 flex items-center justify-center border-2 border-gray-200 dark:border-gray-700\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-xl font-medium text-primary-600 dark:text-primary-300\",children:member.displayName?member.displayName.charAt(0).toUpperCase():'U'})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900 dark:text-white truncate\",children:member.displayName}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 dark:text-gray-400 truncate\",children:member.email}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium \\n                \".concat(member.status==='active'?'bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400':'bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400'),children:member.status==='active'?'Active':'Inactive'}),/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-primary-100 text-primary-800 dark:bg-primary-900/30 dark:text-primary-400 ml-2\",children:member.role})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-shrink-0 flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>onEdit(member),className:\"bg-transparent text-gray-500 hover:text-primary-600 dark:text-gray-400 dark:hover:text-primary-400 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-5 w-5\",viewBox:\"0 0 20 20\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z\"})})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onDelete(member._id),className:\"bg-transparent text-gray-500 hover:text-red-600 dark:text-gray-400 dark:hover:text-red-400 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-5 w-5\",viewBox:\"0 0 20 20\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z\",clipRule:\"evenodd\"})})})]})]})});};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"linear-loading\",children:/*#__PURE__*/_jsx(\"div\",{className:\"linear-spinner dark:border-gray-600 dark:border-t-primary-400\"})});}if(error){return/*#__PURE__*/_jsxs(\"div\",{className:\"linear-card linear-card-body dark:bg-gray-800 dark:border-gray-700 dark:text-gray-100\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600 dark:text-red-400\",children:error}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.location.reload(),className:\"linear-btn linear-btn-primary mt-3\",children:\"Try Again\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4 py-8 dark:bg-gray-900\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold dark:text-white\",children:\"Team Members\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsInviteModalOpen(true),className:\"linear-btn linear-btn-primary dark:bg-primary-600 dark:hover:bg-primary-700\",children:\"Add Team Member\"})]}),actionSuccess&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 bg-green-50 dark:bg-green-900/30 border border-green-200 dark:border-green-800 text-green-700 dark:text-green-400 p-3 rounded-md flex items-center justify-between linear-fade-in\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-5 w-5 mr-2\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"})}),actionSuccess]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActionSuccess(''),className:\"text-green-500 dark:text-green-400 hover:text-green-700 dark:hover:text-green-300\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-5 w-5\",viewBox:\"0 0 20 20\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\",clipRule:\"evenodd\"})})})]}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-400 p-3 rounded-md flex items-center justify-between linear-fade-in\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-5 w-5 mr-2\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"})}),error]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setError(''),className:\"text-red-500 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-5 w-5\",viewBox:\"0 0 20 20\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\",clipRule:\"evenodd\"})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:filteredUsers.map(member=>/*#__PURE__*/_jsx(\"div\",{className:\"dark:bg-gray-800 rounded-lg shadow overflow-hidden\",children:/*#__PURE__*/_jsx(TeamMemberCard,{member:member,onEdit:openEditModal,onDelete:handleDeleteUser})},member._id))}),isInviteModalOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"linear-modal-overlay\",children:/*#__PURE__*/_jsx(\"div\",{className:\"linear-modal\",children:/*#__PURE__*/_jsx(InviteUserModal,{onClose:()=>setIsInviteModalOpen(false),setUsers:newUsers=>{// Make sure each user has the required properties\nsetUsers(newUsers.map(user=>_objectSpread(_objectSpread({},user),{},{status:user.status||'active',role:user.role||'Member',projects:user.projects||[]})));}})})}),isEditModalOpen&&selectedUser&&/*#__PURE__*/_jsx(\"div\",{className:\"linear-modal-overlay dark:bg-gray-900/80\",children:/*#__PURE__*/_jsx(\"div\",{className:\"linear-modal dark:bg-gray-800\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"linear-card dark:bg-gray-800 dark:border-gray-700\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"linear-card-header flex justify-between dark:border-gray-700\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium dark:text-gray-100\",children:\"Edit User\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsEditModalOpen(false),className:\"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-5 w-5\",viewBox:\"0 0 20 20\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\",clipRule:\"evenodd\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"linear-card-body dark:bg-gray-800\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"linear-avatar linear-avatar-lg mr-4 dark:bg-gray-700 dark:text-gray-300\",children:selectedUser.photo?/*#__PURE__*/_jsx(\"img\",{src:selectedUser.photo,alt:selectedUser.displayName}):/*#__PURE__*/_jsx(\"span\",{children:((_selectedUser$display=selectedUser.displayName)===null||_selectedUser$display===void 0?void 0:_selectedUser$display.charAt(0))||'?'})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium dark:text-gray-100\",children:selectedUser.displayName||\"User\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400\",children:selectedUser.email})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1 dark:text-gray-300\",children:\"Role\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"w-full text-left px-3 py-2 rounded-md \".concat(selectedUser.role==='Admin'?'bg-primary-100 dark:bg-primary-900/30 border border-primary-300 dark:border-primary-800 text-primary-700 dark:text-primary-300':'border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 dark:text-gray-300'),onClick:()=>handleChangeRole(selectedUser._id,'Admin'),disabled:userActionLoading,children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Admin\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs mt-1 text-gray-500 dark:text-gray-400\",children:\"Can manage all aspects of the workspace\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"w-full text-left px-3 py-2 rounded-md \".concat(selectedUser.role==='Manager'?'bg-primary-100 dark:bg-primary-900/30 border border-primary-300 dark:border-primary-800 text-primary-700 dark:text-primary-300':'border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 dark:text-gray-300'),onClick:()=>handleChangeRole(selectedUser._id,'Manager'),disabled:userActionLoading,children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Manager\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs mt-1 text-gray-500 dark:text-gray-400\",children:\"Can manage projects and team members\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"w-full text-left px-3 py-2 rounded-md \".concat(selectedUser.role==='Member'?'bg-primary-100 dark:bg-primary-900/30 border border-primary-300 dark:border-primary-800 text-primary-700 dark:text-primary-300':'border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 dark:text-gray-300'),onClick:()=>handleChangeRole(selectedUser._id,'Member'),disabled:userActionLoading,children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Member\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs mt-1 text-gray-500 dark:text-gray-400\",children:\"Can participate in projects they are assigned to\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1 dark:text-gray-300\",children:\"Status\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"w-full text-left px-3 py-2 rounded-md \".concat(selectedUser.status!=='inactive'?'bg-green-100 dark:bg-green-900/20 border border-green-300 dark:border-green-800 text-green-700 dark:text-green-400':'border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 dark:text-gray-300'),onClick:()=>handleChangeUserStatus(selectedUser._id,'active'),disabled:userActionLoading,children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-4 w-4 mr-2 text-green-500 dark:text-green-400\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Active\"})]})}),/*#__PURE__*/_jsx(\"button\",{className:\"w-full text-left px-3 py-2 rounded-md \".concat(selectedUser.status==='inactive'?'bg-red-100 dark:bg-red-900/20 border border-red-300 dark:border-red-800 text-red-700 dark:text-red-400':'border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 dark:text-gray-300'),onClick:()=>handleChangeUserStatus(selectedUser._id,'inactive'),disabled:userActionLoading,children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-4 w-4 mr-2 text-red-500 dark:text-red-400\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Inactive\"})]})})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"linear-card-footer flex justify-end space-x-2 dark:border-gray-700\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsEditModalOpen(false),className:\"linear-btn linear-btn-secondary dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-600\",disabled:userActionLoading,children:userActionLoading?'Processing...':'Cancel'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{// Save and update the user in the database\nconst updateUser=async()=>{try{setUserActionLoading(true);const token=localStorage.getItem('token');const response=await axios.patch(\"/api/users/\".concat(selectedUser._id),{role:selectedUser.role,status:selectedUser.status},{headers:{'Authorization':\"Bearer \".concat(token)},withCredentials:true});if(response.data){setActionSuccess('User updated successfully!');}setIsEditModalOpen(false);}catch(err){setError('Failed to update user');console.error('Error updating user:',err);}finally{setUserActionLoading(false);}};updateUser();},className:\"linear-btn linear-btn-primary dark:bg-primary-600 dark:hover:bg-primary-700 dark:text-white\",disabled:userActionLoading,children:userActionLoading?'Saving...':'Done'})]})]})})})]});};export default Team;","map":{"version":3,"names":["React","useState","useEffect","useRef","useContext","axios","InviteUserModal","ThemeContext","jsx","_jsx","jsxs","_jsxs","Team","_selectedUser$display","darkMode","users","setUsers","loading","setLoading","error","setError","isInviteModalOpen","setIsInviteModalOpen","isEditModalOpen","setIsEditModalOpen","searchQuery","setSearchQuery","selectedUser","setSelectedUser","activeFilter","setActiveFilter","roleFilter","setRoleFilter","dropdownOpen","setDropdownOpen","confirmDelete","setConfirmDelete","dropdownRef","userActionLoading","setUserActionLoading","actionSuccess","setActionSuccess","fetchUsers","res","get","enrichedUsers","data","map","user","_objectSpread","status","projects","role","err","console","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","timer","setTimeout","clearTimeout","filteredUsers","filter","_user$displayName","matchesSearch","displayName","toLowerCase","includes","email","handleDeleteUser","userId","token","localStorage","getItem","delete","concat","headers","withCredentials","prevUsers","u","_id","handleChangeUserStatus","newStatus","response","patch","_err$response","_err$response$data","message","handleChangeRole","newRole","_err$response2","_err$response2$data","openEditModal","TeamMemberCard","_ref","member","onEdit","onDelete","className","children","photo","src","alt","charAt","toUpperCase","onClick","xmlns","viewBox","fill","d","fillRule","clipRule","window","location","reload","stroke","strokeLinecap","strokeLinejoin","strokeWidth","onClose","newUsers","disabled","updateUser"],"sources":["C:/Users/DELL/OneDrive/Desktop/collabeaseproject/collabeasesorce/collabease/client/src/pages/Team.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef, useContext } from 'react';\nimport axios from 'axios';\nimport InviteUserModal from '../components/InviteUserModal';\nimport { ThemeContext } from '../context/ThemeContext';\n\nconst Team = () => {\n  const { darkMode } = useContext(ThemeContext);\n  const [users, setUsers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [isInviteModalOpen, setIsInviteModalOpen] = useState(false);\n  const [isEditModalOpen, setIsEditModalOpen] = useState(false);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [activeFilter, setActiveFilter] = useState('all');\n  const [roleFilter, setRoleFilter] = useState('all');\n  const [dropdownOpen, setDropdownOpen] = useState(null);\n  const [confirmDelete, setConfirmDelete] = useState(null);\n  const dropdownRef = useRef(null);\n  const [userActionLoading, setUserActionLoading] = useState(false);\n  const [actionSuccess, setActionSuccess] = useState('');\n  \n  useEffect(() => {\n    const fetchUsers = async () => {\n      try {\n        setLoading(true);\n        const res = await axios.get('/api/users');\n        // Initialize each user with status property if it doesn't exist\n        const enrichedUsers = res.data.users.map(user => ({\n          ...user,\n          status: user.status || 'active', // Default to active\n          projects: user.projects || [],\n          role: user.role || 'Member',\n        }));\n        setUsers(enrichedUsers);\n      } catch (err) {\n        setError('Failed to load team members');\n        console.error('Error fetching users:', err);\n      } finally {\n        setLoading(false);\n      }\n    };\n    \n    fetchUsers();\n  }, []);\n  \n  // Close dropdown when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n        setDropdownOpen(null);\n        setConfirmDelete(null);\n      }\n    };\n    \n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n  \n  // Auto-dismiss success message\n  useEffect(() => {\n    if (actionSuccess) {\n      const timer = setTimeout(() => {\n        setActionSuccess('');\n      }, 3000);\n      \n      return () => clearTimeout(timer);\n    }\n  }, [actionSuccess]);\n  \n  const filteredUsers = users.filter(user => {\n    // Text search filter\n    const matchesSearch = \n      (user.displayName?.toLowerCase().includes(searchQuery.toLowerCase()) || false) ||\n    user.email.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      (user.role && user.role.toLowerCase().includes(searchQuery.toLowerCase()));\n    \n    // Status filter\n    if (activeFilter !== 'all' && user.status !== activeFilter) {\n      return false;\n    }\n    \n    // Role filter\n    if (roleFilter !== 'all' && user.role !== roleFilter) {\n      return false;\n    }\n    \n    return matchesSearch;\n  });\n  \n  const handleDeleteUser = async (userId) => {\n    try {\n      setUserActionLoading(true);\n      // Uncomment to use the real API call\n      const token = localStorage.getItem('token');\n      await axios.delete(`/api/users/${userId}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        },\n        withCredentials: true\n      });\n      \n      // Update local state\n      setUsers(prevUsers => prevUsers.filter(u => u._id !== userId));\n      setActionSuccess('User deleted successfully!');\n      setConfirmDelete(null);\n      setDropdownOpen(null);\n    } catch (err) {\n      setError('Failed to delete user');\n      console.error('Error deleting user:', err);\n    } finally {\n      setUserActionLoading(false);\n    }\n  };\n  \n  const handleChangeUserStatus = async (userId, newStatus) => {\n    try {\n      setUserActionLoading(true);\n      // Get token for authorization\n      const token = localStorage.getItem('token');\n      if (!token) {\n        setError('Authentication required. Please log in again.');\n        setUserActionLoading(false);\n        return;\n      }\n\n      // Make API call with proper headers\n      const response = await axios.patch(\n        `/api/users/${userId}`, \n        { status: newStatus },\n        {\n          headers: {\n            'Authorization': `Bearer ${token}`,\n            'Content-Type': 'application/json'\n          },\n          withCredentials: true\n        }\n      );\n      \n      // Check if response is successful\n      if (response.data) {\n        // Update local state\n        setUsers(prevUsers => prevUsers.map(u => \n          u._id === userId ? { ...u, status: newStatus } : u\n        ));\n        setActionSuccess(`User status changed to ${newStatus}!`);\n        setDropdownOpen(null);\n      }\n    } catch (err) {\n      console.error('Error updating user status:', err);\n      setError(err.response?.data?.message || 'Failed to update user status. Please try again.');\n    } finally {\n      setUserActionLoading(false);\n    }\n  };\n  \n  const handleChangeRole = async (userId, newRole) => {\n    try {\n      setUserActionLoading(true);\n      // Get token for authorization\n      const token = localStorage.getItem('token');\n      if (!token) {\n        setError('Authentication required. Please log in again.');\n        setUserActionLoading(false);\n        return;\n      }\n\n      // Make API call with proper headers\n      const response = await axios.patch(\n        `/api/users/${userId}`, \n        { role: newRole },\n        {\n          headers: {\n            'Authorization': `Bearer ${token}`,\n            'Content-Type': 'application/json'\n          },\n          withCredentials: true\n        }\n      );\n      \n      // Check if response is successful\n      if (response.data) {\n        // Update local state \n        setUsers(prevUsers => prevUsers.map(u => \n          u._id === userId ? { ...u, role: newRole } : u\n        ));\n        setActionSuccess(`User role updated to ${newRole}!`);\n        setDropdownOpen(null);\n      }\n    } catch (err) {\n      console.error('Error updating user role:', err);\n      setError(err.response?.data?.message || 'Failed to update user role. Please try again.');\n    } finally {\n      setUserActionLoading(false);\n    }\n  };\n  \n  const openEditModal = (user) => {\n    setSelectedUser(user);\n    setIsEditModalOpen(true);\n    setDropdownOpen(null);\n  };\n  \n  const TeamMemberCard = ({ member, onEdit, onDelete }) => {\n    return (\n      <div className=\"p-4 border rounded-lg shadow dark:bg-gray-800 dark:border-gray-700 transition-all duration-200 hover:shadow-md dark:hover:shadow-gray-900/30\">\n        <div className=\"flex items-center space-x-4\">\n          <div className=\"flex-shrink-0\">\n            {member.photo ? (\n              <img className=\"h-12 w-12 rounded-full border-2 border-gray-200 dark:border-gray-700\" src={member.photo} alt={member.displayName} />\n            ) : (\n              <div className=\"h-12 w-12 rounded-full bg-primary-100 dark:bg-primary-900 flex items-center justify-center border-2 border-gray-200 dark:border-gray-700\">\n                <span className=\"text-xl font-medium text-primary-600 dark:text-primary-300\">\n                  {member.displayName ? member.displayName.charAt(0).toUpperCase() : 'U'}\n                </span>\n              </div>\n            )}\n          </div>\n          <div className=\"flex-1 min-w-0\">\n            <p className=\"text-sm font-medium text-gray-900 dark:text-white truncate\">\n              {member.displayName}\n            </p>\n            <p className=\"text-sm text-gray-500 dark:text-gray-400 truncate\">\n              {member.email}\n            </p>\n            <div className=\"mt-1\">\n              <span className={`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium \n                ${member.status === 'active' \n                  ? 'bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400' \n                  : 'bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400'}`}>\n                {member.status === 'active' ? 'Active' : 'Inactive'}\n              </span>\n              <span className=\"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-primary-100 text-primary-800 dark:bg-primary-900/30 dark:text-primary-400 ml-2\">\n                {member.role}\n              </span>\n            </div>\n          </div>\n          <div className=\"flex-shrink-0 flex space-x-2\">\n            <button\n              onClick={() => onEdit(member)}\n              className=\"bg-transparent text-gray-500 hover:text-primary-600 dark:text-gray-400 dark:hover:text-primary-400 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200\"\n            >\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                <path d=\"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z\" />\n              </svg>\n            </button>\n            <button\n              onClick={() => onDelete(member._id)}\n              className=\"bg-transparent text-gray-500 hover:text-red-600 dark:text-gray-400 dark:hover:text-red-400 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200\"\n            >\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                <path fillRule=\"evenodd\" d=\"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\n              </svg>\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  };\n  \n  if (loading) {\n    return <div className=\"linear-loading\"><div className=\"linear-spinner dark:border-gray-600 dark:border-t-primary-400\"></div></div>;\n  }\n  \n  if (error) {\n    return (\n      <div className=\"linear-card linear-card-body dark:bg-gray-800 dark:border-gray-700 dark:text-gray-100\">\n        <p className=\"text-red-600 dark:text-red-400\">{error}</p>\n        <button \n          onClick={() => window.location.reload()}\n          className=\"linear-btn linear-btn-primary mt-3\"\n        >\n          Try Again\n        </button>\n      </div>\n    );\n  }\n  \n  return (\n    <div className=\"container mx-auto px-4 py-8 dark:bg-gray-900\">\n      <div className=\"flex justify-between items-center mb-6\">\n        <h1 className=\"text-2xl font-bold dark:text-white\">Team Members</h1>\n        <button \n          onClick={() => setIsInviteModalOpen(true)}\n          className=\"linear-btn linear-btn-primary dark:bg-primary-600 dark:hover:bg-primary-700\"\n        >\n          Add Team Member\n        </button>\n      </div>\n      \n      {actionSuccess && (\n        <div className=\"mb-4 bg-green-50 dark:bg-green-900/30 border border-green-200 dark:border-green-800 text-green-700 dark:text-green-400 p-3 rounded-md flex items-center justify-between linear-fade-in\">\n          <div className=\"flex items-center\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n            </svg>\n            {actionSuccess}\n          </div>\n          <button \n            onClick={() => setActionSuccess('')}\n            className=\"text-green-500 dark:text-green-400 hover:text-green-700 dark:hover:text-green-300\"\n          >\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n              <path fillRule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\n            </svg>\n          </button>\n        </div>\n      )}\n      \n      {error && (\n        <div className=\"mb-4 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-400 p-3 rounded-md flex items-center justify-between linear-fade-in\">\n          <div className=\"flex items-center\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n            </svg>\n            {error}\n          </div>\n          <button \n            onClick={() => setError('')}\n            className=\"text-red-500 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300\"\n          >\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n              <path fillRule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\n            </svg>\n          </button>\n        </div>\n      )}\n      \n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {filteredUsers.map(member => (\n          <div key={member._id} className=\"dark:bg-gray-800 rounded-lg shadow overflow-hidden\">\n            <TeamMemberCard member={member} onEdit={openEditModal} onDelete={handleDeleteUser} />\n          </div>\n        ))}\n      </div>\n      \n      {/* Invite User Modal */}\n      {isInviteModalOpen && (\n        <div className=\"linear-modal-overlay\">\n          <div className=\"linear-modal\">\n            <InviteUserModal \n              onClose={() => setIsInviteModalOpen(false)} \n              setUsers={(newUsers) => {\n                // Make sure each user has the required properties\n                setUsers(newUsers.map(user => ({\n                  ...user,\n                  status: user.status || 'active',\n                  role: user.role || 'Member',\n                  projects: user.projects || [],\n                })));\n              }}\n            />\n          </div>\n        </div>\n      )}\n      \n      {/* Edit User Modal */}\n      {isEditModalOpen && selectedUser && (\n        <div className=\"linear-modal-overlay dark:bg-gray-900/80\">\n          <div className=\"linear-modal dark:bg-gray-800\">\n            <div className=\"linear-card dark:bg-gray-800 dark:border-gray-700\">\n              <div className=\"linear-card-header flex justify-between dark:border-gray-700\">\n                <h3 className=\"font-medium dark:text-gray-100\">Edit User</h3>\n                <button onClick={() => setIsEditModalOpen(false)} className=\"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200\">\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                    <path fillRule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\n                  </svg>\n                </button>\n              </div>\n              \n              <div className=\"linear-card-body dark:bg-gray-800\">\n                <div className=\"mb-4 flex items-center\">\n                  <div className=\"linear-avatar linear-avatar-lg mr-4 dark:bg-gray-700 dark:text-gray-300\">\n                    {selectedUser.photo ? (\n                      <img src={selectedUser.photo} alt={selectedUser.displayName} />\n                    ) : (\n                      <span>{selectedUser.displayName?.charAt(0) || '?'}</span>\n                    )}\n                  </div>\n                  <div>\n                    <h4 className=\"text-lg font-medium dark:text-gray-100\">{selectedUser.displayName || \"User\"}</h4>\n                    <p className=\"text-gray-600 dark:text-gray-400\">{selectedUser.email}</p>\n                  </div>\n                </div>\n                \n                <div className=\"mb-4\">\n                  <label className=\"block text-sm font-medium mb-1 dark:text-gray-300\">Role</label>\n                  <div className=\"space-y-2\">\n                    <button \n                      className={`w-full text-left px-3 py-2 rounded-md ${selectedUser.role === 'Admin' \n                        ? 'bg-primary-100 dark:bg-primary-900/30 border border-primary-300 dark:border-primary-800 text-primary-700 dark:text-primary-300' \n                        : 'border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 dark:text-gray-300'}`}\n                      onClick={() => handleChangeRole(selectedUser._id, 'Admin')}\n                      disabled={userActionLoading}\n                    >\n                      <div className=\"flex items-center\">\n                        <span className=\"font-medium\">Admin</span>\n                            </div>\n                      <p className=\"text-xs mt-1 text-gray-500 dark:text-gray-400\">Can manage all aspects of the workspace</p>\n                    </button>\n                    \n                    <button \n                      className={`w-full text-left px-3 py-2 rounded-md ${selectedUser.role === 'Manager' \n                        ? 'bg-primary-100 dark:bg-primary-900/30 border border-primary-300 dark:border-primary-800 text-primary-700 dark:text-primary-300' \n                        : 'border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 dark:text-gray-300'}`}\n                      onClick={() => handleChangeRole(selectedUser._id, 'Manager')}\n                      disabled={userActionLoading}\n                    >\n                      <div className=\"flex items-center\">\n                        <span className=\"font-medium\">Manager</span>\n                        </div>\n                      <p className=\"text-xs mt-1 text-gray-500 dark:text-gray-400\">Can manage projects and team members</p>\n                    </button>\n                    \n                    <button \n                      className={`w-full text-left px-3 py-2 rounded-md ${selectedUser.role === 'Member' \n                        ? 'bg-primary-100 dark:bg-primary-900/30 border border-primary-300 dark:border-primary-800 text-primary-700 dark:text-primary-300' \n                        : 'border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 dark:text-gray-300'}`}\n                      onClick={() => handleChangeRole(selectedUser._id, 'Member')}\n                      disabled={userActionLoading}\n                    >\n                      <div className=\"flex items-center\">\n                        <span className=\"font-medium\">Member</span>\n                      </div>\n                      <p className=\"text-xs mt-1 text-gray-500 dark:text-gray-400\">Can participate in projects they are assigned to</p>\n                    </button>\n                  </div>\n                            </div>\n                \n                <div className=\"mb-4\">\n                  <label className=\"block text-sm font-medium mb-1 dark:text-gray-300\">Status</label>\n                  <div className=\"space-y-2\">\n                    <button \n                      className={`w-full text-left px-3 py-2 rounded-md ${selectedUser.status !== 'inactive' \n                        ? 'bg-green-100 dark:bg-green-900/20 border border-green-300 dark:border-green-800 text-green-700 dark:text-green-400' \n                        : 'border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 dark:text-gray-300'}`}\n                      onClick={() => handleChangeUserStatus(selectedUser._id, 'active')}\n                      disabled={userActionLoading}\n                    >\n                      <div className=\"flex items-center\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4 mr-2 text-green-500 dark:text-green-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                        </svg>\n                        <span className=\"font-medium\">Active</span>\n                        </div>\n                    </button>\n                    \n                    <button \n                      className={`w-full text-left px-3 py-2 rounded-md ${selectedUser.status === 'inactive' \n                        ? 'bg-red-100 dark:bg-red-900/20 border border-red-300 dark:border-red-800 text-red-700 dark:text-red-400' \n                        : 'border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 dark:text-gray-300'}`}\n                      onClick={() => handleChangeUserStatus(selectedUser._id, 'inactive')}\n                      disabled={userActionLoading}\n                    >\n                      <div className=\"flex items-center\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4 mr-2 text-red-500 dark:text-red-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636\" />\n                        </svg>\n                        <span className=\"font-medium\">Inactive</span>\n                      </div>\n                      </button>\n                  </div>\n        </div>\n      </div>\n      \n              <div className=\"linear-card-footer flex justify-end space-x-2 dark:border-gray-700\">\n                <button \n                  onClick={() => setIsEditModalOpen(false)}\n                  className=\"linear-btn linear-btn-secondary dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-600\"\n                  disabled={userActionLoading}\n                >\n                  {userActionLoading ? 'Processing...' : 'Cancel'}\n                </button>\n                <button \n                  onClick={() => {\n                    // Save and update the user in the database\n                    const updateUser = async () => {\n                      try {\n                        setUserActionLoading(true);\n                        const token = localStorage.getItem('token');\n                        const response = await axios.patch(\n                          `/api/users/${selectedUser._id}`,\n                          {\n                            role: selectedUser.role,\n                            status: selectedUser.status\n                          },\n                          {\n                            headers: {\n                              'Authorization': `Bearer ${token}`\n                            },\n                            withCredentials: true\n                          }\n                        );\n                        \n                        if (response.data) {\n                          setActionSuccess('User updated successfully!');\n                        }\n                        setIsEditModalOpen(false);\n                      } catch (err) {\n                        setError('Failed to update user');\n                        console.error('Error updating user:', err);\n                      } finally {\n                        setUserActionLoading(false);\n                      }\n                    };\n                    \n                    updateUser();\n                  }}\n                  className=\"linear-btn linear-btn-primary dark:bg-primary-600 dark:hover:bg-primary-700 dark:text-white\"\n                  disabled={userActionLoading}\n                >\n                  {userActionLoading ? 'Saving...' : 'Done'}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Team;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}