{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{useNavigate}from'react-router-dom';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SearchResultItem=_ref=>{var _item$displayName;let{item,onClick}=_ref;// Render different item types differently\nswitch(item.type){case'project':return/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 flex items-center hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer rounded-md\",onClick:()=>onClick(\"/projects/\".concat(item._id)),children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 h-8 w-8 rounded-md flex items-center justify-center\",style:{backgroundColor:item.color||'#6366f1'},children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-4 w-4 text-white\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900 dark:text-gray-100\",children:item.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 dark:text-gray-400\",children:\"Project\"})]})]});case'task':return/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 flex items-center hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer rounded-md\",onClick:()=>onClick(\"/tasks\"),children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 h-8 w-8 rounded-md bg-blue-100 text-blue-600 dark:bg-blue-900 dark:text-blue-400 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-4 w-4\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900 dark:text-gray-100\",children:item.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500 dark:text-gray-400\",children:[\"Task in \",item.project?item.project.name:'Unknown Project']})]})]});case'user':return/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 flex items-center hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer rounded-md\",onClick:()=>onClick(\"/team\"),children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 h-8 w-8 rounded-full bg-green-100 text-green-600 dark:bg-green-900 dark:text-green-400 flex items-center justify-center\",children:item.photo?/*#__PURE__*/_jsx(\"img\",{src:item.photo,alt:item.displayName,className:\"h-8 w-8 rounded-full object-cover\"}):/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:((_item$displayName=item.displayName)===null||_item$displayName===void 0?void 0:_item$displayName.charAt(0).toUpperCase())||'U'})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900 dark:text-gray-100\",children:item.displayName}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 dark:text-gray-400\",children:\"Team member\"})]})]});default:return null;}};const GlobalSearch=()=>{const[query,setQuery]=useState('');const[showResults,setShowResults]=useState(false);const[results,setResults]=useState([]);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const searchRef=useRef(null);const navigate=useNavigate();// Handle outside clicks to close the results dropdown\nuseEffect(()=>{function handleClickOutside(event){if(searchRef.current&&!searchRef.current.contains(event.target)){setShowResults(false);}}document.addEventListener('mousedown',handleClickOutside);return()=>{document.removeEventListener('mousedown',handleClickOutside);};},[]);// Debounced search function\nuseEffect(()=>{if(!query.trim()){setResults([]);return;}const timeoutId=setTimeout(async()=>{try{setLoading(true);setError(null);const token=localStorage.getItem('token');if(!token){setError('Authentication required');setLoading(false);return;}const response=await axios.get(\"/api/search?q=\".concat(encodeURIComponent(query)),{headers:{Authorization:\"Bearer \".concat(token)}});if(response.data){setResults(response.data);}}catch(err){console.error('Search error:',err);setError('Failed to search. Please try again.');}finally{setLoading(false);}},300);// 300ms debounce\nreturn()=>clearTimeout(timeoutId);},[query]);const handleSearch=e=>{e.preventDefault();if(query.trim()){navigate(\"/search?q=\".concat(encodeURIComponent(query.trim())));setShowResults(false);setQuery('');}};const handleResultClick=path=>{navigate(path);setShowResults(false);setQuery('');};return/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",ref:searchRef,children:[/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSearch,children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-5 w-5 text-gray-400\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"})})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search projects, tasks, and team...\",className:\"linear-input w-64 pl-10 pr-10 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-gray-100 dark:border-gray-600 dark:focus:border-primary-500 transition-all duration-200\",value:query,onChange:e=>{setQuery(e.target.value);if(e.target.value.trim()){setShowResults(true);}},onFocus:()=>{if(query.trim()){setShowResults(true);}}}),query&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\",onClick:()=>{setQuery('');setResults([]);},children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-5 w-5\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]})}),showResults&&query.trim()&&/*#__PURE__*/_jsxs(\"div\",{className:\"absolute mt-2 w-96 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 z-50 overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 border-b border-gray-100 dark:border-gray-700\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-700 dark:text-gray-300\",children:\"Search Results\"})}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"p-8 flex justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"linear-spinner h-6 w-6 dark:border-gray-600 dark:border-t-primary-400\"})}):error?/*#__PURE__*/_jsx(\"div\",{className:\"p-4 text-center\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-red-500 dark:text-red-400\",children:error})}):results.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"max-h-80 overflow-y-auto\",children:results.map((item,index)=>/*#__PURE__*/_jsx(SearchResultItem,{item:item,onClick:handleResultClick},\"\".concat(item.type,\"-\").concat(item._id||index)))}):query.trim()?/*#__PURE__*/_jsx(\"div\",{className:\"p-6 text-center\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500 dark:text-gray-400\",children:[\"No results found for \\\"\",query,\"\\\"\"]})}):null,/*#__PURE__*/_jsx(\"div\",{className:\"p-3 border-t border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-800\",children:/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"w-full text-center text-sm text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 font-medium\",onClick:handleSearch,children:[\"View all results for \\\"\",query,\"\\\"\"]})})]})]});};export default GlobalSearch;","map":{"version":3,"names":["React","useState","useEffect","useRef","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","SearchResultItem","_ref","_item$displayName","item","onClick","type","className","concat","_id","children","style","backgroundColor","color","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","name","title","project","photo","src","alt","displayName","charAt","toUpperCase","GlobalSearch","query","setQuery","showResults","setShowResults","results","setResults","loading","setLoading","error","setError","searchRef","navigate","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","trim","timeoutId","setTimeout","token","localStorage","getItem","response","get","encodeURIComponent","headers","Authorization","data","err","console","clearTimeout","handleSearch","e","preventDefault","handleResultClick","path","ref","onSubmit","placeholder","value","onChange","onFocus","length","map","index"],"sources":["C:/Users/DELL/OneDrive/Desktop/collabeaseproject/collabeasesorce/collabease/client/src/components/GlobalSearch.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nconst SearchResultItem = ({ item, onClick }) => {\r\n  // Render different item types differently\r\n  switch (item.type) {\r\n    case 'project':\r\n      return (\r\n        <div \r\n          className=\"p-3 flex items-center hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer rounded-md\"\r\n          onClick={() => onClick(`/projects/${item._id}`)}\r\n        >\r\n          <div className=\"flex-shrink-0 h-8 w-8 rounded-md flex items-center justify-center\" \r\n            style={{ backgroundColor: item.color || '#6366f1' }}>\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4 text-white\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z\" />\r\n            </svg>\r\n          </div>\r\n          <div className=\"ml-3\">\r\n            <p className=\"text-sm font-medium text-gray-900 dark:text-gray-100\">{item.name}</p>\r\n            <p className=\"text-xs text-gray-500 dark:text-gray-400\">Project</p>\r\n          </div>\r\n        </div>\r\n      );\r\n    \r\n    case 'task':\r\n      return (\r\n        <div \r\n          className=\"p-3 flex items-center hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer rounded-md\"\r\n          onClick={() => onClick(`/tasks`)}\r\n        >\r\n          <div className=\"flex-shrink-0 h-8 w-8 rounded-md bg-blue-100 text-blue-600 dark:bg-blue-900 dark:text-blue-400 flex items-center justify-center\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\" />\r\n            </svg>\r\n          </div>\r\n          <div className=\"ml-3\">\r\n            <p className=\"text-sm font-medium text-gray-900 dark:text-gray-100\">{item.title}</p>\r\n            <p className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n              Task in {item.project ? item.project.name : 'Unknown Project'}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      );\r\n      \r\n    case 'user':\r\n      return (\r\n        <div \r\n          className=\"p-3 flex items-center hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer rounded-md\"\r\n          onClick={() => onClick(`/team`)}\r\n        >\r\n          <div className=\"flex-shrink-0 h-8 w-8 rounded-full bg-green-100 text-green-600 dark:bg-green-900 dark:text-green-400 flex items-center justify-center\">\r\n            {item.photo ? (\r\n              <img src={item.photo} alt={item.displayName} className=\"h-8 w-8 rounded-full object-cover\" />\r\n            ) : (\r\n              <span className=\"text-sm font-medium\">\r\n                {item.displayName?.charAt(0).toUpperCase() || 'U'}\r\n              </span>\r\n            )}\r\n          </div>\r\n          <div className=\"ml-3\">\r\n            <p className=\"text-sm font-medium text-gray-900 dark:text-gray-100\">{item.displayName}</p>\r\n            <p className=\"text-xs text-gray-500 dark:text-gray-400\">Team member</p>\r\n          </div>\r\n        </div>\r\n      );\r\n      \r\n    default:\r\n      return null;\r\n  }\r\n};\r\n\r\nconst GlobalSearch = () => {\r\n  const [query, setQuery] = useState('');\r\n  const [showResults, setShowResults] = useState(false);\r\n  const [results, setResults] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const searchRef = useRef(null);\r\n  const navigate = useNavigate();\r\n  \r\n  // Handle outside clicks to close the results dropdown\r\n  useEffect(() => {\r\n    function handleClickOutside(event) {\r\n      if (searchRef.current && !searchRef.current.contains(event.target)) {\r\n        setShowResults(false);\r\n      }\r\n    }\r\n    \r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => {\r\n      document.removeEventListener('mousedown', handleClickOutside);\r\n    };\r\n  }, []);\r\n  \r\n  // Debounced search function\r\n  useEffect(() => {\r\n    if (!query.trim()) {\r\n      setResults([]);\r\n      return;\r\n    }\r\n    \r\n    const timeoutId = setTimeout(async () => {\r\n      try {\r\n        setLoading(true);\r\n        setError(null);\r\n        \r\n        const token = localStorage.getItem('token');\r\n        if (!token) {\r\n          setError('Authentication required');\r\n          setLoading(false);\r\n          return;\r\n        }\r\n        \r\n        const response = await axios.get(`/api/search?q=${encodeURIComponent(query)}`, {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`\r\n          }\r\n        });\r\n        \r\n        if (response.data) {\r\n          setResults(response.data);\r\n        }\r\n      } catch (err) {\r\n        console.error('Search error:', err);\r\n        setError('Failed to search. Please try again.');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }, 300); // 300ms debounce\r\n    \r\n    return () => clearTimeout(timeoutId);\r\n  }, [query]);\r\n  \r\n  const handleSearch = (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (query.trim()) {\r\n      navigate(`/search?q=${encodeURIComponent(query.trim())}`);\r\n      setShowResults(false);\r\n      setQuery('');\r\n    }\r\n  };\r\n  \r\n  const handleResultClick = (path) => {\r\n    navigate(path);\r\n    setShowResults(false);\r\n    setQuery('');\r\n  };\r\n  \r\n  return (\r\n    <div className=\"relative\" ref={searchRef}>\r\n      <form onSubmit={handleSearch}>\r\n        <div className=\"relative\">\r\n          <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 text-gray-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\r\n            </svg>\r\n          </div>\r\n          \r\n          <input \r\n            type=\"text\" \r\n            placeholder=\"Search projects, tasks, and team...\" \r\n            className=\"linear-input w-64 pl-10 pr-10 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-gray-100 dark:border-gray-600 dark:focus:border-primary-500 transition-all duration-200\"\r\n            value={query}\r\n            onChange={(e) => {\r\n              setQuery(e.target.value);\r\n              if (e.target.value.trim()) {\r\n                setShowResults(true);\r\n              }\r\n            }}\r\n            onFocus={() => {\r\n              if (query.trim()) {\r\n                setShowResults(true);\r\n              }\r\n            }}\r\n          />\r\n          \r\n          {query && (\r\n            <button \r\n              type=\"button\"\r\n              className=\"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\"\r\n              onClick={() => {\r\n                setQuery('');\r\n                setResults([]);\r\n              }}\r\n            >\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n              </svg>\r\n            </button>\r\n          )}\r\n        </div>\r\n      </form>\r\n      \r\n      {/* Results dropdown */}\r\n      {showResults && query.trim() && (\r\n        <div className=\"absolute mt-2 w-96 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 z-50 overflow-hidden\">\r\n          <div className=\"p-3 border-b border-gray-100 dark:border-gray-700\">\r\n            <h3 className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">Search Results</h3>\r\n          </div>\r\n          \r\n          {loading ? (\r\n            <div className=\"p-8 flex justify-center\">\r\n              <div className=\"linear-spinner h-6 w-6 dark:border-gray-600 dark:border-t-primary-400\"></div>\r\n            </div>\r\n          ) : error ? (\r\n            <div className=\"p-4 text-center\">\r\n              <p className=\"text-sm text-red-500 dark:text-red-400\">{error}</p>\r\n            </div>\r\n          ) : results.length > 0 ? (\r\n            <div className=\"max-h-80 overflow-y-auto\">\r\n              {results.map((item, index) => (\r\n                <SearchResultItem \r\n                  key={`${item.type}-${item._id || index}`} \r\n                  item={item}\r\n                  onClick={handleResultClick}\r\n                />\r\n              ))}\r\n            </div>\r\n          ) : query.trim() ? (\r\n            <div className=\"p-6 text-center\">\r\n              <p className=\"text-sm text-gray-500 dark:text-gray-400\">No results found for \"{query}\"</p>\r\n            </div>\r\n          ) : null}\r\n          \r\n          <div className=\"p-3 border-t border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-800\">\r\n            <button \r\n              type=\"button\"\r\n              className=\"w-full text-center text-sm text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 font-medium\"\r\n              onClick={handleSearch}\r\n            >\r\n              View all results for \"{query}\"\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GlobalSearch; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}