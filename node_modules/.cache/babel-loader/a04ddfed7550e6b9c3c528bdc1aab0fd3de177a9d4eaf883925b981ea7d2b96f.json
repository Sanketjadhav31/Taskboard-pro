{"ast":null,"code":"import React,{useState,useRef,useEffect,useContext,useCallback,useMemo}from'react';import{useLocation,Link,useNavigate}from'react-router-dom';import{AuthContext}from'../context/AuthContext';import{NotificationContext}from'../context/NotificationContext';import{ThemeContext}from'../context/ThemeContext';import{ChatContext}from'../context/ChatContext';import GlobalSearch from'./GlobalSearch';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Header=_ref=>{var _user$displayName;let{user,logout,className=''}=_ref;const location=useLocation();const navigate=useNavigate();const[showNotifications,setShowNotifications]=useState(false);const[showProfileMenu,setShowProfileMenu]=useState(false);const notificationRef=useRef(null);const profileRef=useRef(null);const themeToggleRef=useRef(null);const chatIconRef=useRef(null);const{notifications,unreadCount,markAsRead,markAllAsRead}=useContext(NotificationContext);const{darkMode,toggleTheme}=useContext(ThemeContext);const{totalUnreadCount}=useContext(ChatContext);// Get the appropriate title based on the current path\nconst getTitle=()=>{const path=window.location.pathname;if(path==='/dashboard')return'Dashboard';if(path==='/projects')return'Projects';if(path.startsWith('/projects/'))return'Project Details';if(path==='/tasks')return'My Tasks';if(path==='/team')return'Team';if(path==='/settings')return'Settings';if(path==='/profile')return'Profile';if(path==='/notifications')return'Notifications';if(path==='/chat')return'Chat';return'Taskboard-pro';};// Handle clicks outside dropdowns to close them\nuseEffect(()=>{function handleClickOutside(event){if(notificationRef.current&&!notificationRef.current.contains(event.target)){setShowNotifications(false);}if(profileRef.current&&!profileRef.current.contains(event.target)){setShowProfileMenu(false);}}document.addEventListener('mousedown',handleClickOutside);return()=>{document.removeEventListener('mousedown',handleClickOutside);};},[]);// Handle notification click with useCallback to prevent recreation on each render\nconst handleNotificationClick=useCallback(notification=>{markAsRead(notification._id);// Navigate based on notification type\nif(notification.type==='project_invite'){navigate(\"/projects/\".concat(notification.projectId));}else if(notification.type==='task_assigned'){navigate(\"/tasks\");}else if(notification.type==='task_comment'){navigate(\"/projects/\".concat(notification.projectId));}setShowNotifications(false);},[markAsRead,navigate]);const toggleNotifications=useCallback(e=>{e.stopPropagation();setShowProfileMenu(false);// Close profile menu when opening notifications\nsetShowNotifications(prev=>!prev);},[]);const toggleProfileMenu=useCallback(e=>{e.stopPropagation();setShowNotifications(false);// Close notifications when opening profile menu\nsetShowProfileMenu(prev=>!prev);},[]);const handleMarkAllAsRead=useCallback(e=>{e.stopPropagation();markAllAsRead();},[markAllAsRead]);const handleLogout=useCallback(()=>{setShowProfileMenu(false);logout();},[logout]);return/*#__PURE__*/_jsx(\"header\",{className:\"header dark:bg-gray-800 dark:border-gray-700 w-full \".concat(className),children:/*#__PURE__*/_jsxs(\"div\",{className:\"h-full flex items-center justify-between px-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-semibold text-gray-800 dark:text-gray-100\",children:getTitle()})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"hidden md:block\",children:/*#__PURE__*/_jsx(GlobalSearch,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"relative\",ref:themeToggleRef,children:/*#__PURE__*/_jsx(\"button\",{className:\"linear-action-btn relative p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors duration-200\",onClick:toggleTheme,\"aria-label\":darkMode?\"Switch to light mode\":\"Switch to dark mode\",children:darkMode?/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-5 w-5 text-gray-100\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z\"})}):/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-5 w-5 text-gray-600\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z\"})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"relative\",ref:chatIconRef,children:/*#__PURE__*/_jsxs(Link,{to:\"/chat\",className:\"linear-action-btn relative p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors duration-200\",\"aria-label\":\"Open chat\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-5 w-5 dark:text-gray-100\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"})}),totalUnreadCount>0&&/*#__PURE__*/_jsx(\"span\",{className:\"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center bg-green-500 text-white text-xs font-bold rounded-full shadow-lg animate-pulse\",children:totalUnreadCount})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",ref:notificationRef,children:[/*#__PURE__*/_jsxs(\"button\",{className:\"linear-action-btn relative p-2 \".concat(unreadCount>0?'bg-primary-50 dark:bg-primary-900/20':'hover:bg-gray-100 dark:hover:bg-gray-700',\" rounded-full transition-colors duration-200\"),onClick:toggleNotifications,\"aria-expanded\":showNotifications,\"aria-haspopup\":\"true\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-5 w-5 \".concat(unreadCount>0?'text-primary-600 dark:text-primary-400':'dark:text-gray-100'),fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9\"})}),unreadCount>0&&/*#__PURE__*/_jsx(\"span\",{className:\"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center bg-red-500 text-white text-xs font-bold rounded-full shadow-lg animate-pulse\",children:unreadCount})]}),showNotifications&&/*#__PURE__*/_jsxs(\"div\",{className:\"notification-dropdown fixed right-0 top-0 mt-16 mr-6 w-96 max-h-[calc(100vh-80px)] overflow-y-auto bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 z-50\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"sticky top-0 bg-white dark:bg-gray-800 border-b border-gray-100 dark:border-gray-700 py-3 px-4 z-10\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-sm font-semibold dark:text-gray-100\",children:[\"Notifications\",unreadCount>0&&/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2 bg-red-100 text-red-800 text-xs font-semibold px-2 py-0.5 rounded-full dark:bg-red-900/30 dark:text-red-400\",children:[unreadCount,\" new\"]})]}),unreadCount>0&&/*#__PURE__*/_jsx(\"button\",{className:\"text-xs text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 font-medium transition-colors duration-200\",onClick:handleMarkAllAsRead,children:\"Mark all as read\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-y-auto max-h-[60vh]\",children:notifications&&notifications.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"linear-list divide-y divide-gray-100 dark:divide-gray-700\",children:notifications.map(notification=>/*#__PURE__*/_jsx(\"div\",{className:\"py-3 px-4 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200\\n                          \".concat(!notification.read?'bg-primary-50 dark:bg-primary-900 dark:bg-opacity-20':''),onClick:()=>handleNotificationClick(notification),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-shrink-0 h-10 w-10 rounded-full flex items-center justify-center \\n                            \".concat(!notification.read?'bg-primary-100 text-primary-600 dark:bg-primary-900 dark:text-primary-300':'bg-gray-100 text-gray-500 dark:bg-gray-700 dark:text-gray-400'),children:[notification.type==='project_invite'&&/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-5 w-5\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z\"})}),notification.type==='task_assigned'&&/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-5 w-5\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\"})}),notification.type==='task_comment'&&/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-5 w-5\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"})}),!notification.type||notification.type!=='project_invite'&&notification.type!=='task_assigned'&&notification.type!=='task_comment'&&/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-5 w-5\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3 w-full\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm leading-tight font-medium mb-1 dark:text-gray-100\",children:notification.message||notification.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 dark:text-gray-400\",children:new Date(notification.createdAt).toLocaleString([],{month:'short',day:'numeric',hour:'2-digit',minute:'2-digit'})}),!notification.read&&/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-primary-100 text-primary-800 dark:bg-primary-900 dark:text-primary-300\",children:\"New\"})]})]})]})},notification._id))}):/*#__PURE__*/_jsxs(\"div\",{className:\"py-12 px-4 text-center\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-12 w-12 mx-auto text-gray-400 dark:text-gray-600 mb-4\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:1.5,d:\"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 dark:text-gray-400\",children:\"No notifications yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-400 dark:text-gray-500 mt-1\",children:\"Notifications will appear here\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"sticky bottom-0 bg-white dark:bg-gray-800 border-t border-gray-100 dark:border-gray-700 p-3 z-10\",children:/*#__PURE__*/_jsx(Link,{to:\"/notifications\",className:\"block w-full text-center text-sm text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 font-medium\",onClick:()=>setShowNotifications(false),children:\"View all notifications\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",ref:profileRef,children:[/*#__PURE__*/_jsxs(\"button\",{className:\"flex items-center space-x-2 focus:outline-none\",onClick:toggleProfileMenu,\"aria-expanded\":showProfileMenu,\"aria-haspopup\":\"true\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"linear-avatar linear-avatar-sm\",children:user!==null&&user!==void 0&&user.photo?/*#__PURE__*/_jsx(\"img\",{src:user.photo,alt:user.displayName,className:\"h-full w-full object-cover\"}):/*#__PURE__*/_jsx(\"span\",{children:(user===null||user===void 0?void 0:(_user$displayName=user.displayName)===null||_user$displayName===void 0?void 0:_user$displayName.charAt(0))||'U'})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700 dark:text-gray-300 hidden sm:block\",children:user===null||user===void 0?void 0:user.displayName})]}),showProfileMenu&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"py-1\",children:[/*#__PURE__*/_jsx(Link,{to:\"/profile\",className:\"block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700\",onClick:()=>setShowProfileMenu(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-4 w-4 mr-2 text-gray-500 dark:text-gray-400\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Profile\"})]})}),/*#__PURE__*/_jsx(Link,{to:\"/settings\",className:\"block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700\",onClick:()=>setShowProfileMenu(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-4 w-4 mr-2 text-gray-500 dark:text-gray-400\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:[/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\"}),/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"})]}),/*#__PURE__*/_jsx(\"span\",{children:\"Settings\"})]})}),/*#__PURE__*/_jsx(\"hr\",{className:\"my-1 border-gray-200 dark:border-gray-700\"}),/*#__PURE__*/_jsx(\"button\",{className:\"w-full text-left block px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900 dark:hover:bg-opacity-20\",onClick:handleLogout,children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-4 w-4 mr-2\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Logout\"})]})})]})})]})]})]})});};Header.displayName='Header';export default Header;","map":{"version":3,"names":["React","useState","useRef","useEffect","useContext","useCallback","useMemo","useLocation","Link","useNavigate","AuthContext","NotificationContext","ThemeContext","ChatContext","GlobalSearch","jsx","_jsx","jsxs","_jsxs","Header","_ref","_user$displayName","user","logout","className","location","navigate","showNotifications","setShowNotifications","showProfileMenu","setShowProfileMenu","notificationRef","profileRef","themeToggleRef","chatIconRef","notifications","unreadCount","markAsRead","markAllAsRead","darkMode","toggleTheme","totalUnreadCount","getTitle","path","window","pathname","startsWith","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","handleNotificationClick","notification","_id","type","concat","projectId","toggleNotifications","e","stopPropagation","prev","toggleProfileMenu","handleMarkAllAsRead","handleLogout","children","ref","onClick","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","to","length","map","read","message","title","Date","createdAt","toLocaleString","month","day","hour","minute","photo","src","alt","displayName","charAt"],"sources":["C:/Users/DELL/OneDrive/Desktop/collabeaseproject/collabeasesorce/collabease/client/src/components/Header.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect, useContext, useCallback, useMemo } from 'react';\nimport { useLocation, Link, useNavigate } from 'react-router-dom';\nimport { AuthContext } from '../context/AuthContext';\nimport { NotificationContext } from '../context/NotificationContext';\nimport { ThemeContext } from '../context/ThemeContext';\nimport { ChatContext } from '../context/ChatContext';\nimport GlobalSearch from './GlobalSearch';\n\nconst Header = ({ user, logout, className = '' }) => {\n  const location = useLocation();\n  const navigate = useNavigate();\n  const [showNotifications, setShowNotifications] = useState(false);\n  const [showProfileMenu, setShowProfileMenu] = useState(false);\n  const notificationRef = useRef(null);\n  const profileRef = useRef(null);\n  const themeToggleRef = useRef(null);\n  const chatIconRef = useRef(null);\n  \n  const { notifications, unreadCount, markAsRead, markAllAsRead } = useContext(NotificationContext);\n  const { darkMode, toggleTheme } = useContext(ThemeContext);\n  const { totalUnreadCount } = useContext(ChatContext);\n  \n  // Get the appropriate title based on the current path\n  const getTitle = () => {\n    const path = window.location.pathname;\n    \n    if (path === '/dashboard') return 'Dashboard';\n    if (path === '/projects') return 'Projects';\n    if (path.startsWith('/projects/')) return 'Project Details';\n    if (path === '/tasks') return 'My Tasks';\n    if (path === '/team') return 'Team';\n    if (path === '/settings') return 'Settings';\n    if (path === '/profile') return 'Profile';\n    if (path === '/notifications') return 'Notifications';\n    if (path === '/chat') return 'Chat';\n    \n    return 'Taskboard-pro';\n  };\n\n  // Handle clicks outside dropdowns to close them\n  useEffect(() => {\n    function handleClickOutside(event) {\n      if (notificationRef.current && !notificationRef.current.contains(event.target)) {\n        setShowNotifications(false);\n      }\n      if (profileRef.current && !profileRef.current.contains(event.target)) {\n        setShowProfileMenu(false);\n      }\n    }\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, []);\n  \n  // Handle notification click with useCallback to prevent recreation on each render\n  const handleNotificationClick = useCallback((notification) => {\n    markAsRead(notification._id);\n    \n    // Navigate based on notification type\n    if (notification.type === 'project_invite') {\n      navigate(`/projects/${notification.projectId}`);\n    } else if (notification.type === 'task_assigned') {\n      navigate(`/tasks`);\n    } else if (notification.type === 'task_comment') {\n      navigate(`/projects/${notification.projectId}`);\n    }\n    \n    setShowNotifications(false);\n  }, [markAsRead, navigate]);\n  \n  const toggleNotifications = useCallback((e) => {\n    e.stopPropagation();\n    setShowProfileMenu(false); // Close profile menu when opening notifications\n    setShowNotifications(prev => !prev);\n  }, []);\n  \n  const toggleProfileMenu = useCallback((e) => {\n    e.stopPropagation();\n    setShowNotifications(false); // Close notifications when opening profile menu\n    setShowProfileMenu(prev => !prev);\n  }, []);\n  \n  const handleMarkAllAsRead = useCallback((e) => {\n    e.stopPropagation();\n    markAllAsRead();\n  }, [markAllAsRead]);\n\n  const handleLogout = useCallback(() => {\n    setShowProfileMenu(false);\n    logout();\n  }, [logout]);\n  \n  return (\n    <header className={`header dark:bg-gray-800 dark:border-gray-700 w-full ${className}`}>\n      <div className=\"h-full flex items-center justify-between px-6\">\n        <div className=\"flex items-center\">\n          <h1 className=\"text-xl font-semibold text-gray-800 dark:text-gray-100\">{getTitle()}</h1>\n        </div>\n        \n        <div className=\"flex items-center space-x-4\">\n          {/* Search box - using Global Search component */}\n          <div className=\"hidden md:block\">\n            <GlobalSearch />\n          </div>\n          \n          {/* Theme toggle icon */}\n          <div className=\"relative\" ref={themeToggleRef}>\n            <button \n              className=\"linear-action-btn relative p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors duration-200\"\n              onClick={toggleTheme}\n              aria-label={darkMode ? \"Switch to light mode\" : \"Switch to dark mode\"}\n            >\n              {darkMode ? (\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 text-gray-100\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z\" />\n                </svg>\n              ) : (\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 text-gray-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z\" />\n                </svg>\n              )}\n            </button>\n          </div>\n          \n          {/* Chat icon - enhanced with notification badge */}\n          <div className=\"relative\" ref={chatIconRef}>\n            <Link \n              to=\"/chat\"\n              className=\"linear-action-btn relative p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors duration-200\"\n              aria-label=\"Open chat\"\n            >\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 dark:text-gray-100\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\" />\n              </svg>\n              {totalUnreadCount > 0 && (\n                <span className=\"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center bg-green-500 text-white text-xs font-bold rounded-full shadow-lg animate-pulse\">\n                  {totalUnreadCount}\n                </span>\n              )}\n            </Link>\n          </div>\n          \n          {/* Notification icon - enhanced with active animation */}\n          <div className=\"relative\" ref={notificationRef}>\n            <button \n              className={`linear-action-btn relative p-2 ${unreadCount > 0 ? 'bg-primary-50 dark:bg-primary-900/20' : 'hover:bg-gray-100 dark:hover:bg-gray-700'} rounded-full transition-colors duration-200`}\n              onClick={toggleNotifications}\n              aria-expanded={showNotifications}\n              aria-haspopup=\"true\"\n            >\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className={`h-5 w-5 ${unreadCount > 0 ? 'text-primary-600 dark:text-primary-400' : 'dark:text-gray-100'}`} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9\" />\n              </svg>\n              {unreadCount > 0 && (\n                <span className=\"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center bg-red-500 text-white text-xs font-bold rounded-full shadow-lg animate-pulse\">\n                  {unreadCount}\n                </span>\n              )}\n            </button>\n            \n            {/* Notification dropdown */}\n            {showNotifications && (\n              <div className=\"notification-dropdown fixed right-0 top-0 mt-16 mr-6 w-96 max-h-[calc(100vh-80px)] overflow-y-auto bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 z-50\">\n                <div className=\"sticky top-0 bg-white dark:bg-gray-800 border-b border-gray-100 dark:border-gray-700 py-3 px-4 z-10\">\n                  <div className=\"flex items-center justify-between\">\n                    <h3 className=\"text-sm font-semibold dark:text-gray-100\">\n                      Notifications\n                      {unreadCount > 0 && (\n                        <span className=\"ml-2 bg-red-100 text-red-800 text-xs font-semibold px-2 py-0.5 rounded-full dark:bg-red-900/30 dark:text-red-400\">\n                          {unreadCount} new\n                        </span>\n                      )}\n                    </h3>\n                    {unreadCount > 0 && (\n                      <button \n                        className=\"text-xs text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 font-medium transition-colors duration-200\"\n                        onClick={handleMarkAllAsRead}\n                      >\n                        Mark all as read\n                      </button>\n                    )}\n                  </div>\n                </div>\n                \n                <div className=\"overflow-y-auto max-h-[60vh]\">\n                  {notifications && notifications.length > 0 ? (\n                    <div className=\"linear-list divide-y divide-gray-100 dark:divide-gray-700\">\n                      {notifications.map(notification => (\n                        <div \n                          key={notification._id} \n                          className={`py-3 px-4 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200\n                          ${!notification.read ? 'bg-primary-50 dark:bg-primary-900 dark:bg-opacity-20' : ''}`}\n                          onClick={() => handleNotificationClick(notification)}\n                        >\n                          <div className=\"flex items-start\">\n                            <div className={`flex-shrink-0 h-10 w-10 rounded-full flex items-center justify-center \n                            ${!notification.read \n                              ? 'bg-primary-100 text-primary-600 dark:bg-primary-900 dark:text-primary-300' \n                              : 'bg-gray-100 text-gray-500 dark:bg-gray-700 dark:text-gray-400'}`}>\n                              {notification.type === 'project_invite' && (\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z\" />\n                                </svg>\n                              )}\n                              {notification.type === 'task_assigned' && (\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\" />\n                                </svg>\n                              )}\n                              {notification.type === 'task_comment' && (\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\" />\n                                </svg>\n                              )}\n                              {!notification.type || (notification.type !== 'project_invite' && notification.type !== 'task_assigned' && notification.type !== 'task_comment') && (\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9\" />\n                                </svg>\n                              )}\n                            </div>\n                            <div className=\"ml-3 w-full\">\n                              <p className=\"text-sm leading-tight font-medium mb-1 dark:text-gray-100\">\n                                {notification.message || notification.title}\n                              </p>\n                              <div className=\"flex items-center justify-between\">\n                                <p className=\"text-xs text-gray-500 dark:text-gray-400\">\n                                  {new Date(notification.createdAt).toLocaleString([], {\n                                    month: 'short', \n                                    day: 'numeric',\n                                    hour: '2-digit', \n                                    minute:'2-digit'\n                                  })}\n                                </p>\n                                {!notification.read && (\n                                  <span className=\"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-primary-100 text-primary-800 dark:bg-primary-900 dark:text-primary-300\">\n                                    New\n                                  </span>\n                                )}\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  ) : (\n                    <div className=\"py-12 px-4 text-center\">\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-12 w-12 mx-auto text-gray-400 dark:text-gray-600 mb-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9\" />\n                      </svg>\n                      <p className=\"text-sm text-gray-500 dark:text-gray-400\">No notifications yet</p>\n                      <p className=\"text-xs text-gray-400 dark:text-gray-500 mt-1\">Notifications will appear here</p>\n                    </div>\n                  )}\n                </div>\n                \n                <div className=\"sticky bottom-0 bg-white dark:bg-gray-800 border-t border-gray-100 dark:border-gray-700 p-3 z-10\">\n                  <Link \n                    to=\"/notifications\" \n                    className=\"block w-full text-center text-sm text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 font-medium\"\n                    onClick={() => setShowNotifications(false)}\n                  >\n                    View all notifications\n                  </Link>\n                </div>\n              </div>\n            )}\n          </div>\n          \n          {/* User profile dropdown */}\n          <div className=\"relative\" ref={profileRef}>\n            <button \n              className=\"flex items-center space-x-2 focus:outline-none\"\n              onClick={toggleProfileMenu}\n              aria-expanded={showProfileMenu}\n              aria-haspopup=\"true\"\n            >\n              <div className=\"linear-avatar linear-avatar-sm\">\n                {user?.photo ? (\n                  <img src={user.photo} alt={user.displayName} className=\"h-full w-full object-cover\" />\n                ) : (\n                  <span>\n                    {user?.displayName?.charAt(0) || 'U'}\n                  </span>\n                )}\n              </div>\n              <span className=\"text-sm font-medium text-gray-700 dark:text-gray-300 hidden sm:block\">{user?.displayName}</span>\n            </button>\n            \n            {/* Profile dropdown menu */}\n            {showProfileMenu && (\n              <div className=\"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-50\">\n                <div className=\"py-1\">\n                  <Link \n                    to=\"/profile\" \n                    className=\"block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700\"\n                    onClick={() => setShowProfileMenu(false)}\n                  >\n                    <div className=\"flex items-center\">\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4 mr-2 text-gray-500 dark:text-gray-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\n                      </svg>\n                      <span>Profile</span>\n                    </div>\n                  </Link>\n                  <Link \n                    to=\"/settings\" \n                    className=\"block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700\"\n                    onClick={() => setShowProfileMenu(false)}\n                  >\n                    <div className=\"flex items-center\">\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4 mr-2 text-gray-500 dark:text-gray-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\" />\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n                      </svg>\n                      <span>Settings</span>\n                    </div>\n                  </Link>\n                  <hr className=\"my-1 border-gray-200 dark:border-gray-700\" />\n                  <button \n                    className=\"w-full text-left block px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900 dark:hover:bg-opacity-20\"\n                    onClick={handleLogout}\n                  >\n                    <div className=\"flex items-center\">\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\" />\n                      </svg>\n                      <span>Logout</span>\n                    </div>\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </header>\n  );\n};\n\nHeader.displayName = 'Header';\n\nexport default Header;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}